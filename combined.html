<svg id="clockcap-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="400" viewBox="0, 0, 400,400"><g id="svgg"><path id="path0" d="M214.000 76.726 C 209.600 76.876,205.853 77.019,205.673 77.045 C 205.494 77.070,205.903 77.465,206.583 77.921 C 208.791 79.405,211.385 84.870,211.886 89.093 C 212.064 90.592,211.934 90.950,210.371 93.275 C 207.542 97.485,207.554 97.232,210.194 96.993 C 215.024 96.555,217.578 100.839,213.550 102.621 C 206.018 105.953,200.945 100.789,203.828 92.727 C 205.008 89.428,205.642 86.467,205.338 85.675 C 204.977 84.734,202.667 84.924,201.388 86.000 C 199.486 87.600,197.871 86.716,197.554 83.901 C 197.300 81.647,197.903 80.298,199.959 78.522 L 201.636 77.073 196.909 77.271 C 194.309 77.381,186.782 77.630,180.182 77.827 C 166.131 78.244,151.623 78.781,140.909 79.281 C 136.709 79.476,131.259 79.637,128.797 79.636 C 116.665 79.636,114.503 85.363,119.256 104.909 C 119.645 106.509,122.239 117.064,125.020 128.364 C 127.801 139.664,130.443 150.545,130.891 152.545 C 135.665 173.884,138.822 184.504,142.856 192.805 C 148.625 204.677,155.981 211.002,166.345 213.001 C 170.943 213.888,200.456 213.819,217.273 212.882 C 226.146 212.387,235.516 212.213,256.727 212.149 C 282.370 212.072,285.043 212.006,290.909 211.304 C 319.500 207.886,321.489 205.405,314.683 181.665 C 312.681 174.681,310.526 168.178,302.025 143.455 C 299.481 136.055,295.952 125.745,294.184 120.545 C 289.563 106.955,287.126 101.514,281.156 91.455 C 275.008 81.096,272.353 78.361,267.329 77.213 C 264.520 76.570,228.250 76.239,214.000 76.726 M190.634 81.353 C 195.029 85.327,198.846 103.719,195.519 104.889 C 192.567 105.927,190.369 102.334,187.970 92.545 C 186.992 88.553,187.196 88.764,185.636 90.133 C 181.358 93.890,180.401 86.215,184.634 82.095 C 186.846 79.943,188.807 79.700,190.634 81.353 M240.918 82.551 C 245.971 85.674,249.698 100.566,245.931 102.582 C 243.938 103.649,242.233 101.626,240.163 95.738 C 239.405 93.582,238.649 91.439,238.483 90.975 L 238.181 90.133 237.059 90.975 C 232.965 94.048,230.909 93.876,230.909 90.459 C 230.909 85.376,237.308 80.320,240.918 82.551 M171.003 87.545 C 172.629 89.245,177.091 101.277,177.091 103.963 C 177.091 106.729,174.985 107.296,173.042 105.052 C 172.515 104.444,171.141 101.578,169.988 98.682 C 168.486 94.910,167.753 93.475,167.401 93.618 C 167.130 93.728,166.700 93.904,166.444 94.008 C 165.452 94.413,164.618 93.248,164.450 91.223 C 164.141 87.495,168.574 85.007,171.003 87.545 M160.532 90.582 C 163.692 93.357,168.031 108.234,166.404 110.717 C 164.662 113.375,163.120 111.473,160.025 102.851 L 158.111 97.519 156.556 98.615 C 153.140 101.023,151.479 96.472,154.174 92.088 C 155.820 89.409,158.479 88.779,160.532 90.582 M270.531 102.407 C 272.081 103.712,272.727 105.460,272.727 108.352 C 272.727 110.922,272.472 111.454,268.895 116.342 C 267.270 118.562,267.231 120.665,268.823 120.217 C 271.907 119.347,274.015 119.514,275.020 120.709 C 277.005 123.068,275.735 124.538,270.364 126.102 C 264.172 127.904,263.605 127.552,261.991 120.909 C 261.190 117.614,261.143 117.581,259.246 119.026 C 256.329 121.248,243.215 129.989,236.218 134.375 L 229.345 138.683 232.036 139.916 C 233.516 140.594,237.509 142.346,240.909 143.809 C 252.359 148.737,254.551 149.858,257.893 152.489 C 265.073 158.144,259.314 164.814,250.000 161.630 C 249.000 161.289,243.682 159.002,238.182 156.548 C 225.094 150.710,216.021 146.980,213.090 146.232 C 201.675 143.321,201.913 132.853,213.455 130.180 C 215.758 129.647,215.459 129.838,224.545 123.073 C 241.389 110.532,251.037 105.193,258.727 104.156 C 259.727 104.021,261.282 103.580,262.182 103.175 C 263.082 102.770,264.309 102.224,264.909 101.961 C 266.808 101.129,269.241 101.322,270.531 102.407 M142.182 109.416 C 144.420 110.934,146.297 117.900,146.790 126.518 C 147.047 131.007,146.745 132.000,145.127 132.000 C 142.186 132.000,139.978 127.315,138.742 118.454 C 138.526 116.907,138.429 116.764,137.820 117.090 C 134.602 118.812,132.886 114.426,135.458 111.054 C 137.307 108.629,140.041 107.963,142.182 109.416 M151.626 108.940 C 156.855 110.493,159.682 114.784,159.173 120.398 C 158.486 127.970,150.042 128.755,147.022 121.527 C 145.408 117.666,147.229 108.364,149.598 108.364 C 149.647 108.364,150.559 108.623,151.626 108.940 M151.130 116.212 C 150.161 118.735,152.997 122.215,154.196 119.974 C 154.917 118.626,153.392 115.636,151.983 115.636 C 151.635 115.636,151.251 115.895,151.130 116.212 M281.556 132.728 C 285.468 134.192,286.727 136.358,286.727 141.621 C 286.727 145.417,286.780 145.706,287.702 146.911 C 292.319 152.944,288.663 160.362,281.073 160.363 C 278.173 160.364,277.818 160.055,277.818 157.536 C 277.818 155.482,278.048 155.123,280.832 152.821 C 282.820 151.176,281.913 148.783,278.818 147.508 C 277.118 146.808,277.106 146.232,278.743 144.087 C 281.645 140.286,277.060 137.988,273.146 141.282 C 271.420 142.734,271.273 142.525,271.273 138.633 C 271.273 132.695,275.294 130.386,281.556 132.728 M152.000 137.148 C 155.637 138.462,156.694 140.102,158.017 146.484 C 160.232 157.165,159.297 161.785,154.516 163.779 C 147.630 166.651,141.758 161.657,148.330 158.519 C 150.983 157.252,151.638 156.365,151.631 154.051 C 151.623 151.562,151.374 151.273,148.947 150.944 C 142.170 150.024,141.003 141.228,147.100 137.026 C 148.643 135.963,148.725 135.965,152.000 137.148 M214.932 137.608 C 214.438 138.204,215.297 139.028,216.225 138.848 C 217.201 138.659,217.198 137.984,216.219 137.538 C 215.532 137.225,215.237 137.241,214.932 137.608 M148.800 142.255 C 147.826 143.229,148.582 144.727,150.048 144.727 C 151.155 144.727,151.537 143.440,150.704 142.519 C 149.973 141.712,149.419 141.635,148.800 142.255 M170.109 159.060 C 174.531 161.376,176.251 167.723,174.378 174.807 L 173.684 177.433 174.549 179.280 C 177.426 185.422,173.877 191.498,167.455 191.426 C 160.133 191.344,157.081 185.899,160.534 179.078 L 161.387 177.392 160.249 174.969 C 156.352 166.670,163.284 155.485,170.109 159.060 M166.009 166.891 C 164.526 169.760,166.602 173.784,168.489 171.699 C 169.440 170.648,169.270 168.269,168.149 166.937 C 166.981 165.549,166.707 165.543,166.009 166.891 M285.247 166.376 C 287.159 167.283,289.003 173.248,290.189 182.364 C 290.979 188.439,290.597 188.962,285.716 188.501 C 282.662 188.212,282.249 187.764,281.100 183.489 C 280.200 180.140,279.809 179.745,277.828 180.180 C 274.821 180.840,272.314 179.626,271.679 177.203 C 268.900 166.585,268.904 166.560,273.156 166.551 C 276.788 166.544,276.921 166.676,278.175 171.545 C 278.593 173.165,278.864 173.335,280.031 172.710 C 280.647 172.381,280.735 171.968,280.690 169.620 C 280.616 165.815,281.995 164.833,285.247 166.376 M262.549 180.091 C 263.882 182.277,263.201 183.231,258.470 185.800 L 255.666 187.322 256.409 189.206 C 256.818 190.243,257.183 191.122,257.221 191.161 C 257.260 191.199,258.574 190.649,260.143 189.937 C 265.951 187.303,271.273 189.940,271.273 195.453 C 271.273 200.061,264.711 205.741,262.106 203.387 C 259.535 201.064,259.507 199.534,262.003 197.816 C 265.453 195.442,263.627 194.076,259.091 195.636 C 254.859 197.092,253.758 196.381,250.574 190.134 C 248.050 185.183,248.314 184.717,255.794 180.925 C 260.492 178.544,261.528 178.416,262.549 180.091 M165.891 181.164 C 164.929 182.126,166.222 184.727,167.663 184.727 C 168.797 184.727,169.908 183.393,169.465 182.565 C 168.792 181.308,166.604 180.450,165.891 181.164 M200.523 181.510 C 202.560 182.438,203.466 186.688,202.527 190.909 C 201.254 196.636,195.525 205.301,193.198 205.022 C 190.539 204.704,190.421 201.961,192.748 194.539 C 194.212 189.871,194.234 189.974,191.789 190.126 C 186.968 190.426,186.625 185.498,191.287 182.922 C 194.308 181.252,198.537 180.606,200.523 181.510 M235.636 188.688 C 236.986 189.061,236.947 190.224,235.492 192.963 C 234.043 195.693,234.060 195.812,236.032 196.601 C 242.943 199.366,239.432 209.091,231.523 209.091 C 224.548 209.091,222.517 200.341,227.639 192.359 C 229.815 188.969,232.386 187.789,235.636 188.688 M231.879 200.242 C 231.745 200.376,231.636 200.916,231.636 201.442 C 231.636 203.208,233.264 203.976,233.660 202.398 C 234.032 200.917,232.752 199.369,231.879 200.242 " stroke="none" fill="#fa0404" fill-rule="evenodd"></path><path id="path1" d="M202.182 78.949 C 200.738 79.530,199.301 81.116,199.061 82.396 C 198.606 84.822,199.767 85.908,201.081 84.286 C 201.974 83.183,205.622 83.106,206.402 84.173 C 207.291 85.389,207.009 88.425,205.636 92.414 C 203.017 100.028,205.368 103.302,212.111 101.430 C 215.344 100.532,213.818 98.373,210.135 98.635 C 206.352 98.903,205.502 97.621,207.517 94.687 C 210.900 89.760,210.644 90.401,210.160 88.091 C 208.807 81.633,205.353 77.674,202.182 78.949 M185.910 83.055 C 183.935 84.845,182.434 89.455,183.826 89.455 C 184.130 89.455,184.901 88.713,185.540 87.807 C 187.404 85.162,187.806 85.591,189.461 92.000 C 191.506 99.918,193.013 103.273,194.525 103.273 C 197.408 103.273,192.729 85.158,189.104 82.284 C 188.180 81.552,187.347 81.753,185.910 83.055 M235.878 84.711 C 234.221 86.238,232.364 89.469,232.364 90.823 C 232.364 92.147,233.573 91.809,235.965 89.818 C 239.049 87.252,238.826 87.109,240.853 92.944 C 244.602 103.737,247.735 104.102,245.044 93.433 C 242.821 84.622,239.452 81.416,235.878 84.711 M166.795 89.020 C 165.846 90.011,165.479 91.747,166.133 92.152 C 166.306 92.259,166.737 92.027,167.091 91.636 C 168.143 90.473,168.733 91.385,171.800 98.909 C 173.740 103.670,174.339 104.727,175.099 104.727 C 176.308 104.727,174.536 98.691,170.883 90.364 C 169.744 87.767,168.415 87.330,166.795 89.020 M156.980 91.586 C 155.149 92.793,153.979 95.246,154.411 96.969 C 154.703 98.130,155.199 98.038,156.734 96.539 L 158.043 95.260 158.793 96.085 C 159.206 96.538,160.076 98.382,160.728 100.182 C 164.286 110.005,165.409 111.973,164.963 107.604 C 164.401 102.094,161.786 94.243,159.817 92.156 C 158.456 90.712,158.341 90.689,156.980 91.586 M264.943 103.566 L 263.522 104.205 264.505 104.849 C 267.774 106.991,267.673 110.421,264.217 114.665 L 262.515 116.754 263.273 119.559 C 265.069 126.201,264.966 126.124,269.948 124.533 C 273.396 123.432,274.182 123.035,274.182 122.395 C 274.182 121.247,273.216 121.003,270.557 121.478 C 265.327 122.412,264.362 118.813,268.579 114.107 C 273.706 108.387,271.090 100.805,264.943 103.566 M138.217 110.642 C 136.239 111.658,134.817 115.345,136.198 115.875 C 136.673 116.057,137.128 115.797,137.851 114.932 C 139.192 113.325,139.441 113.607,140.156 117.538 C 141.632 125.656,142.461 128.216,144.113 129.758 C 145.394 130.955,145.543 130.252,145.111 125.071 C 144.146 113.495,141.883 108.758,138.217 110.642 M149.596 110.455 C 147.103 112.135,147.317 120.417,149.926 123.211 C 155.055 128.704,160.236 120.962,156.145 113.919 C 154.877 111.735,150.854 109.608,149.596 110.455 M153.710 114.531 C 156.917 116.486,156.800 122.545,153.555 122.545 C 151.063 122.545,149.324 120.331,149.308 117.139 C 149.293 114.092,151.168 112.981,153.710 114.531 M274.690 134.148 C 273.075 134.881,272.740 135.550,272.732 138.056 L 272.727 139.566 274.606 138.852 C 279.627 136.945,283.275 140.545,280.391 144.561 L 279.282 146.105 280.221 146.341 C 283.941 147.275,284.578 152.096,281.317 154.633 C 279.396 156.128,279.285 156.300,279.278 157.780 L 279.273 159.014 281.626 158.794 C 287.836 158.215,290.156 152.860,286.355 147.881 L 285.091 146.225 285.091 142.076 C 285.091 135.106,280.420 131.546,274.690 134.148 M146.919 139.142 C 142.800 142.990,144.616 149.455,149.816 149.455 C 152.393 149.455,152.909 150.215,152.909 154.014 C 152.909 157.557,152.222 158.618,149.048 159.984 C 146.005 161.293,146.780 162.909,150.451 162.909 C 156.379 162.909,158.412 159.582,157.302 151.698 C 156.047 142.777,155.079 140.335,152.264 138.989 C 149.224 137.536,148.619 137.553,146.919 139.142 M151.835 141.256 C 153.701 143.123,152.500 146.545,149.979 146.545 C 148.511 146.545,146.909 144.856,146.909 143.309 C 146.909 140.554,149.890 139.311,151.835 141.256 M165.960 160.521 C 160.925 162.712,159.253 168.323,161.781 174.545 C 163.122 177.848,163.156 178.027,162.537 178.617 C 159.804 181.223,160.237 187.339,163.264 188.905 C 169.751 192.259,176.048 186.992,173.274 180.532 C 172.064 177.714,172.019 177.204,172.753 174.638 C 175.168 166.192,171.317 158.189,165.960 160.521 M341.539 163.636 C 341.539 164.336,341.614 164.623,341.705 164.273 C 341.797 163.923,341.797 163.350,341.705 163.000 C 341.614 162.650,341.539 162.936,341.539 163.636 M169.651 166.122 C 171.952 168.881,170.518 173.818,167.414 173.818 C 163.619 173.818,162.643 167.433,166.031 164.768 C 167.175 163.868,168.041 164.192,169.651 166.122 M282.308 167.832 C 282.186 168.149,282.188 169.265,282.311 170.313 C 282.577 172.577,282.017 173.620,280.108 174.418 C 277.903 175.339,277.441 174.829,275.944 169.818 L 275.455 168.182 273.364 168.073 C 270.877 167.943,270.955 167.532,272.352 173.423 C 273.595 178.667,273.463 178.533,277.364 178.540 C 281.040 178.547,281.403 178.832,282.507 182.585 C 283.750 186.816,283.759 186.828,285.612 187.106 C 287.899 187.449,289.091 187.099,289.091 186.084 C 289.091 182.577,286.150 169.242,285.173 168.318 C 284.212 167.409,282.577 167.131,282.308 167.832 M170.542 181.351 C 172.627 184.002,169.476 187.140,166.041 185.834 C 163.543 184.884,163.486 180.390,165.955 179.025 C 166.782 178.567,169.394 179.891,170.542 181.351 M256.088 182.560 C 249.815 185.788,249.986 185.482,252.133 189.623 C 253.106 191.500,254.343 193.458,254.882 193.974 L 255.861 194.912 258.904 194.002 C 263.600 192.596,264.691 192.862,265.262 195.552 C 265.524 196.780,264.303 198.466,262.364 199.554 C 261.685 199.936,261.673 200.031,262.193 200.981 C 262.974 202.408,264.237 202.458,266.067 201.132 C 273.385 195.831,268.777 187.641,260.600 191.418 C 257.109 193.030,256.549 193.049,255.788 191.577 C 254.047 188.211,253.719 185.818,254.999 185.818 C 255.440 185.818,261.045 182.551,261.293 182.148 C 261.573 181.696,261.129 180.364,260.699 180.364 C 260.511 180.364,258.436 181.352,256.088 182.560 M194.224 183.276 C 188.380 185.378,187.509 188.595,192.818 188.471 C 194.874 188.423,196.000 188.533,196.000 188.784 C 196.000 188.997,195.435 190.994,194.744 193.222 C 191.272 204.419,191.967 206.340,196.961 199.358 C 200.509 194.398,202.151 188.521,201.073 184.641 C 200.448 182.390,198.027 181.908,194.224 183.276 M230.550 191.130 C 223.989 197.058,225.711 209.577,232.818 207.615 C 238.399 206.074,239.999 200.385,235.490 198.119 C 232.295 196.513,232.125 195.884,233.977 192.515 C 235.334 190.046,235.256 189.818,233.062 189.818 C 232.355 189.818,231.518 190.255,230.550 191.130 M234.210 199.245 C 236.700 201.735,234.516 206.268,231.582 204.698 C 229.733 203.708,229.496 200.229,231.188 198.898 C 232.417 197.931,232.959 197.993,234.210 199.245 " stroke="none" fill="#004cff" fill-rule="evenodd"></path><path id="path2" d="M319.091 131.793 C 318.091 132.075,316.502 132.638,315.561 133.043 L 313.848 133.779 314.710 136.253 C 315.183 137.614,316.090 140.118,316.725 141.818 C 319.631 149.599,322.991 159.181,323.832 162.086 C 324.339 163.839,325.228 166.827,325.806 168.727 C 326.385 170.627,327.037 172.869,327.256 173.709 L 327.655 175.236 329.555 175.040 C 338.610 174.104,339.793 173.504,340.891 169.287 C 342.831 161.832,338.493 137.184,334.629 133.708 C 332.323 131.633,323.503 130.546,319.091 131.793 " stroke="none" fill="#04fa0c" fill-rule="evenodd"></path><path id="path3" d="M236.727 57.648 C 236.227 57.718,229.471 57.973,221.714 58.216 C 213.212 58.482,207.521 58.801,207.386 59.020 C 207.238 59.259,208.521 59.302,211.126 59.148 C 225.827 58.273,233.501 58.046,249.091 58.025 C 265.685 58.001,269.711 58.170,276.091 59.155 C 276.874 59.276,277.455 59.216,277.455 59.013 C 277.455 58.138,241.774 56.942,236.727 57.648 M203.000 59.533 C 203.550 59.617,204.450 59.617,205.000 59.533 C 205.550 59.450,205.100 59.382,204.000 59.382 C 202.900 59.382,202.450 59.450,203.000 59.533 M280.033 59.962 C 281.151 60.320,282.256 60.730,282.487 60.873 C 282.719 61.017,282.909 60.990,282.909 60.815 C 282.909 60.479,279.389 59.259,278.513 59.292 C 278.231 59.303,278.915 59.605,280.033 59.962 M193.753 60.151 C 191.217 60.373,189.014 60.683,188.856 60.841 C 188.568 61.129,189.636 61.051,197.636 60.194 C 202.962 59.624,200.131 59.593,193.753 60.151 M234.364 60.584 C 211.973 61.454,202.769 62.036,192.000 63.260 C 164.062 66.436,158.430 66.653,135.636 65.437 C 113.759 64.270,105.782 65.536,100.470 71.019 L 98.639 72.909 98.935 77.455 C 99.212 81.698,100.003 87.488,101.247 94.364 C 101.536 95.964,102.342 100.382,103.037 104.182 C 104.830 113.982,105.741 120.079,106.366 126.455 C 106.665 129.505,107.148 134.415,107.440 137.366 C 110.006 163.276,123.960 203.668,134.531 215.786 C 145.116 227.920,163.546 232.917,191.636 231.268 C 217.779 229.733,220.218 229.651,267.814 228.713 C 297.640 228.126,306.550 227.458,316.311 225.080 C 325.285 222.894,330.077 220.751,333.755 217.282 C 337.265 213.971,337.454 215.566,331.118 194.988 C 329.042 188.245,326.251 179.045,324.916 174.545 C 322.274 165.639,317.902 152.020,316.569 148.545 C 312.900 138.976,305.826 118.973,300.753 103.818 C 287.894 65.410,286.029 62.605,272.364 61.124 C 268.900 60.748,240.505 60.345,234.364 60.584 M184.697 61.239 C 184.614 61.321,182.009 61.573,178.909 61.798 C 173.240 62.211,171.093 62.487,171.371 62.765 C 171.536 62.930,182.589 61.939,185.818 61.470 C 187.692 61.198,187.725 61.177,186.333 61.135 C 185.517 61.111,184.780 61.158,184.697 61.239 M283.455 61.325 C 285.306 62.968,285.988 63.447,285.274 62.603 C 284.878 62.134,284.224 61.582,283.822 61.376 C 283.420 61.170,283.255 61.147,283.455 61.325 M111.331 62.612 C 109.006 63.132,109.705 63.337,112.211 62.870 C 113.593 62.613,118.337 62.518,125.455 62.604 C 131.555 62.679,136.055 62.633,135.455 62.504 C 133.722 62.129,113.077 62.222,111.331 62.612 M138.000 62.914 C 139.438 63.227,143.172 63.399,142.879 63.138 C 142.795 63.063,141.336 62.911,139.636 62.799 C 137.429 62.654,136.961 62.687,138.000 62.914 M169.668 62.817 C 169.518 62.967,163.723 63.191,156.789 63.315 L 144.182 63.541 156.727 63.467 C 164.918 63.419,169.588 63.254,170.182 62.992 C 170.731 62.750,170.863 62.582,170.515 62.569 C 170.198 62.556,169.817 62.668,169.668 62.817 M105.636 64.344 C 103.720 65.251,104.088 65.269,106.364 64.380 C 107.364 63.990,107.936 63.667,107.636 63.663 C 107.336 63.659,106.436 63.965,105.636 64.344 M101.949 66.154 C 101.321 66.537,100.696 67.030,100.560 67.249 C 100.356 67.579,102.705 66.144,103.233 65.616 C 103.588 65.261,103.030 65.494,101.949 66.154 M98.182 69.273 C 97.299 70.173,96.658 70.909,96.758 70.909 C 96.858 70.909,97.662 70.173,98.545 69.273 C 99.429 68.373,100.070 67.636,99.970 67.636 C 99.870 67.636,99.065 68.373,98.182 69.273 M290.149 69.273 C 290.780 70.506,291.261 71.111,291.267 70.677 C 291.270 70.449,290.936 69.876,290.525 69.404 C 289.937 68.729,289.857 68.701,290.149 69.273 M254.000 74.171 C 273.633 74.637,274.190 74.936,283.059 89.782 C 290.355 101.995,291.531 104.915,304.157 142.182 C 305.817 147.082,307.868 153.055,308.714 155.455 C 312.196 165.333,314.918 173.641,316.522 179.288 C 317.457 182.580,318.529 186.336,318.905 187.636 C 323.897 204.935,319.295 209.934,295.273 213.304 L 288.182 214.299 256.000 214.585 C 238.300 214.742,221.936 215.030,219.636 215.226 C 202.825 216.658,170.191 216.466,163.662 214.898 C 147.704 211.064,138.280 196.051,130.570 162.182 C 130.138 160.282,129.551 157.745,129.267 156.545 C 128.982 155.345,128.324 152.482,127.804 150.182 C 127.285 147.882,124.585 136.836,121.806 125.636 C 114.115 94.648,113.369 89.657,115.580 83.971 C 117.667 78.607,119.686 77.610,129.091 77.303 C 132.991 77.176,139.618 76.917,143.818 76.729 C 157.899 76.097,201.489 74.581,216.364 74.207 C 231.795 73.818,238.834 73.811,254.000 74.171 M93.358 75.366 L 92.717 76.545 93.449 75.687 C 94.073 74.956,94.406 74.176,94.091 74.184 C 94.041 74.185,93.711 74.717,93.358 75.366 M95.114 77.728 C 92.958 81.112,86.395 91.991,82.117 99.273 C 79.179 104.274,74.970 112.577,74.375 114.545 C 73.955 115.937,59.748 144.127,58.890 145.273 C 57.214 147.511,52.569 159.995,51.613 164.831 C 49.592 175.054,51.083 183.221,58.698 203.636 C 65.468 221.785,68.462 230.738,73.777 248.727 C 74.989 252.827,76.299 257.245,76.689 258.545 C 77.079 259.845,78.163 263.527,79.097 266.727 C 81.416 274.666,83.908 282.356,89.407 298.545 C 93.116 309.463,95.808 317.223,97.103 320.727 C 97.731 322.427,98.413 324.277,98.619 324.837 C 99.145 326.270,99.213 326.075,99.807 321.422 C 104.378 285.608,112.935 256.835,128.203 225.936 C 133.529 215.157,133.141 217.024,130.771 213.574 C 124.076 203.829,116.000 183.396,109.869 160.691 C 107.851 153.215,106.423 144.141,105.098 130.364 C 104.067 119.651,103.232 113.976,100.711 100.545 C 98.407 88.269,97.455 81.550,97.455 77.569 C 97.455 74.253,97.322 74.262,95.114 77.728 M92.093 77.182 C 91.895 77.432,91.538 78.045,91.301 78.545 C 90.798 79.603,91.709 78.627,92.403 77.364 C 92.808 76.627,92.619 76.517,92.093 77.182 M293.845 77.000 C 293.860 77.150,294.187 77.927,294.572 78.727 C 295.227 80.091,295.187 79.366,294.506 77.545 C 294.215 76.769,293.787 76.416,293.845 77.000 M89.346 81.636 C 89.012 82.336,88.802 82.909,88.879 82.909 C 88.956 82.909,89.357 82.336,89.770 81.636 C 90.183 80.936,90.393 80.364,90.237 80.364 C 90.081 80.364,89.680 80.936,89.346 81.636 M296.273 83.078 C 296.604 83.971,296.930 84.645,296.998 84.577 C 297.205 84.371,296.206 81.455,295.929 81.455 C 295.787 81.455,295.942 82.185,296.273 83.078 M88.093 83.727 C 87.578 84.377,86.854 85.818,87.042 85.818 C 87.129 85.818,87.539 85.245,87.952 84.545 C 88.702 83.274,88.772 82.870,88.093 83.727 M85.578 87.909 C 85.029 88.859,84.487 89.718,84.374 89.818 C 84.099 90.060,83.252 92.000,83.421 92.000 C 83.494 92.000,84.250 90.814,85.102 89.364 C 87.081 85.996,86.983 86.182,86.764 86.182 C 86.661 86.182,86.127 86.959,85.578 87.909 M298.226 88.372 C 298.776 90.000,299.086 90.316,298.753 88.909 C 298.610 88.309,298.337 87.658,298.146 87.463 C 297.955 87.267,297.991 87.677,298.226 88.372 M299.664 92.564 C 299.679 92.754,299.923 93.482,300.206 94.182 L 300.721 95.455 300.504 94.182 C 300.311 93.047,299.592 91.663,299.664 92.564 M82.275 93.545 C 81.760 94.195,81.036 95.636,81.224 95.636 C 81.311 95.636,81.721 95.064,82.134 94.364 C 82.884 93.092,82.954 92.688,82.275 93.545 M80.093 97.182 C 79.895 97.432,79.538 98.045,79.301 98.545 C 78.798 99.603,79.709 98.627,80.403 97.364 C 80.808 96.627,80.619 96.517,80.093 97.182 M301.875 99.091 C 301.874 99.291,302.094 100.027,302.364 100.727 C 302.633 101.427,302.859 101.755,302.865 101.455 C 302.871 101.155,302.652 100.418,302.377 99.818 C 302.102 99.218,301.876 98.891,301.875 99.091 M74.611 107.314 C 72.531 111.686,72.809 111.763,74.991 107.420 C 75.937 105.539,76.591 104.003,76.446 104.006 C 76.301 104.009,75.475 105.497,74.611 107.314 M304.044 105.826 C 304.595 107.455,304.905 107.771,304.571 106.364 C 304.429 105.764,304.156 105.113,303.964 104.917 C 303.773 104.722,303.809 105.131,304.044 105.826 M306.112 112.193 C 306.416 113.287,306.728 114.121,306.804 114.045 C 307.009 113.840,306.136 110.560,305.825 110.368 C 305.678 110.277,305.807 111.098,306.112 112.193 M71.778 113.312 C 71.477 114.034,71.322 114.715,71.433 114.827 C 71.545 114.939,71.636 114.941,71.636 114.832 C 71.636 114.723,71.884 114.042,72.187 113.317 C 72.489 112.593,72.645 112.000,72.532 112.000 C 72.419 112.000,72.080 112.590,71.778 113.312 M66.814 123.723 C 65.284 126.759,64.097 129.310,64.178 129.390 C 64.259 129.471,65.566 127.042,67.083 123.992 C 68.600 120.942,69.786 118.392,69.719 118.325 C 69.652 118.258,68.345 120.687,66.814 123.723 M309.862 122.917 C 310.413 124.546,310.723 124.862,310.389 123.455 C 310.247 122.855,309.974 122.204,309.783 122.008 C 309.591 121.813,309.627 122.222,309.862 122.917 M312.235 129.626 C 312.944 131.709,312.922 131.701,315.091 130.682 C 316.091 130.212,316.696 129.825,316.436 129.823 C 316.177 129.820,315.466 130.075,314.858 130.390 C 313.455 131.116,312.859 130.881,312.552 129.483 C 312.418 128.872,312.165 128.284,311.991 128.176 C 311.816 128.068,311.926 128.721,312.235 129.626 M319.182 128.839 C 318.032 129.042,317.091 129.346,317.091 129.513 C 317.091 129.920,317.299 129.900,319.636 129.273 C 322.248 128.572,328.092 128.569,330.397 129.269 C 332.509 129.909,332.364 129.890,332.364 129.527 C 332.364 128.526,323.552 128.066,319.182 128.839 M333.121 129.939 C 333.751 130.439,336.699 131.885,336.529 131.610 C 336.305 131.247,333.672 129.818,333.227 129.818 C 333.085 129.818,333.038 129.872,333.121 129.939 M59.959 137.182 C 59.528 138.032,59.071 138.809,58.944 138.909 C 58.591 139.186,57.771 141.165,57.939 141.333 C 58.020 141.414,58.771 140.166,59.607 138.559 C 60.444 136.951,61.041 135.636,60.935 135.636 C 60.829 135.636,60.389 136.332,59.959 137.182 M339.555 138.175 C 339.874 139.171,340.191 139.930,340.261 139.860 C 340.472 139.649,339.504 136.364,339.231 136.364 C 339.091 136.364,339.237 137.179,339.555 138.175 M341.390 144.538 C 341.700 145.834,342.015 146.833,342.090 146.758 C 342.308 146.541,341.334 142.182,341.068 142.182 C 340.935 142.182,341.080 143.242,341.390 144.538 M56.453 143.727 C 56.079 144.194,55.402 146.145,55.727 145.818 C 56.032 145.511,57.119 143.273,56.963 143.273 C 56.882 143.273,56.653 143.477,56.453 143.727 M54.075 148.602 C 53.222 150.904,53.529 151.007,54.473 148.736 C 54.891 147.731,55.113 146.909,54.967 146.909 C 54.822 146.909,54.420 147.671,54.075 148.602 M52.834 151.728 C 52.083 153.345,51.637 154.588,51.652 155.017 C 51.660 155.258,52.069 154.486,52.560 153.303 C 53.414 151.247,53.627 150.019,52.834 151.728 M343.176 154.273 C 343.437 156.320,343.636 156.474,343.636 154.628 C 343.636 153.806,343.488 153.042,343.307 152.930 C 343.120 152.814,343.063 153.391,343.176 154.273 M343.745 158.182 C 343.745 159.282,343.814 159.732,343.897 159.182 C 343.980 158.632,343.980 157.732,343.897 157.182 C 343.814 156.632,343.745 157.082,343.745 158.182 M50.257 158.369 C 49.592 160.857,49.754 161.160,50.545 158.909 C 51.380 156.538,51.341 156.727,50.985 156.727 C 50.826 156.727,50.499 157.466,50.257 158.369 M344.119 163.818 C 344.121 165.218,344.187 165.746,344.265 164.992 C 344.344 164.237,344.343 163.092,344.262 162.446 C 344.182 161.801,344.118 162.418,344.119 163.818 M48.418 165.545 C 47.639 171.125,48.164 183.636,49.178 183.636 C 49.378 183.636,49.431 183.228,49.299 182.703 C 48.095 177.904,48.101 167.180,49.311 163.182 C 49.417 162.832,49.354 162.545,49.171 162.545 C 48.987 162.545,48.649 163.895,48.418 165.545 M343.554 168.727 C 343.443 169.627,343.225 170.677,343.069 171.060 C 342.876 171.534,342.915 171.676,343.190 171.506 C 343.635 171.230,344.170 168.326,343.915 167.568 C 343.827 167.306,343.664 167.827,343.554 168.727 M334.182 176.935 L 331.091 177.407 333.907 177.218 C 335.455 177.114,337.173 176.894,337.725 176.728 C 339.161 176.296,337.866 176.371,334.182 176.935 M328.592 177.742 C 328.495 177.900,328.976 177.964,329.662 177.884 C 330.348 177.804,330.909 177.675,330.909 177.597 C 330.909 177.323,328.768 177.457,328.592 177.742 M329.096 180.069 C 329.119 180.544,330.511 184.439,330.526 184.070 C 330.560 183.235,329.740 180.359,329.410 180.154 C 329.234 180.046,329.093 180.008,329.096 180.069 M49.482 184.378 C 49.432 185.401,50.808 190.407,51.066 190.143 C 51.143 190.064,50.824 188.609,50.357 186.909 C 49.891 185.209,49.497 184.070,49.482 184.378 M330.937 186.091 C 330.952 186.241,331.200 186.936,331.487 187.636 L 332.009 188.909 331.823 187.682 C 331.720 187.007,331.636 186.311,331.636 186.136 C 331.636 185.961,331.473 185.818,331.273 185.818 C 331.073 185.818,330.922 185.941,330.937 186.091 M332.051 189.455 C 332.051 189.755,332.192 190.327,332.364 190.727 C 332.561 191.186,332.676 191.253,332.676 190.909 C 332.676 190.609,332.536 190.036,332.364 189.636 C 332.167 189.178,332.051 189.111,332.051 189.455 M51.663 191.855 C 51.648 192.075,51.814 192.811,52.032 193.491 C 52.250 194.171,52.499 194.955,52.586 195.234 C 52.673 195.512,52.822 195.663,52.916 195.568 C 53.011 195.474,52.774 194.509,52.389 193.425 C 52.004 192.341,51.678 191.635,51.663 191.855 M333.300 193.637 C 333.660 195.102,334.492 197.363,334.504 196.909 C 334.521 196.248,333.616 193.132,333.321 192.837 C 333.162 192.677,333.152 193.038,333.300 193.637 M53.604 197.683 C 53.729 198.009,54.012 198.994,54.233 199.871 C 54.454 200.749,54.806 201.573,55.016 201.702 C 55.236 201.839,55.316 201.721,55.206 201.423 C 55.101 201.140,54.733 200.050,54.387 199.000 C 54.042 197.950,53.674 197.091,53.568 197.091 C 53.463 197.091,53.479 197.357,53.604 197.683 M334.921 199.000 C 334.991 199.533,336.343 202.975,336.352 202.642 C 336.374 201.787,335.484 198.909,335.197 198.909 C 335.039 198.909,334.914 198.950,334.921 199.000 M55.422 202.774 C 55.547 203.100,55.830 204.082,56.050 204.956 C 56.270 205.830,56.583 206.545,56.747 206.545 C 56.910 206.545,56.712 205.564,56.306 204.364 C 55.901 203.164,55.485 202.182,55.382 202.182 C 55.279 202.182,55.297 202.448,55.422 202.774 M336.916 205.273 C 337.046 205.673,337.408 207.026,337.721 208.279 C 338.034 209.533,338.351 210.498,338.425 210.423 C 338.672 210.177,337.740 206.380,337.206 205.455 C 336.863 204.861,336.763 204.798,336.916 205.273 M57.470 208.150 C 57.440 208.802,58.732 212.358,59.000 212.361 C 59.150 212.362,59.273 212.310,59.273 212.244 C 59.273 211.925,57.483 207.862,57.470 208.150 M59.400 213.273 C 59.860 215.424,60.552 217.455,60.827 217.455 C 61.184 217.455,60.933 216.529,59.938 214.182 C 59.557 213.282,59.315 212.873,59.400 213.273 M339.152 214.091 C 339.514 215.497,339.517 225.046,339.156 226.364 C 338.926 227.206,338.956 227.358,339.291 227.029 C 340.193 226.143,340.137 213.091,339.232 213.091 C 339.045 213.091,339.009 213.535,339.152 214.091 M334.485 218.798 C 330.794 222.229,326.224 224.275,317.224 226.525 C 305.530 229.449,299.416 229.829,249.455 230.733 C 233.155 231.028,217.036 231.441,213.636 231.649 C 210.236 231.858,204.755 232.191,201.455 232.390 C 180.127 233.675,162.421 232.833,155.522 230.208 C 154.959 229.993,154.356 229.818,154.183 229.818 C 153.205 229.818,144.357 249.209,139.996 260.909 C 137.620 267.283,133.914 279.960,131.703 289.273 C 129.484 298.618,128.645 303.271,124.919 326.909 C 123.716 334.545,122.942 339.221,122.700 340.317 C 122.509 341.179,122.510 341.180,125.164 340.942 C 139.971 339.619,161.156 339.005,208.000 338.543 C 248.482 338.143,256.086 337.757,277.091 335.035 C 301.280 331.900,304.718 329.645,311.386 312.545 C 318.075 295.387,321.351 284.971,327.849 260.182 C 336.683 226.488,337.131 224.533,337.013 220.265 L 336.909 216.545 334.485 218.798 M132.819 220.091 C 125.675 232.850,115.013 259.695,110.397 276.545 C 109.685 279.145,108.868 282.091,108.582 283.091 C 106.339 290.926,104.166 302.117,102.369 315.091 C 101.842 318.891,101.181 323.533,100.901 325.407 C 100.326 329.242,100.338 329.288,102.915 333.091 C 106.760 338.764,111.462 341.091,119.080 341.091 L 121.016 341.091 121.406 338.818 C 121.620 337.568,121.971 335.318,122.186 333.818 C 122.400 332.318,122.904 329.045,123.305 326.545 C 123.706 324.045,124.359 319.955,124.756 317.455 C 130.432 281.693,136.607 261.059,149.439 234.976 C 152.481 228.792,152.415 229.306,150.273 228.504 C 146.068 226.930,140.264 223.401,136.490 220.125 C 133.784 217.775,134.114 217.778,132.819 220.091 M61.455 219.140 C 61.455 219.795,62.383 222.458,62.832 223.091 C 63.116 223.491,63.259 223.573,63.150 223.273 C 63.042 222.973,62.686 221.868,62.360 220.818 C 61.839 219.142,61.455 218.429,61.455 219.140 M63.299 224.122 C 63.237 224.840,64.544 229.091,64.828 229.091 C 65.154 229.091,65.042 228.636,63.973 225.636 C 63.617 224.636,63.314 223.955,63.299 224.122 M337.842 231.298 C 337.601 232.525,337.309 233.798,337.194 234.128 C 337.053 234.530,337.105 234.608,337.352 234.364 C 337.749 233.971,338.698 229.486,338.438 229.226 C 338.352 229.140,338.083 230.072,337.842 231.298 M65.469 231.049 C 65.461 231.226,65.646 232.044,65.879 232.867 C 66.382 234.638,67.091 235.624,66.694 234.000 C 66.383 232.730,65.490 230.577,65.469 231.049 M67.101 236.000 C 67.722 238.997,68.545 241.818,68.798 241.818 C 69.172 241.818,69.247 242.142,67.996 238.364 C 67.400 236.564,66.997 235.500,67.101 236.000 M335.652 240.097 C 335.386 241.144,335.083 242.231,334.977 242.514 C 334.871 242.800,334.947 242.929,335.149 242.804 C 335.530 242.568,336.537 238.598,336.281 238.342 C 336.200 238.261,335.917 239.051,335.652 240.097 M69.122 242.486 C 69.070 243.300,70.316 247.636,70.602 247.636 C 70.836 247.636,70.545 246.455,69.437 242.909 C 69.281 242.409,69.139 242.219,69.122 242.486 M333.498 248.161 C 333.006 250.115,332.992 250.432,333.417 249.982 C 333.770 249.608,334.356 246.545,334.075 246.545 C 333.981 246.545,333.721 247.272,333.498 248.161 M71.301 249.930 C 71.245 250.510,72.105 253.644,72.413 253.982 C 72.603 254.191,72.716 254.120,72.699 253.800 C 72.665 253.171,71.342 249.506,71.301 249.930 M331.572 255.826 C 331.262 257.121,331.128 258.182,331.275 258.182 C 331.560 258.182,332.509 253.842,332.275 253.608 C 332.198 253.532,331.882 254.530,331.572 255.826 M73.287 256.727 C 74.105 260.680,74.323 261.455,74.620 261.455 C 74.980 261.455,74.960 261.365,73.831 258.000 C 73.428 256.800,73.184 256.227,73.287 256.727 M329.906 262.092 C 329.686 263.042,329.395 264.105,329.259 264.455 C 329.124 264.805,329.162 265.091,329.343 265.091 C 329.674 265.091,330.714 260.775,330.448 260.509 C 330.370 260.430,330.126 261.143,329.906 262.092 M74.909 261.917 C 74.909 262.765,76.126 267.161,76.442 267.455 C 76.716 267.708,76.765 267.622,76.606 267.170 C 76.480 266.814,76.114 265.505,75.793 264.261 C 75.272 262.248,74.909 261.285,74.909 261.917 M327.840 269.727 C 327.709 270.277,327.509 271.055,327.396 271.455 C 327.260 271.936,327.313 272.059,327.551 271.818 C 327.921 271.446,328.524 268.727,328.238 268.727 C 328.150 268.727,327.972 269.177,327.840 269.727 M77.258 270.182 C 77.875 273.291,78.337 274.909,78.610 274.909 C 78.782 274.909,78.812 274.459,78.676 273.909 C 78.317 272.450,77.046 269.110,77.258 270.182 M326.031 276.459 C 325.676 277.907,325.306 279.295,325.208 279.545 C 325.110 279.795,325.180 280.000,325.362 280.000 C 325.694 280.000,327.086 274.237,326.818 273.969 C 326.740 273.892,326.386 275.012,326.031 276.459 M79.433 277.679 C 79.564 278.202,79.766 279.102,79.881 279.679 C 79.997 280.255,80.252 280.727,80.448 280.727 C 80.644 280.727,80.715 280.492,80.604 280.205 C 80.494 279.917,80.225 279.017,80.006 278.205 C 79.787 277.392,79.515 276.727,79.401 276.727 C 79.287 276.727,79.301 277.155,79.433 277.679 M81.320 283.273 C 81.593 284.805,82.146 286.339,82.350 286.135 C 82.431 286.053,82.182 285.090,81.796 283.993 C 81.320 282.645,81.166 282.412,81.320 283.273 M323.735 284.533 C 323.494 285.319,323.368 286.035,323.456 286.123 C 323.707 286.374,324.405 284.304,324.284 283.671 C 324.223 283.359,323.977 283.746,323.735 284.533 M83.459 289.818 C 83.566 290.318,83.752 291.177,83.872 291.727 C 83.993 292.277,84.245 292.727,84.434 292.727 C 84.807 292.727,84.559 291.708,83.769 290.000 C 83.341 289.073,83.294 289.046,83.459 289.818 M322.178 289.485 C 322.176 289.568,321.938 290.414,321.650 291.364 C 321.362 292.314,321.248 293.091,321.397 293.091 C 321.734 293.091,322.640 289.792,322.375 289.527 C 322.269 289.420,322.180 289.402,322.178 289.485 M84.861 293.636 C 85.253 295.550,85.996 297.818,86.232 297.818 C 86.523 297.818,86.187 296.574,85.298 294.364 C 84.976 293.564,84.780 293.236,84.861 293.636 M320.360 294.939 C 320.358 295.023,320.120 295.868,319.832 296.818 C 319.543 297.768,319.436 298.545,319.592 298.545 C 319.903 298.545,320.763 295.187,320.516 294.940 C 320.432 294.856,320.362 294.856,320.360 294.939 M86.695 299.138 C 86.820 299.463,87.103 300.448,87.324 301.326 C 87.545 302.203,87.897 303.027,88.107 303.157 C 88.327 303.293,88.407 303.176,88.297 302.878 C 88.192 302.595,87.823 301.505,87.478 300.455 C 87.133 299.405,86.764 298.545,86.659 298.545 C 86.554 298.545,86.570 298.812,86.695 299.138 M318.082 301.883 C 317.753 302.911,317.622 303.603,317.789 303.421 C 318.185 302.992,319.027 300.360,318.831 300.164 C 318.748 300.081,318.411 300.855,318.082 301.883 M88.485 304.519 C 88.714 305.004,88.959 305.344,89.029 305.274 C 89.255 305.048,88.689 303.636,88.373 303.636 C 88.206 303.636,88.256 304.034,88.485 304.519 M89.265 306.545 C 89.379 307.045,89.570 307.905,89.691 308.455 C 89.811 309.005,90.052 309.455,90.227 309.455 C 90.639 309.455,90.661 309.558,89.801 307.455 C 89.392 306.455,89.151 306.045,89.265 306.545 M315.695 308.197 C 315.187 309.312,315.176 309.455,315.597 309.455 C 315.930 309.455,316.510 307.662,316.259 307.410 C 316.181 307.333,315.928 307.687,315.695 308.197 M91.111 311.818 C 91.228 312.218,91.415 312.999,91.527 313.553 C 91.639 314.107,91.890 314.659,92.086 314.780 C 92.491 315.031,92.186 313.867,91.404 312.182 C 91.126 311.582,90.994 311.418,91.111 311.818 M313.879 313.072 C 313.666 313.683,313.628 314.182,313.795 314.182 C 314.083 314.182,314.599 312.301,314.374 312.072 C 314.314 312.012,314.092 312.462,313.879 313.072 M92.511 316.182 C 92.656 316.582,93.036 317.850,93.356 319.000 C 93.676 320.150,94.064 321.091,94.220 321.091 C 94.517 321.091,92.904 316.036,92.489 315.668 C 92.356 315.551,92.366 315.782,92.511 316.182 M312.061 317.436 C 311.848 318.046,311.752 318.545,311.846 318.545 C 312.092 318.545,312.778 316.657,312.598 316.476 C 312.515 316.394,312.274 316.826,312.061 317.436 M309.157 323.166 C 308.293 324.663,307.675 325.978,307.785 326.088 C 307.895 326.198,308.111 325.974,308.265 325.590 C 308.419 325.206,309.095 323.946,309.766 322.788 C 310.438 321.631,310.929 320.630,310.857 320.563 C 310.786 320.497,310.020 321.668,309.157 323.166 M95.273 324.112 C 95.273 324.374,95.516 324.906,95.813 325.294 C 96.308 325.940,96.320 325.899,95.959 324.818 C 95.548 323.584,95.273 323.301,95.273 324.112 M96.727 327.443 C 96.727 327.910,99.660 333.588,100.186 334.138 C 100.450 334.414,99.838 333.023,98.826 331.047 C 96.879 327.243,96.727 326.982,96.727 327.443 M303.623 330.572 L 302.364 331.689 303.727 330.710 C 304.932 329.846,305.324 329.455,304.986 329.455 C 304.929 329.455,304.315 329.957,303.623 330.572 M290.909 335.273 L 290.000 335.564 290.979 335.600 C 291.517 335.620,292.058 335.473,292.182 335.273 C 292.437 334.859,292.200 334.859,290.909 335.273 M103.818 338.545 C 104.599 339.345,105.320 340.000,105.420 340.000 C 105.520 340.000,104.963 339.345,104.182 338.545 C 103.401 337.745,102.680 337.091,102.580 337.091 C 102.480 337.091,103.037 337.745,103.818 338.545 M278.364 337.455 L 276.909 337.715 278.182 337.741 C 278.882 337.755,279.782 337.626,280.182 337.455 C 281.039 337.086,280.420 337.086,278.364 337.455 M274.273 338.069 C 274.623 338.160,275.195 338.160,275.545 338.069 C 275.895 337.977,275.609 337.903,274.909 337.903 C 274.209 337.903,273.923 337.977,274.273 338.069 M261.091 339.273 L 258.727 339.511 261.273 339.568 C 262.673 339.599,264.064 339.467,264.364 339.273 C 264.979 338.875,265.038 338.875,261.091 339.273 M255.364 339.897 C 255.914 339.980,256.814 339.980,257.364 339.897 C 257.914 339.814,257.464 339.745,256.364 339.745 C 255.264 339.745,254.814 339.814,255.364 339.897 M251.364 340.251 C 251.714 340.342,252.286 340.342,252.636 340.251 C 252.986 340.159,252.700 340.084,252.000 340.084 C 251.300 340.084,251.014 340.159,251.364 340.251 M188.545 341.131 C 177.745 341.293,167.927 341.496,166.727 341.582 C 165.527 341.668,170.355 341.675,177.455 341.597 C 184.555 341.519,194.986 341.455,200.636 341.455 C 206.286 341.455,210.909 341.323,210.909 341.162 C 210.909 340.785,211.511 340.786,188.545 341.131 M212.000 341.087 C 212.000 341.417,217.036 341.208,217.424 340.862 C 217.508 340.788,216.321 340.727,214.788 340.727 C 213.191 340.727,212.000 340.881,212.000 341.087 M220.636 340.984 C 221.086 341.071,221.823 341.071,222.273 340.984 C 222.723 340.897,222.355 340.826,221.455 340.826 C 220.555 340.826,220.186 340.897,220.636 340.984 M154.273 342.088 C 155.823 342.157,158.359 342.157,159.909 342.088 C 161.459 342.020,160.191 341.965,157.091 341.965 C 153.991 341.965,152.723 342.020,154.273 342.088 M141.920 342.450 C 142.876 342.525,144.349 342.524,145.193 342.448 C 146.037 342.371,145.255 342.310,143.455 342.311 C 141.655 342.312,140.964 342.374,141.920 342.450 M135.000 342.796 C 135.350 342.888,135.923 342.888,136.273 342.796 C 136.623 342.705,136.336 342.630,135.636 342.630 C 134.936 342.630,134.650 342.705,135.000 342.796 M112.545 343.326 C 113.047 343.645,115.139 343.809,119.273 343.854 L 125.273 343.920 119.636 343.655 C 116.536 343.510,113.509 343.272,112.909 343.127 C 111.930 342.890,111.893 342.911,112.545 343.326 M127.636 343.273 L 125.273 343.511 127.818 343.568 C 129.218 343.599,130.609 343.467,130.909 343.273 C 131.524 342.875,131.584 342.875,127.636 343.273 " stroke="none" fill="#fbf304" fill-rule="evenodd"></path><path id="path4" d="M226.909 58.429 C 214.061 58.910,198.694 60.104,185.455 61.648 C 163.900 64.162,157.940 64.300,132.727 62.866 C 108.908 61.512,101.510 63.879,93.949 75.273 C 86.608 86.336,75.877 105.091,72.728 112.364 C 71.279 115.710,65.770 126.806,59.187 139.636 C 46.365 164.628,45.517 173.194,53.571 196.364 C 55.776 202.709,57.755 208.138,58.607 210.182 C 60.294 214.227,67.013 234.162,69.086 241.273 C 69.728 243.473,70.892 247.400,71.673 250.000 C 72.454 252.600,73.405 255.791,73.785 257.091 C 74.166 258.391,75.244 262.073,76.181 265.273 C 79.354 276.107,82.643 286.311,86.731 298.000 C 88.060 301.800,90.028 307.527,91.105 310.727 C 101.886 342.776,105.020 345.165,133.091 342.739 C 136.591 342.436,146.327 342.030,154.727 341.835 C 163.127 341.641,172.455 341.391,175.455 341.281 C 178.455 341.170,195.986 340.918,214.413 340.720 C 239.277 340.453,249.404 340.218,253.686 339.807 C 256.859 339.502,261.418 339.098,263.818 338.908 C 277.224 337.848,292.458 335.277,298.545 333.048 C 305.734 330.415,309.319 325.047,316.249 306.545 C 318.168 301.423,321.544 291.568,322.542 288.182 C 322.895 286.982,323.600 284.609,324.109 282.909 C 324.988 279.970,328.257 267.875,331.652 255.000 C 341.311 218.369,341.251 219.337,335.087 199.818 C 331.203 187.517,328.364 178.264,328.364 177.910 C 328.364 177.711,329.386 177.436,330.636 177.298 C 339.143 176.363,340.853 175.632,342.404 172.274 L 343.455 170.000 343.430 162.727 C 343.393 151.856,340.759 138.945,337.486 133.588 C 334.819 129.223,325.164 127.473,317.373 129.942 C 315.629 130.495,314.105 131.102,313.988 131.292 C 313.146 132.655,310.737 126.685,304.883 108.727 C 289.920 62.825,288.130 60.250,270.000 58.556 C 266.515 58.231,234.702 58.136,226.909 58.429 M269.273 60.732 C 286.366 62.132,287.286 63.398,301.099 104.545 C 306.365 120.231,312.388 137.275,315.554 145.455 C 317.089 149.420,322.406 165.619,324.387 172.364 C 325.414 175.864,328.199 185.047,330.574 192.772 C 332.949 200.497,335.328 208.506,335.860 210.570 L 336.827 214.323 333.959 217.079 C 329.907 220.971,325.519 222.945,315.636 225.322 C 304.448 228.012,302.207 228.130,237.091 229.453 C 217.757 229.845,216.938 229.877,202.909 230.799 C 191.426 231.553,171.776 231.646,167.098 230.969 C 151.311 228.684,142.723 224.610,133.932 215.236 C 131.692 212.847,125.895 202.415,123.616 196.672 C 123.192 195.602,122.517 193.909,122.116 192.909 C 120.305 188.389,119.393 185.847,116.899 178.364 C 110.666 159.656,108.430 149.788,107.090 135.091 C 105.828 121.234,105.136 116.166,102.675 102.727 C 101.978 98.927,101.169 94.427,100.875 92.727 C 100.581 91.027,100.272 89.391,100.188 89.091 C 99.899 88.057,98.963 79.810,98.720 76.156 L 98.476 72.493 100.405 70.759 C 107.276 64.581,113.262 63.945,146.545 65.856 C 156.383 66.421,166.797 65.937,182.909 64.166 C 185.609 63.869,190.764 63.304,194.364 62.909 C 213.325 60.832,255.517 59.606,269.273 60.732 M206.909 74.583 C 201.009 74.741,189.555 75.122,181.455 75.430 C 173.355 75.739,161.409 76.163,154.909 76.374 C 148.409 76.585,140.882 76.913,138.182 77.103 C 135.482 77.293,130.818 77.453,127.818 77.459 C 114.390 77.487,111.947 84.552,117.447 107.455 C 117.831 109.055,120.188 118.627,122.684 128.727 C 125.180 138.827,127.569 148.645,127.993 150.545 C 128.417 152.445,129.074 155.309,129.454 156.909 C 129.834 158.509,130.579 161.700,131.110 164.000 C 132.050 168.066,132.489 169.762,134.171 175.818 C 140.557 198.816,149.008 210.273,162.727 214.535 C 169.733 216.711,195.034 216.704,232.182 214.517 C 235.865 214.301,245.932 214.246,257.091 214.383 C 299.709 214.904,316.585 211.710,319.832 202.506 C 320.812 199.729,320.235 192.688,318.539 186.727 C 318.141 185.327,317.489 183.036,317.091 181.636 C 315.477 175.967,313.068 168.272,311.458 163.636 C 310.519 160.936,309.011 156.600,308.106 154.000 C 307.201 151.400,305.181 145.509,303.617 140.909 C 291.763 106.034,291.708 105.890,286.508 96.182 C 276.944 78.325,273.362 75.062,262.727 74.517 C 255.594 74.151,221.524 74.192,206.909 74.583 M98.325 86.182 C 98.910 90.138,99.515 93.606,101.084 102.000 C 103.283 113.760,104.247 120.068,104.733 125.871 C 104.940 128.342,105.265 131.591,105.455 133.091 C 105.646 134.591,105.978 137.618,106.195 139.817 C 108.342 161.630,120.627 198.366,130.799 213.389 L 133.094 216.777 131.680 219.207 C 129.885 222.291,125.373 231.602,122.926 237.273 C 119.225 245.849,119.174 245.974,115.824 254.727 C 111.906 264.968,106.658 283.209,104.055 295.636 C 102.906 301.118,100.838 313.993,99.994 320.909 C 99.297 326.618,99.144 326.772,97.817 323.091 C 95.054 315.426,89.208 298.413,84.696 284.909 C 82.845 279.367,80.043 270.336,77.673 262.273 C 76.953 259.823,75.774 255.814,75.054 253.364 C 69.556 234.665,65.595 222.523,60.548 208.909 C 52.006 185.865,50.793 181.363,50.793 172.727 C 50.793 163.834,53.176 156.255,60.338 142.364 C 68.822 125.911,73.749 116.142,74.004 115.273 C 74.498 113.582,79.282 103.867,81.338 100.377 C 86.661 91.344,94.440 78.508,95.781 76.545 L 97.273 74.364 97.489 78.182 C 97.608 80.282,97.984 83.882,98.325 86.182 M252.727 76.356 C 267.471 76.722,268.917 76.911,271.686 78.846 C 278.151 83.363,287.957 101.345,294.325 120.364 C 295.430 123.664,297.011 128.327,297.839 130.727 C 298.667 133.127,301.111 140.245,303.269 146.545 C 305.427 152.845,308.021 160.373,309.034 163.273 C 316.579 184.884,319.530 198.478,317.527 202.404 C 313.799 209.710,296.957 212.658,261.636 212.185 C 244.383 211.954,239.374 212.053,217.455 213.062 C 183.391 214.629,168.018 214.312,161.455 211.907 C 149.763 207.622,141.934 195.924,135.815 173.597 C 134.609 169.200,133.975 166.564,129.484 147.273 C 128.483 142.973,126.261 133.891,124.547 127.091 C 115.452 91.011,114.931 85.998,119.806 81.504 C 121.666 79.790,121.927 79.743,130.909 79.484 C 134.409 79.384,140.873 79.135,145.273 78.932 C 160.472 78.230,196.554 77.045,199.245 77.159 L 201.945 77.273 200.440 78.313 C 198.570 79.606,197.271 82.082,197.600 83.727 C 198.153 86.493,199.857 87.337,201.455 85.636 C 202.331 84.704,204.050 84.425,205.043 85.054 C 205.875 85.581,205.579 88.069,204.205 92.089 C 201.629 99.628,203.516 103.485,209.636 103.194 C 214.478 102.963,216.277 101.221,214.449 98.533 L 213.592 97.273 210.796 97.316 C 207.435 97.369,207.435 97.369,209.827 93.841 C 212.160 90.400,212.219 90.102,211.260 86.675 C 209.912 81.860,207.567 78.135,205.399 77.365 C 204.138 76.917,206.160 76.773,218.182 76.459 C 236.113 75.989,237.749 75.985,252.727 76.356 M206.082 79.493 C 207.114 80.146,209.589 85.364,210.160 88.091 C 210.644 90.401,210.900 89.760,207.517 94.687 C 205.502 97.621,206.352 98.903,210.135 98.635 C 213.818 98.373,215.344 100.532,212.111 101.430 C 205.368 103.302,203.017 100.028,205.636 92.414 C 207.009 88.425,207.291 85.389,206.402 84.173 C 205.622 83.106,201.974 83.183,201.081 84.286 C 199.767 85.908,198.606 84.822,199.061 82.396 C 199.626 79.384,203.427 77.812,206.082 79.493 M185.924 81.078 C 183.019 82.849,180.805 88.788,182.483 90.307 C 183.470 91.200,184.371 91.045,185.705 89.752 C 187.187 88.315,186.962 87.980,188.493 93.912 C 189.904 99.381,191.596 103.366,192.839 104.149 C 197.410 107.029,198.156 101.184,194.646 90.000 C 192.118 81.948,189.272 79.036,185.924 81.078 M189.104 82.284 C 192.729 85.158,197.408 103.273,194.525 103.273 C 193.013 103.273,191.506 99.918,189.461 92.000 C 187.806 85.591,187.404 85.162,185.540 87.807 C 183.535 90.651,182.640 89.717,183.909 86.104 C 184.965 83.097,187.644 81.127,189.104 82.284 M237.091 82.085 C 234.261 83.173,231.195 87.656,231.347 90.483 C 231.516 93.612,232.951 93.914,236.029 91.467 C 238.422 89.564,238.356 89.471,241.563 99.222 C 243.340 104.624,247.585 103.477,247.157 97.710 C 246.436 88.025,241.514 80.385,237.091 82.085 M240.064 83.919 C 242.886 85.781,245.818 93.246,245.818 98.570 C 245.818 103.865,243.887 101.676,240.853 92.944 C 238.826 87.109,239.049 87.252,235.965 89.818 C 232.457 92.737,231.354 92.007,233.340 88.080 C 235.284 84.239,238.000 82.558,240.064 83.919 M166.969 87.160 C 163.818 88.712,163.697 93.986,166.818 93.741 L 168.141 93.636 169.867 98.000 C 172.461 104.560,173.546 106.182,175.344 106.182 C 177.700 106.182,177.550 103.698,174.731 96.070 C 171.356 86.938,170.173 85.581,166.969 87.160 M169.873 88.636 C 170.457 89.336,170.790 90.049,172.547 94.367 C 175.136 100.732,176.120 104.727,175.099 104.727 C 174.339 104.727,173.740 103.670,171.800 98.909 C 168.733 91.385,168.143 90.473,167.091 91.636 C 166.301 92.509,165.818 92.268,165.818 90.998 C 165.818 88.901,168.695 87.225,169.873 88.636 M155.648 90.773 C 153.349 92.708,152.344 96.589,153.657 98.465 C 154.404 99.531,155.328 99.485,156.721 98.313 C 158.173 97.091,158.214 97.141,159.973 102.241 C 162.619 109.914,163.930 112.059,165.588 111.423 C 166.972 110.892,166.818 107.606,165.097 100.931 C 162.617 91.315,159.275 87.722,155.648 90.773 M159.817 92.156 C 161.786 94.243,164.401 102.094,164.963 107.604 C 165.409 111.973,164.286 110.005,160.728 100.182 C 160.076 98.382,159.206 96.538,158.793 96.085 L 158.043 95.260 156.734 96.539 C 155.199 98.038,154.703 98.130,154.411 96.969 C 153.979 95.246,155.149 92.793,156.980 91.586 C 158.341 90.689,158.456 90.712,159.817 92.156 M266.182 101.796 C 265.482 101.938,264.188 102.427,263.306 102.882 C 262.424 103.338,260.133 104.025,258.215 104.410 C 249.470 106.165,241.440 110.696,223.842 123.805 C 215.868 129.745,215.550 129.933,212.160 130.719 C 202.258 133.016,202.822 144.216,212.929 146.014 C 214.973 146.377,230.134 152.640,240.000 157.197 C 253.007 163.204,256.291 163.750,259.710 160.475 C 264.097 156.273,259.472 152.085,242.000 144.438 C 236.800 142.162,231.850 139.993,231.000 139.618 C 228.866 138.675,228.725 138.826,235.902 134.364 C 243.462 129.663,254.727 122.167,258.353 119.423 C 261.323 117.176,261.150 117.102,262.200 121.091 C 263.867 127.427,264.452 127.781,270.254 125.963 C 274.331 124.686,275.636 123.860,275.636 122.556 C 275.636 120.173,274.254 119.584,269.959 120.137 C 266.800 120.544,266.643 118.751,269.525 115.180 C 272.931 110.958,273.647 106.885,271.544 103.706 C 270.687 102.411,268.671 101.272,267.636 101.498 C 267.536 101.520,266.882 101.654,266.182 101.796 M269.412 103.502 C 272.213 105.464,271.818 110.493,268.579 114.107 C 264.362 118.813,265.327 122.412,270.557 121.478 C 273.216 121.003,274.182 121.247,274.182 122.395 C 274.182 123.035,273.396 123.432,269.948 124.533 C 264.966 126.124,265.069 126.201,263.273 119.559 L 262.515 116.754 264.217 114.665 C 267.673 110.421,267.774 106.991,264.505 104.849 L 263.522 104.205 264.943 103.566 C 266.732 102.763,268.323 102.740,269.412 103.502 M263.446 107.331 C 267.252 110.325,260.320 116.351,234.103 132.841 C 229.229 135.907,226.905 137.600,225.921 138.804 C 222.084 143.494,220.483 144.262,215.278 143.905 C 209.160 143.486,205.581 139.324,207.971 135.405 C 208.692 134.223,209.321 133.930,214.488 132.376 C 216.836 131.670,218.034 130.919,224.438 126.144 C 245.961 110.096,258.979 103.817,263.446 107.331 M137.636 109.408 C 133.648 111.885,133.251 118.652,137.181 117.168 C 138.636 116.619,138.667 116.672,139.394 121.030 C 140.436 127.281,141.964 130.692,144.170 131.697 C 146.481 132.750,147.115 131.042,146.554 125.273 C 145.219 111.541,142.368 106.469,137.636 109.408 M148.382 109.744 C 145.838 112.288,145.926 120.417,148.536 123.838 C 153.086 129.803,160.400 125.173,158.909 117.270 C 157.784 111.309,151.389 106.737,148.382 109.744 M141.114 110.558 C 142.846 111.485,144.470 117.379,145.111 125.071 C 145.543 130.252,145.394 130.955,144.113 129.758 C 142.461 128.216,141.632 125.656,140.156 117.538 C 139.441 113.607,139.192 113.325,137.851 114.932 C 136.489 116.563,135.444 116.234,135.762 114.275 C 136.242 111.316,138.979 109.415,141.114 110.558 M153.718 111.500 C 157.842 113.871,159.052 121.112,155.800 123.967 C 152.138 127.182,147.888 123.078,147.904 116.341 C 147.917 110.465,149.551 109.104,153.718 111.500 M150.144 114.503 C 148.370 115.939,149.332 120.809,151.624 121.994 C 154.095 123.271,156.061 122.019,156.061 119.167 C 156.061 115.341,152.538 112.564,150.144 114.503 M152.960 115.804 C 154.556 116.921,155.032 120.054,153.730 120.869 C 152.108 121.884,149.926 117.441,151.259 115.835 C 151.835 115.140,152.008 115.137,152.960 115.804 M332.435 132.340 C 335.823 133.709,337.506 137.361,339.637 147.970 C 342.639 162.909,342.049 172.556,338.061 173.768 C 333.089 175.280,327.629 175.488,327.243 174.182 C 327.095 173.682,326.212 170.655,325.279 167.455 C 323.467 161.237,321.135 154.114,319.266 149.091 C 314.592 136.531,313.798 134.098,314.211 133.601 C 316.109 131.314,327.882 130.500,332.435 132.340 M274.269 132.767 C 271.797 133.991,271.273 135.027,271.273 138.692 C 271.273 142.167,271.357 142.254,273.411 140.895 C 278.188 137.734,282.018 140.591,278.473 144.671 C 277.164 146.177,277.263 146.528,279.272 147.503 C 282.874 149.251,283.062 150.886,280.000 153.818 C 274.940 158.663,278.738 162.296,285.587 159.161 C 289.785 157.238,290.839 151.437,287.729 147.363 L 286.422 145.650 286.506 141.998 C 286.602 137.797,286.292 136.714,284.448 134.816 C 281.900 132.194,277.299 131.268,274.269 132.767 M281.480 134.455 C 284.599 136.035,285.091 137.073,285.091 142.076 L 285.091 146.225 286.355 147.881 C 290.156 152.860,287.836 158.215,281.626 158.794 L 279.273 159.014 279.278 157.780 C 279.285 156.300,279.396 156.128,281.317 154.633 C 284.578 152.096,283.941 147.275,280.221 146.341 L 279.282 146.105 280.391 144.561 C 283.275 140.545,279.627 136.945,274.606 138.852 L 272.727 139.566 272.732 138.056 C 272.746 133.742,276.788 132.078,281.480 134.455 M213.427 135.972 C 210.628 138.771,214.426 142.488,218.129 140.573 C 220.512 139.341,220.307 136.797,217.730 135.628 C 215.596 134.659,214.665 134.734,213.427 135.972 M146.986 137.216 C 140.946 141.672,142.746 150.909,149.655 150.909 C 151.466 150.909,151.636 151.185,151.636 154.131 C 151.636 156.627,151.125 157.456,149.026 158.364 C 143.780 160.633,144.881 164.599,150.673 164.295 C 156.034 164.014,159.277 160.846,159.271 155.896 C 159.269 153.725,157.512 144.180,156.730 142.092 C 155.143 137.849,149.771 135.161,146.986 137.216 M216.538 137.517 C 217.704 138.049,217.542 138.689,216.200 138.847 C 215.018 138.985,214.356 138.473,214.668 137.661 C 214.929 136.979,215.295 136.951,216.538 137.517 M152.264 138.989 C 155.079 140.335,156.047 142.777,157.302 151.698 C 158.412 159.582,156.379 162.909,150.451 162.909 C 146.780 162.909,146.005 161.293,149.048 159.984 C 152.222 158.618,152.909 157.557,152.909 154.014 C 152.909 150.215,152.393 149.455,149.816 149.455 C 144.616 149.455,142.800 142.990,146.919 139.142 C 148.619 137.553,149.224 137.536,152.264 138.989 M147.651 141.159 C 145.163 143.830,148.908 148.042,151.769 145.792 C 153.082 144.759,153.114 142.536,151.835 141.256 C 150.668 140.089,148.690 140.043,147.651 141.159 M230.827 141.949 C 232.172 142.620,234.255 143.590,235.455 144.103 C 256.147 152.953,260.781 156.007,257.967 158.943 C 255.936 161.064,252.713 160.469,243.455 156.267 C 233.491 151.745,230.404 150.396,225.767 148.539 C 220.069 146.257,220.250 146.479,222.928 145.052 C 224.450 144.240,225.599 143.300,226.321 142.276 C 227.635 140.412,227.735 140.404,230.827 141.949 M150.836 142.255 C 151.434 142.853,151.385 144.181,150.745 144.713 C 149.566 145.691,147.889 143.942,148.495 142.364 C 148.746 141.711,150.223 141.641,150.836 142.255 M165.676 159.070 C 160.074 161.113,157.476 168.681,160.297 174.738 L 161.488 177.294 160.494 179.465 C 158.093 184.708,159.222 188.612,163.695 190.536 C 171.105 193.724,177.846 186.979,174.537 179.688 C 173.690 177.820,173.664 176.928,174.371 174.000 C 176.595 164.789,171.935 156.787,165.676 159.070 M168.976 160.388 C 172.977 161.904,174.621 168.105,172.753 174.638 C 172.019 177.204,172.064 177.714,173.274 180.532 C 176.048 186.992,169.751 192.259,163.264 188.905 C 160.237 187.339,159.804 181.223,162.537 178.617 C 163.156 178.027,163.122 177.848,161.781 174.545 C 159.604 169.188,160.078 165.764,163.464 162.378 C 165.565 160.277,167.162 159.701,168.976 160.388 M166.031 164.768 C 162.643 167.433,163.619 173.818,167.414 173.818 C 170.518 173.818,171.952 168.881,169.651 166.122 C 168.041 164.192,167.175 163.868,166.031 164.768 M168.496 167.201 C 169.592 168.783,169.689 169.765,168.900 171.291 C 167.678 173.654,164.789 171.604,165.288 168.727 C 165.812 165.702,167.049 165.114,168.496 167.201 M281.728 166.065 C 280.862 166.296,280.591 167.624,280.882 170.202 C 281.115 172.259,281.083 172.383,280.223 172.775 C 278.802 173.422,278.325 172.967,277.635 170.303 C 276.797 167.068,276.189 166.545,273.262 166.545 C 269.248 166.545,269.360 166.219,270.945 173.317 C 272.373 179.714,272.414 179.761,276.827 180.000 L 280.182 180.182 281.358 183.818 C 282.004 185.818,282.821 187.665,283.172 187.922 C 284.170 188.652,289.806 188.369,290.313 187.563 C 291.061 186.373,288.193 170.834,286.688 167.925 C 285.995 166.584,283.413 165.616,281.728 166.065 M285.173 168.318 C 286.150 169.242,289.091 182.577,289.091 186.084 C 289.091 187.099,287.899 187.449,285.612 187.106 C 283.759 186.828,283.750 186.816,282.507 182.585 C 281.403 178.832,281.040 178.547,277.364 178.540 C 273.463 178.533,273.595 178.667,272.352 173.423 C 270.955 167.532,270.877 167.943,273.364 168.073 L 275.455 168.182 275.944 169.818 C 277.441 174.829,277.903 175.339,280.108 174.418 C 282.017 173.620,282.577 172.577,282.311 170.313 C 281.952 167.259,283.162 166.416,285.173 168.318 M165.955 179.025 C 163.486 180.390,163.543 184.884,166.041 185.834 C 169.476 187.140,172.627 184.002,170.542 181.351 C 169.394 179.891,166.782 178.567,165.955 179.025 M255.849 181.069 C 248.572 184.726,248.223 185.356,250.785 190.216 C 253.996 196.307,255.068 196.907,259.818 195.273 C 263.560 193.985,265.745 195.306,263.054 197.229 C 259.868 199.506,259.658 200.163,261.380 202.455 C 263.999 205.940,271.023 200.849,271.054 195.442 C 271.084 190.304,265.496 187.413,260.442 189.953 C 257.410 191.477,257.143 191.487,256.563 190.098 C 255.352 187.200,255.339 187.231,258.401 185.636 C 262.989 183.246,263.741 182.258,262.442 180.327 C 261.261 178.569,260.699 178.633,255.849 181.069 M261.272 181.088 C 261.398 181.486,261.408 181.963,261.293 182.148 C 261.045 182.551,255.440 185.818,254.999 185.818 C 253.719 185.818,254.047 188.211,255.788 191.577 C 256.549 193.049,257.109 193.030,260.600 191.418 C 268.777 187.641,273.385 195.831,266.067 201.132 C 264.237 202.458,262.974 202.408,262.193 200.981 C 261.673 200.031,261.685 199.936,262.364 199.554 C 264.303 198.466,265.524 196.780,265.262 195.552 C 264.691 192.862,263.600 192.596,258.904 194.002 L 255.861 194.912 254.882 193.974 C 254.343 193.458,253.106 191.500,252.133 189.623 C 249.986 185.482,249.815 185.788,256.088 182.560 C 260.866 180.102,260.951 180.078,261.272 181.088 M169.087 182.013 C 169.796 182.721,169.908 183.048,169.608 183.525 C 168.133 185.864,164.926 184.337,165.608 181.621 C 165.916 180.391,167.660 180.587,169.087 182.013 M194.179 181.794 C 187.371 183.865,185.569 190.756,192.027 190.026 C 193.212 189.892,194.182 189.880,194.182 189.999 C 194.182 190.119,193.593 192.213,192.872 194.654 C 189.298 206.767,192.786 208.777,199.311 198.364 C 203.022 192.440,203.928 184.985,201.259 182.317 C 200.351 181.409,196.404 181.118,194.179 181.794 M200.008 182.913 C 202.909 184.466,201.264 193.342,196.961 199.358 C 191.967 206.340,191.272 204.419,194.744 193.222 C 195.435 190.994,196.000 188.997,196.000 188.784 C 196.000 188.533,194.874 188.423,192.818 188.471 C 189.281 188.554,188.653 188.004,189.977 185.984 C 191.536 183.605,197.747 181.703,200.008 182.913 M230.674 189.398 C 221.098 196.367,224.861 213.490,234.849 208.394 C 240.716 205.401,241.191 199.076,235.727 196.698 C 233.854 195.883,233.856 195.943,235.534 192.553 C 237.123 189.340,236.961 188.916,234.000 188.535 C 232.362 188.324,232.032 188.410,230.674 189.398 M234.674 190.030 C 235.130 190.205,235.008 190.638,233.977 192.515 C 232.125 195.884,232.295 196.513,235.490 198.119 C 239.125 199.945,239.038 203.928,235.307 206.442 C 228.516 211.019,223.740 203.329,227.999 194.675 C 229.823 190.968,232.416 189.163,234.674 190.030 M231.188 198.898 C 229.496 200.229,229.733 203.708,231.582 204.698 C 234.516 206.268,236.700 201.735,234.210 199.245 C 232.959 197.993,232.417 197.931,231.188 198.898 M233.382 200.436 C 234.482 201.536,233.378 204.265,232.221 203.305 C 231.531 202.732,231.322 201.770,231.679 200.805 C 232.007 199.917,232.710 199.765,233.382 200.436 M337.215 219.183 C 337.576 223.066,336.019 229.921,327.448 262.182 C 317.250 300.571,309.033 322.277,302.449 328.225 C 295.642 334.375,261.697 338.520,218.000 338.537 C 186.413 338.549,148.193 339.461,131.799 340.594 C 126.908 340.933,122.818 341.121,122.710 341.014 C 122.603 340.906,122.761 339.366,123.062 337.591 C 123.675 333.978,124.720 327.542,125.799 320.727 C 127.299 311.251,128.789 302.310,129.100 300.909 C 129.277 300.109,129.684 298.064,130.004 296.364 C 131.740 287.133,136.728 269.415,140.189 260.182 C 140.713 258.782,141.445 256.818,141.815 255.818 C 145.499 245.856,153.240 229.974,154.378 230.044 C 154.770 230.068,157.136 230.507,159.636 231.020 C 169.339 233.011,182.408 233.487,198.727 232.444 C 216.669 231.298,220.075 231.190,270.727 230.170 C 298.893 229.602,307.409 228.912,317.347 226.390 C 326.189 224.146,330.988 222.012,334.349 218.831 C 337.074 216.252,336.941 216.236,337.215 219.183 M137.038 220.476 C 141.131 223.853,147.823 227.736,151.520 228.879 C 152.484 229.177,152.544 229.009,148.561 237.091 C 142.954 248.466,136.651 264.325,134.903 271.455 C 134.755 272.055,134.058 274.509,133.352 276.909 C 129.706 289.308,127.574 299.880,123.673 324.909 C 123.268 327.509,122.603 331.706,122.195 334.236 C 121.788 336.766,121.455 339.366,121.455 340.013 L 121.455 341.191 117.182 341.002 C 110.623 340.713,107.132 339.006,103.772 334.446 C 100.742 330.333,100.253 329.033,100.680 326.233 C 100.883 324.905,101.395 321.282,101.817 318.182 C 103.950 302.537,106.795 288.177,109.600 278.909 C 109.872 278.009,110.539 275.718,111.082 273.818 C 115.347 258.890,122.588 240.431,130.230 225.009 C 134.222 216.953,133.417 217.489,137.038 220.476 " stroke="none" fill="#0a0a00" fill-rule="evenodd"></path><path id="path5" d="M244.091 58.090 C 247.441 58.150,252.923 58.150,256.273 58.090 C 259.623 58.030,256.882 57.981,250.182 57.981 C 243.482 57.981,240.741 58.030,244.091 58.090 M227.550 58.439 C 228.002 58.526,228.657 58.523,229.004 58.432 C 229.352 58.341,228.982 58.269,228.182 58.274 C 227.382 58.278,227.097 58.352,227.550 58.439 M212.641 59.166 C 213.093 59.253,213.747 59.250,214.095 59.159 C 214.443 59.068,214.073 58.997,213.273 59.001 C 212.473 59.005,212.188 59.079,212.641 59.166 M206.455 59.529 C 206.905 59.616,207.641 59.616,208.091 59.529 C 208.541 59.443,208.173 59.372,207.273 59.372 C 206.373 59.372,206.005 59.443,206.455 59.529 M234.091 60.627 C 234.741 60.707,235.805 60.707,236.455 60.627 C 237.105 60.546,236.573 60.480,235.273 60.480 C 233.973 60.480,233.441 60.546,234.091 60.627 M259.364 60.633 C 260.714 60.703,262.923 60.703,264.273 60.633 C 265.623 60.563,264.518 60.506,261.818 60.506 C 259.118 60.506,258.014 60.563,259.364 60.633 M191.000 60.978 C 191.350 61.069,191.923 61.069,192.273 60.978 C 192.623 60.886,192.336 60.812,191.636 60.812 C 190.936 60.812,190.650 60.886,191.000 60.978 M223.000 60.988 C 223.550 61.071,224.450 61.071,225.000 60.988 C 225.550 60.904,225.100 60.836,224.000 60.836 C 222.900 60.836,222.450 60.904,223.000 60.988 M113.545 62.796 C 113.895 62.888,114.468 62.888,114.818 62.796 C 115.168 62.705,114.882 62.630,114.182 62.630 C 113.482 62.630,113.195 62.705,113.545 62.796 M130.641 62.806 C 131.194 62.890,132.012 62.888,132.460 62.801 C 132.907 62.715,132.455 62.647,131.455 62.649 C 130.455 62.652,130.089 62.723,130.641 62.806 M154.455 63.906 C 155.705 63.977,157.750 63.977,159.000 63.906 C 160.250 63.835,159.227 63.776,156.727 63.776 C 154.227 63.776,153.205 63.835,154.455 63.906 M119.017 64.998 C 120.576 65.066,123.030 65.066,124.471 64.997 C 125.912 64.928,124.636 64.872,121.636 64.873 C 118.636 64.873,117.457 64.930,119.017 64.998 M133.370 65.354 C 134.024 65.435,135.006 65.434,135.552 65.351 C 136.098 65.268,135.564 65.202,134.364 65.204 C 133.164 65.206,132.717 65.274,133.370 65.354 M147.913 66.075 C 148.366 66.162,149.020 66.159,149.368 66.068 C 149.716 65.977,149.345 65.906,148.545 65.910 C 147.745 65.914,147.461 65.988,147.913 66.075 M161.182 66.069 C 161.532 66.160,162.105 66.160,162.455 66.069 C 162.805 65.977,162.518 65.903,161.818 65.903 C 161.118 65.903,160.832 65.977,161.182 66.069 M99.801 71.364 L 98.364 72.909 99.909 71.472 C 101.346 70.135,101.622 69.818,101.347 69.818 C 101.287 69.818,100.592 70.514,99.801 71.364 M98.630 74.909 C 98.630 75.609,98.705 75.895,98.796 75.545 C 98.888 75.195,98.888 74.623,98.796 74.273 C 98.705 73.923,98.630 74.209,98.630 74.909 M231.364 74.090 C 233.914 74.152,238.086 74.152,240.636 74.090 C 243.186 74.027,241.100 73.976,236.000 73.976 C 230.900 73.976,228.814 74.027,231.364 74.090 M212.285 74.450 C 213.342 74.524,214.978 74.523,215.921 74.449 C 216.865 74.374,216.000 74.314,214.000 74.315 C 212.000 74.316,211.228 74.377,212.285 74.450 M259.901 74.444 C 260.547 74.525,261.692 74.526,262.446 74.447 C 263.201 74.368,262.673 74.303,261.273 74.301 C 259.873 74.300,259.255 74.364,259.901 74.444 M200.096 74.806 C 200.649 74.890,201.467 74.888,201.914 74.801 C 202.361 74.715,201.909 74.647,200.909 74.649 C 199.909 74.652,199.543 74.723,200.096 74.806 M179.364 75.523 C 179.714 75.615,180.286 75.615,180.636 75.523 C 180.986 75.432,180.700 75.357,180.000 75.357 C 179.300 75.357,179.014 75.432,179.364 75.523 M167.555 75.903 C 168.410 75.980,169.719 75.979,170.464 75.901 C 171.209 75.823,170.509 75.760,168.909 75.761 C 167.309 75.762,166.700 75.826,167.555 75.903 M158.278 76.261 C 158.830 76.345,159.649 76.342,160.096 76.256 C 160.543 76.170,160.091 76.101,159.091 76.104 C 158.091 76.107,157.725 76.177,158.278 76.261 M234.091 76.271 C 235.941 76.337,238.968 76.337,240.818 76.271 C 242.668 76.205,241.155 76.151,237.455 76.151 C 233.755 76.151,232.241 76.205,234.091 76.271 M217.909 76.629 C 218.659 76.707,219.886 76.707,220.636 76.629 C 221.386 76.550,220.773 76.486,219.273 76.486 C 217.773 76.486,217.159 76.550,217.909 76.629 M259.005 76.625 C 259.558 76.708,260.376 76.706,260.823 76.620 C 261.270 76.533,260.818 76.465,259.818 76.468 C 258.818 76.470,258.452 76.541,259.005 76.625 M205.091 77.010 C 205.091 77.165,205.745 77.230,206.545 77.153 C 207.345 77.077,208.000 76.950,208.000 76.871 C 208.000 76.792,207.345 76.727,206.545 76.727 C 205.745 76.727,205.091 76.854,205.091 77.010 M131.364 77.356 C 132.114 77.434,133.341 77.434,134.091 77.356 C 134.841 77.277,134.227 77.213,132.727 77.213 C 131.227 77.213,130.614 77.277,131.364 77.356 M192.104 77.360 C 193.261 77.432,195.061 77.432,196.104 77.359 C 197.147 77.285,196.200 77.226,194.000 77.227 C 191.800 77.228,190.947 77.288,192.104 77.360 M181.545 77.719 C 182.295 77.798,183.523 77.798,184.273 77.719 C 185.023 77.641,184.409 77.577,182.909 77.577 C 181.409 77.577,180.795 77.641,181.545 77.719 M275.258 79.000 C 276.149 79.950,276.926 80.727,276.985 80.727 C 277.258 80.727,276.969 80.401,275.364 78.894 L 273.636 77.273 275.258 79.000 M170.825 78.082 C 171.478 78.163,172.460 78.161,173.007 78.078 C 173.553 77.995,173.018 77.929,171.818 77.931 C 170.618 77.933,170.171 78.001,170.825 78.082 M160.818 78.442 C 161.368 78.526,162.268 78.526,162.818 78.442 C 163.368 78.359,162.918 78.291,161.818 78.291 C 160.718 78.291,160.268 78.359,160.818 78.442 M150.647 78.813 C 151.603 78.888,153.076 78.887,153.920 78.811 C 154.764 78.735,153.982 78.673,152.182 78.675 C 150.382 78.676,149.691 78.738,150.647 78.813 M141.187 79.170 C 141.740 79.254,142.558 79.251,143.005 79.165 C 143.452 79.079,143.000 79.010,142.000 79.013 C 141.000 79.016,140.634 79.086,141.187 79.170 M134.636 79.523 C 134.986 79.615,135.559 79.615,135.909 79.523 C 136.259 79.432,135.973 79.357,135.273 79.357 C 134.573 79.357,134.286 79.432,134.636 79.523 M273.636 80.727 C 274.418 81.527,275.139 82.182,275.239 82.182 C 275.339 82.182,274.781 81.527,274.000 80.727 C 273.219 79.927,272.498 79.273,272.398 79.273 C 272.298 79.273,272.855 79.927,273.636 80.727 M201.427 85.727 L 200.545 86.727 201.455 85.936 C 201.955 85.501,202.936 85.077,203.636 84.994 L 204.909 84.844 203.609 84.785 C 202.604 84.740,202.109 84.954,201.427 85.727 M169.487 86.636 C 169.571 86.686,170.212 87.218,170.911 87.818 L 172.182 88.909 171.114 87.727 C 170.526 87.077,169.885 86.545,169.690 86.545 C 169.494 86.545,169.402 86.586,169.487 86.636 M116.850 90.182 C 116.850 91.682,116.914 92.295,116.992 91.545 C 117.071 90.795,117.071 89.568,116.992 88.818 C 116.914 88.068,116.850 88.682,116.850 90.182 M185.613 89.909 L 184.545 91.091 185.816 90.000 C 186.515 89.400,187.156 88.868,187.241 88.818 C 187.325 88.768,187.234 88.727,187.038 88.727 C 186.842 88.727,186.201 89.259,185.613 89.909 M231.008 90.545 C 231.008 91.445,231.079 91.814,231.166 91.364 C 231.252 90.914,231.252 90.177,231.166 89.727 C 231.079 89.277,231.008 89.645,231.008 90.545 M157.545 89.705 C 157.895 89.797,158.468 89.797,158.818 89.705 C 159.168 89.614,158.882 89.539,158.182 89.539 C 157.482 89.539,157.195 89.614,157.545 89.705 M247.382 98.909 C 247.382 100.009,247.450 100.459,247.533 99.909 C 247.617 99.359,247.617 98.459,247.533 97.909 C 247.450 97.359,247.382 97.809,247.382 98.909 M208.277 103.530 C 208.729 103.617,209.384 103.614,209.732 103.523 C 210.079 103.432,209.709 103.360,208.909 103.364 C 208.109 103.368,207.825 103.443,208.277 103.530 M256.182 107.133 C 248.837 109.302,239.633 114.814,224.438 126.144 C 218.034 130.919,216.836 131.670,214.488 132.376 C 209.321 133.930,208.692 134.223,207.971 135.405 C 205.581 139.324,209.160 143.486,215.278 143.905 C 220.483 144.262,222.084 143.494,225.921 138.804 C 226.905 137.600,229.229 135.907,234.103 132.841 C 250.460 122.553,260.343 115.520,262.856 112.381 C 266.409 107.943,262.868 105.158,256.182 107.133 M166.630 109.091 C 166.630 109.791,166.705 110.077,166.796 109.727 C 166.888 109.377,166.888 108.805,166.796 108.455 C 166.705 108.105,166.630 108.391,166.630 109.091 M134.281 114.545 C 134.281 115.445,134.352 115.814,134.438 115.364 C 134.525 114.914,134.525 114.177,134.438 113.727 C 134.352 113.277,134.281 113.645,134.281 114.545 M154.182 119.951 C 154.182 120.191,153.814 120.535,153.364 120.716 C 152.810 120.938,152.737 121.052,153.137 121.068 C 153.810 121.094,154.770 120.103,154.415 119.749 C 154.287 119.620,154.182 119.711,154.182 119.951 M283.273 133.568 C 283.273 133.631,283.805 134.163,284.455 134.750 L 285.636 135.818 284.568 134.636 C 283.573 133.535,283.273 133.287,283.273 133.568 M217.730 135.628 C 221.282 137.240,219.928 141.091,215.808 141.091 C 214.174 141.091,212.364 139.466,212.364 138.000 C 212.364 135.559,215.006 134.391,217.730 135.628 M107.357 138.182 C 107.357 138.882,107.432 139.168,107.523 138.818 C 107.615 138.468,107.615 137.895,107.523 137.545 C 107.432 137.195,107.357 137.482,107.357 138.182 M286.662 141.091 C 286.662 142.391,286.728 142.923,286.809 142.273 C 286.889 141.623,286.889 140.559,286.809 139.909 C 286.728 139.259,286.662 139.791,286.662 141.091 M226.321 142.276 C 225.599 143.300,224.450 144.240,222.928 145.052 C 220.250 146.479,220.069 146.257,225.767 148.539 C 230.404 150.396,233.491 151.745,243.455 156.267 C 252.713 160.469,255.936 161.064,257.967 158.943 C 260.781 156.007,256.147 152.953,235.455 144.103 C 234.255 143.590,232.172 142.620,230.827 141.949 C 227.735 140.404,227.635 140.412,226.321 142.276 M162.341 161.182 L 161.273 162.364 162.455 161.296 C 163.556 160.300,163.804 160.000,163.523 160.000 C 163.460 160.000,162.928 160.532,162.341 161.182 M343.771 163.636 C 343.771 165.736,343.831 166.595,343.904 165.545 C 343.978 164.495,343.978 162.777,343.904 161.727 C 343.831 160.677,343.771 161.536,343.771 163.636 M149.364 164.620 C 149.814 164.707,150.550 164.707,151.000 164.620 C 151.450 164.534,151.082 164.463,150.182 164.463 C 149.282 164.463,148.914 164.534,149.364 164.620 M175.025 168.727 C 175.025 170.027,175.091 170.559,175.172 169.909 C 175.253 169.259,175.253 168.195,175.172 167.545 C 175.091 166.895,175.025 167.427,175.025 168.727 M169.175 169.455 C 169.175 170.155,169.250 170.441,169.342 170.091 C 169.433 169.741,169.433 169.168,169.342 168.818 C 169.250 168.468,169.175 168.755,169.175 169.455 M50.658 172.545 C 50.660 173.745,50.728 174.193,50.809 173.539 C 50.890 172.885,50.888 171.904,50.805 171.357 C 50.722 170.811,50.656 171.345,50.658 172.545 M280.684 171.557 C 280.564 172.280,280.618 172.619,280.819 172.417 C 281.003 172.234,281.092 171.697,281.017 171.224 C 280.903 170.496,280.851 170.547,280.684 171.557 M275.913 180.257 C 276.366 180.344,277.020 180.341,277.368 180.250 C 277.716 180.159,277.345 180.088,276.545 180.092 C 275.745 180.096,275.461 180.170,275.913 180.257 M197.007 181.354 C 197.660 181.435,198.642 181.434,199.188 181.351 C 199.735 181.268,199.200 181.202,198.000 181.204 C 196.800 181.206,196.353 181.274,197.007 181.354 M175.364 183.818 C 175.368 184.618,175.443 184.903,175.530 184.450 C 175.617 183.998,175.614 183.343,175.523 182.996 C 175.432 182.648,175.360 183.018,175.364 183.818 M286.822 188.621 C 287.275 188.708,287.929 188.704,288.277 188.613 C 288.625 188.522,288.255 188.451,287.455 188.455 C 286.655 188.459,286.370 188.534,286.822 188.621 M263.364 188.988 C 263.914 189.071,264.814 189.071,265.364 188.988 C 265.914 188.904,265.464 188.836,264.364 188.836 C 263.264 188.836,262.814 188.904,263.364 188.988 M166.818 191.529 C 167.268 191.616,168.005 191.616,168.455 191.529 C 168.905 191.443,168.536 191.372,167.636 191.372 C 166.736 191.372,166.368 191.443,166.818 191.529 M261.909 194.796 C 262.259 194.888,262.832 194.888,263.182 194.796 C 263.532 194.705,263.245 194.630,262.545 194.630 C 261.845 194.630,261.559 194.705,261.909 194.796 M317.945 198.545 C 317.945 200.245,318.008 200.941,318.084 200.091 C 318.161 199.241,318.161 197.850,318.084 197.000 C 318.008 196.150,317.945 196.845,317.945 198.545 M255.550 196.257 C 256.002 196.344,256.657 196.341,257.004 196.250 C 257.352 196.159,256.982 196.088,256.182 196.092 C 255.382 196.096,255.097 196.170,255.550 196.257 M224.840 201.273 C 224.842 202.473,224.910 202.920,224.991 202.266 C 225.072 201.613,225.070 200.631,224.987 200.084 C 224.904 199.538,224.838 200.073,224.840 201.273 M190.993 202.182 C 190.993 202.882,191.068 203.168,191.160 202.818 C 191.251 202.468,191.251 201.895,191.160 201.545 C 191.068 201.195,190.993 201.482,190.993 202.182 M237.071 206.818 L 235.818 208.182 237.182 206.929 C 238.451 205.762,238.713 205.455,238.435 205.455 C 238.374 205.455,237.761 206.068,237.071 206.818 M289.909 211.523 C 290.259 211.615,290.832 211.615,291.182 211.523 C 291.532 211.432,291.245 211.357,290.545 211.357 C 289.845 211.357,289.559 211.432,289.909 211.523 M235.916 212.264 C 236.569 212.344,237.551 212.343,238.097 212.260 C 238.644 212.177,238.109 212.111,236.909 212.113 C 235.709 212.115,235.262 212.183,235.916 212.264 M264.455 212.269 C 265.605 212.341,267.486 212.341,268.636 212.269 C 269.786 212.197,268.845 212.138,266.545 212.138 C 264.245 212.138,263.305 212.197,264.455 212.269 M280.273 212.257 C 280.723 212.343,281.459 212.343,281.909 212.257 C 282.359 212.170,281.991 212.099,281.091 212.099 C 280.191 212.099,279.823 212.170,280.273 212.257 M226.459 212.621 C 226.911 212.708,227.566 212.704,227.913 212.613 C 228.261 212.522,227.891 212.451,227.091 212.455 C 226.291 212.459,226.006 212.534,226.459 212.621 M218.455 212.990 C 219.105 213.071,220.168 213.071,220.818 212.990 C 221.468 212.910,220.936 212.844,219.636 212.844 C 218.336 212.844,217.805 212.910,218.455 212.990 M210.825 213.354 C 211.478 213.435,212.460 213.434,213.007 213.351 C 213.553 213.268,213.018 213.202,211.818 213.204 C 210.618 213.206,210.171 213.274,210.825 213.354 M197.364 213.711 C 197.814 213.798,198.550 213.798,199.000 213.711 C 199.450 213.625,199.082 213.554,198.182 213.554 C 197.282 213.554,196.914 213.625,197.364 213.711 M178.982 214.089 C 180.721 214.155,183.667 214.155,185.527 214.089 C 187.387 214.023,185.964 213.969,182.364 213.968 C 178.764 213.968,177.242 214.022,178.982 214.089 M240.455 214.454 C 243.205 214.515,247.705 214.515,250.455 214.454 C 253.205 214.392,250.955 214.341,245.455 214.341 C 239.955 214.341,237.705 214.392,240.455 214.454 M281.010 214.449 C 281.865 214.525,283.174 214.524,283.919 214.446 C 284.663 214.368,283.964 214.305,282.364 214.306 C 280.764 214.308,280.154 214.372,281.010 214.449 M169.545 215.887 C 169.895 215.978,170.468 215.978,170.818 215.887 C 171.168 215.796,170.882 215.721,170.182 215.721 C 169.482 215.721,169.195 215.796,169.545 215.887 M201.197 215.906 C 202.555 215.977,204.683 215.976,205.924 215.905 C 207.166 215.834,206.055 215.777,203.455 215.778 C 200.855 215.778,199.839 215.836,201.197 215.906 M337.183 221.273 C 337.187 222.073,337.261 222.357,337.348 221.905 C 337.435 221.453,337.432 220.798,337.341 220.450 C 337.250 220.103,337.179 220.473,337.183 221.273 M297.182 227.897 C 297.732 227.980,298.632 227.980,299.182 227.897 C 299.732 227.814,299.282 227.745,298.182 227.745 C 297.082 227.745,296.632 227.814,297.182 227.897 M290.459 228.257 C 290.911 228.344,291.566 228.341,291.913 228.250 C 292.261 228.159,291.891 228.088,291.091 228.092 C 290.291 228.096,290.006 228.170,290.459 228.257 M262.091 228.984 C 262.541 229.071,263.277 229.071,263.727 228.984 C 264.177 228.897,263.809 228.826,262.909 228.826 C 262.009 228.826,261.641 228.897,262.091 228.984 M239.545 229.359 C 240.595 229.432,242.314 229.432,243.364 229.359 C 244.414 229.286,243.555 229.225,241.455 229.225 C 239.355 229.225,238.495 229.286,239.545 229.359 M298.641 229.352 C 299.194 229.435,300.012 229.433,300.460 229.347 C 300.907 229.261,300.455 229.192,299.455 229.195 C 298.455 229.198,298.089 229.268,298.641 229.352 M224.102 229.722 C 225.058 229.797,226.531 229.797,227.375 229.720 C 228.219 229.644,227.436 229.583,225.636 229.584 C 223.836 229.585,223.146 229.647,224.102 229.722 M267.188 230.445 C 267.842 230.526,268.824 230.525,269.370 230.442 C 269.917 230.359,269.382 230.292,268.182 230.294 C 266.982 230.297,266.535 230.364,267.188 230.445 M241.545 230.815 C 242.895 230.885,245.105 230.885,246.455 230.815 C 247.805 230.745,246.700 230.688,244.000 230.688 C 241.300 230.688,240.195 230.745,241.545 230.815 M168.818 231.160 C 169.168 231.251,169.741 231.251,170.091 231.160 C 170.441 231.068,170.155 230.993,169.455 230.993 C 168.755 230.993,168.468 231.068,168.818 231.160 M194.641 231.170 C 195.194 231.254,196.012 231.251,196.460 231.165 C 196.907 231.079,196.455 231.010,195.455 231.013 C 194.455 231.016,194.089 231.086,194.641 231.170 M202.273 232.260 C 202.823 232.344,203.723 232.344,204.273 232.260 C 204.823 232.177,204.373 232.109,203.273 232.109 C 202.173 232.109,201.723 232.177,202.273 232.260 M105.455 336.545 C 106.133 337.245,106.770 337.818,106.870 337.818 C 106.970 337.818,106.497 337.245,105.818 336.545 C 105.140 335.845,104.503 335.273,104.403 335.273 C 104.303 335.273,104.776 335.845,105.455 336.545 M251.364 337.705 C 251.714 337.797,252.286 337.797,252.636 337.705 C 252.986 337.614,252.700 337.539,252.000 337.539 C 251.300 337.539,251.014 337.614,251.364 337.705 M246.095 338.075 C 246.547 338.162,247.202 338.159,247.550 338.068 C 247.897 337.977,247.527 337.906,246.727 337.910 C 245.927 337.914,245.643 337.988,246.095 338.075 M233.909 338.447 C 234.659 338.525,235.886 338.525,236.636 338.447 C 237.386 338.368,236.773 338.304,235.273 338.304 C 233.773 338.304,233.159 338.368,233.909 338.447 M189.356 338.808 C 190.001 338.888,191.147 338.890,191.901 338.811 C 192.655 338.732,192.127 338.666,190.727 338.665 C 189.327 338.663,188.710 338.728,189.356 338.808 M167.558 339.178 C 168.614 339.251,170.251 339.251,171.194 339.176 C 172.137 339.101,171.273 339.041,169.273 339.042 C 167.273 339.043,166.501 339.104,167.558 339.178 M261.545 339.160 C 261.895 339.251,262.468 339.251,262.818 339.160 C 263.168 339.068,262.882 338.993,262.182 338.993 C 261.482 338.993,261.195 339.068,261.545 339.160 M151.909 339.536 C 152.559 339.616,153.623 339.616,154.273 339.536 C 154.923 339.455,154.391 339.389,153.091 339.389 C 151.791 339.389,151.259 339.455,151.909 339.536 M131.000 340.614 C 131.350 340.706,131.923 340.706,132.273 340.614 C 132.623 340.523,132.336 340.448,131.636 340.448 C 130.936 340.448,130.650 340.523,131.000 340.614 M236.455 340.634 C 238.205 340.701,241.068 340.701,242.818 340.634 C 244.568 340.568,243.136 340.513,239.636 340.513 C 236.136 340.513,234.705 340.568,236.455 340.634 M198.091 340.998 C 199.941 341.064,202.968 341.064,204.818 340.998 C 206.668 340.932,205.155 340.878,201.455 340.878 C 197.755 340.878,196.241 340.932,198.091 340.998 M177.545 341.351 C 178.095 341.435,178.995 341.435,179.545 341.351 C 180.095 341.268,179.645 341.200,178.545 341.200 C 177.445 341.200,176.995 341.268,177.545 341.351 M162.455 341.711 C 162.905 341.798,163.641 341.798,164.091 341.711 C 164.541 341.625,164.173 341.554,163.273 341.554 C 162.373 341.554,162.005 341.625,162.455 341.711 M147.011 342.086 C 147.967 342.161,149.440 342.160,150.284 342.084 C 151.128 342.008,150.345 341.946,148.545 341.947 C 146.745 341.948,146.055 342.011,147.011 342.086 M138.459 342.439 C 138.911 342.526,139.566 342.523,139.913 342.432 C 140.261 342.341,139.891 342.269,139.091 342.274 C 138.291 342.278,138.006 342.352,138.459 342.439 M115.909 343.529 C 116.359 343.616,117.095 343.616,117.545 343.529 C 117.995 343.443,117.627 343.372,116.727 343.372 C 115.827 343.372,115.459 343.443,115.909 343.529 M121.545 343.538 C 122.295 343.616,123.523 343.616,124.273 343.538 C 125.023 343.459,124.409 343.395,122.909 343.395 C 121.409 343.395,120.795 343.459,121.545 343.538 " stroke="none" fill="#6500ff" fill-rule="evenodd"></path></g></svg>

<div id='ovto'></div>
<div id='ovto-debug'></div>

<script type="text/javascript">
(function(global_object){"use strict";var console;if(typeof globalThis!=="undefined"){global_object=globalThis}else if(typeof global!=="undefined"){global_object=global}else if(typeof window!=="undefined"){global_object=window}if(typeof global_object.console==="object"){console=global_object.console}else if(global_object.console==null){console=global_object.console={}}else{console={}}if(!("log"in console)){console.log=function(){}}if(!("warn"in console)){console.warn=console.log}if(typeof global_object.Opal!=="undefined"){console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup.");return global_object.Opal}var nil;var BasicObject;var _Object;var Module;var Class;var _Opal;var Kernel;var Opal=global_object.Opal={};Opal.global=global_object;global_object.Opal=Opal;Opal.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:true};var $has_own=Object.hasOwnProperty;var $bind=Function.prototype.bind;var $set_proto=Object.setPrototypeOf;var $slice=Array.prototype.slice;var $splice=Array.prototype.splice;var nil_id=4;var unique_id=nil_id;Opal.uid=function(){unique_id+=2;return unique_id};Opal.id=function(obj){if(obj.$$is_number)return obj*2+1;if(obj.$$id!=null){return obj.$$id}$prop(obj,"$$id",Opal.uid());return obj.$$id};Opal.gvars={};Opal.exit=function(status){if(Opal.gvars.DEBUG)console.log("Exited with status "+status)};Opal.exceptions=[];Opal.pop_exception=function(){var exception=Opal.exceptions.pop();if(exception){Opal.gvars["!"]=exception;Opal.gvars["@"]=exception.$backtrace()}else{Opal.gvars["!"]=Opal.gvars["@"]=nil}};function $prop(object,name,initialValue){if(typeof object==="string"){object[name]=initialValue}else{Object.defineProperty(object,name,{value:initialValue,enumerable:false,configurable:true,writable:true})}}Opal.prop=$prop;Opal.defineProperty=Opal.prop;Opal.slice=$slice;var $truthy=Opal.truthy=function(val){return false!==val&&nil!==val&&undefined!==val&&null!==val&&(!(val instanceof Boolean)||true===val.valueOf())};Opal.falsy=function(val){return!$truthy(val)};Opal.type_error=function(object,type,method,coerced){object=object.$$class;if(coerced&&method){coerced=coerced.$$class;return Opal.TypeError.$new("can't convert "+object+" into "+type+" ("+object+"#"+method+" gives "+coerced+")")}else{return Opal.TypeError.$new("no implicit conversion of "+object+" into "+type)}};Opal.coerce_to=function(object,type,method,args){var body;if(method==="to_int"&&type===Opal.Integer&&object.$$is_number)return object<0?Math.ceil(object):Math.floor(object);if(method==="to_str"&&type===Opal.String&&object.$$is_string)return object;if(Opal.is_a(object,type))return object;if(object["$respond_to?"].$$pristine&&object.$method_missing.$$pristine){body=object["$"+method];if(body==null||body.$$stub)throw Opal.type_error(object,type);return body.apply(object,args)}if(!object["$respond_to?"](method)){throw Opal.type_error(object,type)}if(args==null)args=[];return Opal.send(object,method,args)};Opal.respond_to=function(obj,jsid,include_all){if(obj==null||!obj.$$class)return false;include_all=!!include_all;var body=obj[jsid];if(obj["$respond_to?"].$$pristine){if(typeof body==="function"&&!body.$$stub){return true}if(!obj["$respond_to_missing?"].$$pristine){return Opal.send(obj,obj["$respond_to_missing?"],[jsid.substr(1),include_all])}}else{return Opal.send(obj,obj["$respond_to?"],[jsid.substr(1),include_all])}};Opal.trace_class=false;Opal.tracers_for_class=[];function invoke_tracers_for_class(klass_or_module){var i,ii,tracer;for(i=0,ii=Opal.tracers_for_class.length;i<ii;i++){tracer=Opal.tracers_for_class[i];tracer.trace_object=klass_or_module;tracer.block.$call(tracer)}}function handle_autoload(cref,name){if(!cref.$$autoload[name].loaded){cref.$$autoload[name].loaded=true;try{Opal.Kernel.$require(cref.$$autoload[name].path)}catch(e){cref.$$autoload[name].exception=e;throw e}cref.$$autoload[name].required=true;if(cref.$$const[name]!=null){cref.$$autoload[name].success=true;return cref.$$const[name]}}else if(cref.$$autoload[name].loaded&&!cref.$$autoload[name].required){if(cref.$$autoload[name].exception){throw cref.$$autoload[name].exception}}}function const_get_name(cref,name){if(cref){if(cref.$$const[name]!=null){return cref.$$const[name]}if(cref.$$autoload&&cref.$$autoload[name]){return handle_autoload(cref,name)}}}function const_lookup_nesting(nesting,name){var i,ii,constant;if(nesting.length===0)return;for(i=0,ii=nesting.length;i<ii;i++){constant=nesting[i].$$const[name];if(constant!=null){return constant}else if(nesting[i].$$autoload&&nesting[i].$$autoload[name]){return handle_autoload(nesting[i],name)}}}function const_lookup_ancestors(cref,name){var i,ii,ancestors;if(cref==null)return;ancestors=Opal.ancestors(cref);for(i=0,ii=ancestors.length;i<ii;i++){if(ancestors[i].$$const&&$has_own.call(ancestors[i].$$const,name)){return ancestors[i].$$const[name]}else if(ancestors[i].$$autoload&&ancestors[i].$$autoload[name]){return handle_autoload(ancestors[i],name)}}}function const_lookup_Object(cref,name){if(cref==null||cref.$$is_module){return const_lookup_ancestors(_Object,name)}}function const_missing(cref,name,skip_missing){if(!skip_missing){return(cref||_Object).$const_missing(name)}}Opal.const_get_local=function(cref,name,skip_missing){var result;if(cref==null)return;if(cref==="::")cref=_Object;if(!cref.$$is_module&&!cref.$$is_class){throw new Opal.TypeError(cref.toString()+" is not a class/module")}result=const_get_name(cref,name);if(result!=null)return result;result=const_missing(cref,name,skip_missing);if(result!=null)return result};Opal.const_get_qualified=function(cref,name,skip_missing){var result,cache,cached,current_version=Opal.const_cache_version;if(name==null){result=const_get_name(_Object,cref);if(result!=null)return result;return Opal.const_get_qualified(_Object,cref,skip_missing)}if(cref==null)return;if(cref==="::")cref=_Object;if(!cref.$$is_module&&!cref.$$is_class){throw new Opal.TypeError(cref.toString()+" is not a class/module")}if((cache=cref.$$const_cache)==null){$prop(cref,"$$const_cache",Object.create(null));cache=cref.$$const_cache}cached=cache[name];if(cached==null||cached[0]!==current_version){(result=const_get_name(cref,name))!=null||(result=const_lookup_ancestors(cref,name))!=null;cache[name]=[current_version,result]}else{result=cached[1]}return result!=null?result:const_missing(cref,name,skip_missing)};Opal.const_cache_version=1;Opal.const_get_relative=function(nesting,name,skip_missing){var cref=nesting[0],result,current_version=Opal.const_cache_version,cache,cached;if((cache=nesting.$$const_cache)==null){$prop(nesting,"$$const_cache",Object.create(null));cache=nesting.$$const_cache}cached=cache[name];if(cached==null||cached[0]!==current_version){(result=const_get_name(cref,name))!=null||(result=const_lookup_nesting(nesting,name))!=null||(result=const_lookup_ancestors(cref,name))!=null||(result=const_lookup_Object(cref,name))!=null;cache[name]=[current_version,result]}else{result=cached[1]}return result!=null?result:const_missing(cref,name,skip_missing)};function $const_set(cref,name,value){if(cref==null||cref==="::")cref=_Object;if(value.$$is_a_module){if(value.$$name==null||value.$$name===nil)value.$$name=name;if(value.$$base_module==null)value.$$base_module=cref}cref.$$const=cref.$$const||Object.create(null);cref.$$const[name]=value;cref.$$=cref.$$const;Opal.const_cache_version++;if(cref===_Object)Opal[name]=value;$prop(cref,name,value);return value}Opal.const_set=$const_set;Opal.constants=function(cref,inherit){if(inherit==null)inherit=true;var module,modules=[cref],i,ii,constants={},constant;if(inherit)modules=modules.concat(Opal.ancestors(cref));if(inherit&&cref.$$is_module)modules=modules.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object));for(i=0,ii=modules.length;i<ii;i++){module=modules[i];if(cref!==_Object&&module==_Object)break;for(constant in module.$$const){constants[constant]=true}if(module.$$autoload){for(constant in module.$$autoload){constants[constant]=true}}}return Object.keys(constants)};Opal.const_remove=function(cref,name){Opal.const_cache_version++;if(cref.$$const[name]!=null){var old=cref.$$const[name];delete cref.$$const[name];return old}if(cref.$$autoload&&cref.$$autoload[name]){delete cref.$$autoload[name];return nil}throw Opal.NameError.$new("constant "+cref+"::"+cref.$name()+" not defined")};Opal.const_get_relative_factory=function(nesting){return function(name,skip_missing){return Opal.$$(nesting,name,skip_missing)}};Opal.$$=Opal.const_get_relative;Opal.$$$=Opal.const_get_qualified;Opal.$r=Opal.const_get_relative_factory;Opal.allocate_class=function(name,superclass,singleton){var klass,constructor;if(superclass!=null&&superclass.$$bridge){constructor=function(){var args=$slice.call(arguments),self=new($bind.apply(superclass.$$constructor,[null].concat(args)));$set_proto(self,klass.$$prototype);return self}}else{constructor=function(){}}if(name&&name!==nil){$prop(constructor,"displayName","::"+name)}klass=constructor;$prop(klass,"$$name",name);$prop(klass,"$$constructor",constructor);$prop(klass,"$$prototype",constructor.prototype);$prop(klass,"$$const",{});$prop(klass,"$$is_class",true);$prop(klass,"$$is_a_module",true);$prop(klass,"$$super",superclass);$prop(klass,"$$cvars",{});$prop(klass,"$$own_included_modules",[]);$prop(klass,"$$own_prepended_modules",[]);$prop(klass,"$$ancestors",[]);$prop(klass,"$$ancestors_cache_version",null);$prop(klass,"$$subclasses",[]);$prop(klass.$$prototype,"$$class",klass);if(Opal.Class){$set_proto(klass,Opal.Class.prototype)}if(superclass!=null){$set_proto(klass.$$prototype,superclass.$$prototype);if(singleton!==true){if(typeof WeakRef!=="undefined"){var i,subclass,rebuilt_subclasses=[];for(i=0;i<superclass.$$subclasses.length;i++){subclass=superclass.$$subclasses[i];if(subclass.deref()!==undefined){rebuilt_subclasses.push(subclass)}}rebuilt_subclasses.push(new WeakRef(klass));superclass.$$subclasses=rebuilt_subclasses}else{superclass.$$subclasses.push(klass)}}if(superclass.$$meta){Opal.build_class_singleton_class(klass)}}return klass};function find_existing_class(scope,name){var klass=const_get_name(scope,name);if(klass){if(!klass.$$is_class){throw Opal.TypeError.$new(name+" is not a class")}return klass}}function ensureSuperclassMatch(klass,superclass){if(klass.$$super!==superclass){throw Opal.TypeError.$new("superclass mismatch for class "+klass.$$name)}}Opal.klass=function(scope,superclass,name){var bridged;if(scope==null||scope=="::"){scope=_Object}else if(!scope.$$is_class&&!scope.$$is_module){scope=scope.$$class}if(superclass!=null&&(!superclass.hasOwnProperty||superclass.hasOwnProperty&&!superclass.hasOwnProperty("$$is_class"))){if(superclass.constructor&&superclass.constructor.name=="Function"){bridged=superclass;superclass=_Object}else{throw Opal.TypeError.$new("superclass must be a Class ("+(superclass.constructor&&(superclass.constructor.name||superclass.constructor.$$name)||typeof superclass)+" given)")}}var klass=find_existing_class(scope,name);if(klass){if(superclass){ensureSuperclassMatch(klass,superclass)}if(Opal.trace_class){invoke_tracers_for_class(klass)}return klass}if(superclass==null){superclass=_Object}klass=Opal.allocate_class(name,superclass);$const_set(scope,name,klass);if(superclass.$inherited){superclass.$inherited(klass)}if(bridged){Opal.bridge(bridged,klass)}if(Opal.trace_class){invoke_tracers_for_class(klass)}return klass};Opal.allocate_module=function(name){var constructor=function(){};if(name){$prop(constructor,"displayName",name+".$$constructor")}var module=constructor;if(name)$prop(constructor,"displayName",name+".constructor");$prop(module,"$$name",name);$prop(module,"$$prototype",constructor.prototype);$prop(module,"$$const",{});$prop(module,"$$is_module",true);$prop(module,"$$is_a_module",true);$prop(module,"$$cvars",{});$prop(module,"$$iclasses",[]);$prop(module,"$$own_included_modules",[]);$prop(module,"$$own_prepended_modules",[]);$prop(module,"$$ancestors",[module]);$prop(module,"$$ancestors_cache_version",null);$set_proto(module,Opal.Module.prototype);return module};function find_existing_module(scope,name){var module=const_get_name(scope,name);if(module==null&&scope===_Object)module=const_lookup_ancestors(_Object,name);if(module){if(!module.$$is_module&&module!==_Object){throw Opal.TypeError.$new(name+" is not a module")}}return module}Opal.module=function(scope,name){var module;if(scope==null||scope=="::"){scope=_Object}else if(!scope.$$is_class&&!scope.$$is_module){scope=scope.$$class}module=find_existing_module(scope,name);if(module){if(Opal.trace_class){invoke_tracers_for_class(module)}return module}module=Opal.allocate_module(name);$const_set(scope,name,module);if(Opal.trace_class){invoke_tracers_for_class(module)}return module};Opal.get_singleton_class=function(object){if(object.$$meta){return object.$$meta}if(object.hasOwnProperty("$$is_class")){return Opal.build_class_singleton_class(object)}else if(object.hasOwnProperty("$$is_module")){return Opal.build_module_singleton_class(object)}else{return Opal.build_object_singleton_class(object)}};Opal.build_class_singleton_class=function(klass){var superclass,meta;if(klass.$$meta){return klass.$$meta}superclass=klass===BasicObject?Class:Opal.get_singleton_class(klass.$$super);meta=Opal.allocate_class(null,superclass,true);$prop(meta,"$$is_singleton",true);$prop(meta,"$$singleton_of",klass);$prop(klass,"$$meta",meta);$set_proto(klass,meta.$$prototype);$prop(klass,"$$class",Opal.Class);return meta};Opal.build_module_singleton_class=function(mod){if(mod.$$meta){return mod.$$meta}var meta=Opal.allocate_class(null,Opal.Module,true);$prop(meta,"$$is_singleton",true);$prop(meta,"$$singleton_of",mod);$prop(mod,"$$meta",meta);$set_proto(mod,meta.$$prototype);$prop(mod,"$$class",Opal.Module);return meta};Opal.build_object_singleton_class=function(object){var superclass=object.$$class,klass=Opal.allocate_class(nil,superclass,true);$prop(klass,"$$is_singleton",true);$prop(klass,"$$singleton_of",object);delete klass.$$prototype.$$class;$prop(object,"$$meta",klass);$set_proto(object,object.$$meta.$$prototype);return klass};Opal.is_method=function(prop){return prop[0]==="$"&&prop[1]!=="$"};Opal.instance_methods=function(mod){var exclude=[],results=[],ancestors=Opal.ancestors(mod);for(var i=0,l=ancestors.length;i<l;i++){var ancestor=ancestors[i],proto=ancestor.$$prototype;if(proto.hasOwnProperty("$$dummy")){proto=proto.$$define_methods_on}var props=Object.getOwnPropertyNames(proto);for(var j=0,ll=props.length;j<ll;j++){var prop=props[j];if(Opal.is_method(prop)){var method_name=prop.slice(1),method=proto[prop];if(method.$$stub&&exclude.indexOf(method_name)===-1){exclude.push(method_name)}if(!method.$$stub&&results.indexOf(method_name)===-1&&exclude.indexOf(method_name)===-1){results.push(method_name)}}}}return results};Opal.own_instance_methods=function(mod){var results=[],proto=mod.$$prototype;if(proto.hasOwnProperty("$$dummy")){proto=proto.$$define_methods_on}var props=Object.getOwnPropertyNames(proto);for(var i=0,length=props.length;i<length;i++){var prop=props[i];if(Opal.is_method(prop)){var method=proto[prop];if(!method.$$stub){var method_name=prop.slice(1);results.push(method_name)}}}return results};Opal.methods=function(obj){return Opal.instance_methods(obj.$$meta||obj.$$class)};Opal.own_methods=function(obj){if(obj.$$meta){return Opal.own_instance_methods(obj.$$meta)}else{return[]}};Opal.receiver_methods=function(obj){var mod=Opal.get_singleton_class(obj);var singleton_methods=Opal.own_instance_methods(mod);var instance_methods=Opal.own_instance_methods(mod.$$super);return singleton_methods.concat(instance_methods)};Opal.class_variables=function(module){var ancestors=Opal.ancestors(module),i,length=ancestors.length,result={};for(i=length-1;i>=0;i--){var ancestor=ancestors[i];for(var cvar in ancestor.$$cvars){result[cvar]=ancestor.$$cvars[cvar]}}return result};Opal.class_variable_set=function(module,name,value){var ancestors=Opal.ancestors(module),i,length=ancestors.length;for(i=length-2;i>=0;i--){var ancestor=ancestors[i];if($has_own.call(ancestor.$$cvars,name)){ancestor.$$cvars[name]=value;return value}}module.$$cvars[name]=value;return value};Opal.class_variable_get=function(module,name,tolerant){if($has_own.call(module.$$cvars,name))return module.$$cvars[name];var ancestors=Opal.ancestors(module),i,length=ancestors.length;for(i=0;i<length;i++){var ancestor=ancestors[i];if($has_own.call(ancestor.$$cvars,name)){return ancestor.$$cvars[name]}}if(!tolerant)throw Opal.NameError.$new("uninitialized class variable "+name+" in "+module.$name());return nil};function isRoot(proto){return proto.hasOwnProperty("$$iclass")&&proto.hasOwnProperty("$$root")}function own_included_modules(module){var result=[],mod,proto=Object.getPrototypeOf(module.$$prototype);while(proto){if(proto.hasOwnProperty("$$class")){break}mod=protoToModule(proto);if(mod){result.push(mod)}proto=Object.getPrototypeOf(proto)}return result}function own_prepended_modules(module){var result=[],mod,proto=Object.getPrototypeOf(module.$$prototype);if(module.$$prototype.hasOwnProperty("$$dummy")){while(proto){if(proto===module.$$prototype.$$define_methods_on){break}mod=protoToModule(proto);if(mod){result.push(mod)}proto=Object.getPrototypeOf(proto)}}return result}Opal.append_features=function(module,includer){var module_ancestors=Opal.ancestors(module);var iclasses=[];if(module_ancestors.indexOf(includer)!==-1){throw Opal.ArgumentError.$new("cyclic include detected")}for(var i=0,length=module_ancestors.length;i<length;i++){var ancestor=module_ancestors[i],iclass=create_iclass(ancestor);$prop(iclass,"$$included",true);iclasses.push(iclass)}var includer_ancestors=Opal.ancestors(includer),chain=chain_iclasses(iclasses),start_chain_after,end_chain_on;if(includer_ancestors.indexOf(module)===-1){start_chain_after=includer.$$prototype;end_chain_on=Object.getPrototypeOf(includer.$$prototype)}else{var parent=includer.$$prototype,module_iclass=Object.getPrototypeOf(parent);while(module_iclass!=null){if(module_iclass.$$module===module&&isRoot(module_iclass)){break}parent=module_iclass;module_iclass=Object.getPrototypeOf(module_iclass)}if(module_iclass){var next_ancestor=Object.getPrototypeOf(module_iclass);while(next_ancestor.hasOwnProperty("$$iclass")&&!isRoot(next_ancestor)){next_ancestor=Object.getPrototypeOf(next_ancestor)}start_chain_after=parent;end_chain_on=next_ancestor}else{start_chain_after=includer.$$prototype;end_chain_on=Object.getPrototypeOf(includer.$$prototype)}}$set_proto(start_chain_after,chain.first);$set_proto(chain.last,end_chain_on);includer.$$own_included_modules=own_included_modules(includer);Opal.const_cache_version++};Opal.prepend_features=function(module,prepender){var module_ancestors=Opal.ancestors(module);var iclasses=[];if(module_ancestors.indexOf(prepender)!==-1){throw Opal.ArgumentError.$new("cyclic prepend detected")}for(var i=0,length=module_ancestors.length;i<length;i++){var ancestor=module_ancestors[i],iclass=create_iclass(ancestor);$prop(iclass,"$$prepended",true);iclasses.push(iclass)}var chain=chain_iclasses(iclasses),dummy_prepender=prepender.$$prototype,previous_parent=Object.getPrototypeOf(dummy_prepender),prepender_iclass,start_chain_after,end_chain_on;if(dummy_prepender.hasOwnProperty("$$dummy")){prepender_iclass=dummy_prepender.$$define_methods_on}else{prepender_iclass=create_dummy_iclass(prepender);flush_methods_in(prepender);$prop(dummy_prepender,"$$dummy",true);$prop(dummy_prepender,"$$define_methods_on",prepender_iclass);$set_proto(dummy_prepender,prepender_iclass);$set_proto(prepender_iclass,previous_parent)}var prepender_ancestors=Opal.ancestors(prepender);if(prepender_ancestors.indexOf(module)===-1){start_chain_after=dummy_prepender;end_chain_on=Object.getPrototypeOf(dummy_prepender);while(end_chain_on!=null){if(end_chain_on.hasOwnProperty("$$root")||end_chain_on===prepender_iclass||!end_chain_on.hasOwnProperty("$$iclass")){break}end_chain_on=Object.getPrototypeOf(end_chain_on)}}else{throw Opal.RuntimeError.$new("Prepending a module multiple times is not supported")}$set_proto(start_chain_after,chain.first);$set_proto(chain.last,end_chain_on);prepender.$$own_prepended_modules=own_prepended_modules(prepender);Opal.const_cache_version++};function flush_methods_in(module){var proto=module.$$prototype,props=Object.getOwnPropertyNames(proto);for(var i=0;i<props.length;i++){var prop=props[i];if(Opal.is_method(prop)){delete proto[prop]}}}function create_iclass(module){var iclass=create_dummy_iclass(module);if(module.$$is_module){module.$$iclasses.push(iclass)}return iclass}function create_dummy_iclass(module){var iclass={},proto=module.$$prototype;if(proto.hasOwnProperty("$$dummy")){proto=proto.$$define_methods_on}var props=Object.getOwnPropertyNames(proto),length=props.length,i;for(i=0;i<length;i++){var prop=props[i];$prop(iclass,prop,proto[prop])}$prop(iclass,"$$iclass",true);$prop(iclass,"$$module",module);return iclass}function chain_iclasses(iclasses){var length=iclasses.length,first=iclasses[0];$prop(first,"$$root",true);if(length===1){return{first:first,last:first}}var previous=first;for(var i=1;i<length;i++){var current=iclasses[i];$set_proto(previous,current);previous=current}return{first:iclasses[0],last:iclasses[length-1]}}Opal.bridge=function(native_klass,klass){if(native_klass.hasOwnProperty("$$bridge")){throw Opal.ArgumentError.$new("already bridged")}$prop(native_klass,"$$bridge",klass);$set_proto(native_klass.prototype,(klass.$$super||Opal.Object).$$prototype);$prop(klass,"$$prototype",native_klass.prototype);$prop(klass.$$prototype,"$$class",klass);$prop(klass,"$$constructor",native_klass);$prop(klass,"$$bridge",true)};function protoToModule(proto){if(proto.hasOwnProperty("$$dummy")){return}else if(proto.hasOwnProperty("$$iclass")){return proto.$$module}else if(proto.hasOwnProperty("$$class")){return proto.$$class}}function own_ancestors(module){return module.$$own_prepended_modules.concat([module]).concat(module.$$own_included_modules)}Opal.ancestors=function(module){if(!module){return[]}if(module.$$ancestors_cache_version===Opal.const_cache_version){return module.$$ancestors}var result=[],i,mods,length;for(i=0,mods=own_ancestors(module),length=mods.length;i<length;i++){result.push(mods[i])}if(module.$$super){for(i=0,mods=Opal.ancestors(module.$$super),length=mods.length;i<length;i++){result.push(mods[i])}}module.$$ancestors_cache_version=Opal.const_cache_version;module.$$ancestors=result;return result};Opal.included_modules=function(module){var result=[],mod=null,proto=Object.getPrototypeOf(module.$$prototype);for(;proto&&Object.getPrototypeOf(proto);proto=Object.getPrototypeOf(proto)){mod=protoToModule(proto);if(mod&&mod.$$is_module&&proto.$$iclass&&proto.$$included){result.push(mod)}}return result};Opal.add_stubs=function(stubs){var proto=Opal.BasicObject.$$prototype;var stub,existing_method;stubs=stubs.split(",");for(var i=0,length=stubs.length;i<length;i++){stub="$"+stubs[i],existing_method=proto[stub];if(existing_method==null||existing_method.$$stub){Opal.add_stub_for(proto,stub)}}};Opal.add_stub_for=function(prototype,stub){$prop(prototype,stub,Opal.stub_for(stub))};Opal.stub_for=function(method_name){function method_missing_stub(){this.$method_missing.$$p=method_missing_stub.$$p;delete method_missing_stub.$$p;var args_ary=new Array(arguments.length);for(var i=0,l=args_ary.length;i<l;i++){args_ary[i]=arguments[i]}return this.$method_missing.apply(this,[method_name.slice(1)].concat(args_ary))}method_missing_stub.$$stub=true;return method_missing_stub};Opal.ac=function(actual,expected,object,meth){var inspect="";if(object.$$is_a_module){inspect+=object.$$name+"."}else{inspect+=object.$$class.$$name+"#"}inspect+=meth;throw Opal.ArgumentError.$new("["+inspect+"] wrong number of arguments (given "+actual+", expected "+expected+")")};Opal.block_ac=function(actual,expected,context){var inspect="`block in "+context+"'";throw Opal.ArgumentError.$new(inspect+": wrong number of arguments (given "+actual+", expected "+expected+")")};Opal.find_super=function(obj,mid,current_func,defcheck,allow_stubs){var jsid="$"+mid,ancestors,super_method;if(obj.hasOwnProperty("$$meta")){ancestors=Opal.ancestors(obj.$$meta)}else{ancestors=Opal.ancestors(obj.$$class)}var current_index=ancestors.indexOf(current_func.$$owner);for(var i=current_index+1;i<ancestors.length;i++){var ancestor=ancestors[i],proto=ancestor.$$prototype;if(proto.hasOwnProperty("$$dummy")){proto=proto.$$define_methods_on}if(proto.hasOwnProperty(jsid)){super_method=proto[jsid];break}}if(!defcheck&&super_method&&super_method.$$stub&&obj.$method_missing.$$pristine){throw Opal.NoMethodError.$new("super: no superclass method `"+mid+"' for "+obj,mid)}return super_method.$$stub&&!allow_stubs?null:super_method};Opal.find_block_super=function(obj,jsid,current_func,defcheck,implicit){var call_jsid=jsid;if(!current_func){throw Opal.RuntimeError.$new("super called outside of method")}if(implicit&&current_func.$$define_meth){throw Opal.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. "+"Specify all arguments explicitly")}if(current_func.$$def){call_jsid=current_func.$$jsid}return Opal.find_super(obj,call_jsid,current_func,defcheck)};Opal.find_super_dispatcher=Opal.find_super;Opal.find_iter_super_dispatcher=Opal.find_block_super;Opal.ret=function(val){Opal.returner.$v=val;throw Opal.returner};Opal.brk=function(val,breaker){breaker.$v=val;throw breaker};Opal.new_brk=function(){return new Error("unexpected break")};Opal.yield1=function(block,arg){if(typeof block!=="function"){throw Opal.LocalJumpError.$new("no block given")}var has_mlhs=block.$$has_top_level_mlhs_arg,has_trailing_comma=block.$$has_trailing_comma_in_args;if(block.length>1||(has_mlhs||has_trailing_comma)&&block.length===1){arg=Opal.to_ary(arg)}if((block.length>1||has_trailing_comma&&block.length===1)&&arg.$$is_array){return block.apply(null,arg)}else{return block(arg)}};Opal.yieldX=function(block,args){if(typeof block!=="function"){throw Opal.LocalJumpError.$new("no block given")}if(block.length>1&&args.length===1){if(args[0].$$is_array){return block.apply(null,args[0])}}if(!args.$$is_array){var args_ary=new Array(args.length);for(var i=0,l=args_ary.length;i<l;i++){args_ary[i]=args[i]}return block.apply(null,args_ary)}return block.apply(null,args)};Opal.rescue=function(exception,candidates){for(var i=0;i<candidates.length;i++){var candidate=candidates[i];if(candidate.$$is_array){var result=Opal.rescue(exception,candidate);if(result){return result}}else if(candidate===Opal.JS.Error){return candidate}else if(candidate["$==="](exception)){return candidate}}return null};Opal.is_a=function(object,klass){if(klass!=null&&object.$$meta===klass||object.$$class===klass){return true}if(object.$$is_number&&klass.$$is_number_class){return klass.$$is_integer_class?object%1===0:true}var ancestors=Opal.ancestors(object.$$is_class?Opal.get_singleton_class(object):object.$$meta||object.$$class);return ancestors.indexOf(klass)!==-1};Opal.to_hash=function(value){if(value.$$is_hash){return value}else if(value["$respond_to?"]("to_hash",true)){var hash=value.$to_hash();if(hash.$$is_hash){return hash}else{throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Hash ("+value.$$class+"#to_hash gives "+hash.$$class+")")}}else{throw Opal.TypeError.$new("no implicit conversion of "+value.$$class+" into Hash")}};Opal.to_ary=function(value){if(value.$$is_array){return value}else if(value["$respond_to?"]("to_ary",true)){var ary=value.$to_ary();if(ary===nil){return[value]}else if(ary.$$is_array){return ary}else{throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Array ("+value.$$class+"#to_ary gives "+ary.$$class+")")}}else{return[value]}};Opal.to_a=function(value){if(value.$$is_array){return value.slice()}else if(value["$respond_to?"]("to_a",true)){var ary=value.$to_a();if(ary===nil){return[value]}else if(ary.$$is_array){return ary}else{throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Array ("+value.$$class+"#to_a gives "+ary.$$class+")")}}else{return[value]}};Opal.extract_kwargs=function(parameters){var kwargs=parameters[parameters.length-1];if(kwargs!=null&&Opal.respond_to(kwargs,"$to_hash",true)){$splice.call(parameters,parameters.length-1);return kwargs.$to_hash()}else{return Opal.hash2([],{})}};Opal.kwrestargs=function(given_args,used_args){var keys=[],map={},key,given_map=given_args.$$smap;for(key in given_map){if(!used_args[key]){keys.push(key);map[key]=given_map[key]}}return Opal.hash2(keys,map)};function apply_blockopts(block,blockopts){if(typeof blockopts==="number"){block.$$arity=blockopts}else if(typeof blockopts==="object"){Object.assign(block,blockopts)}}Opal.send=function(recv,method,args,block,blockopts){var body;if(typeof method==="function"){body=method;method=null}else if(typeof method==="string"){body=recv["$"+method]}else{throw Opal.NameError.$new("Passed method should be a string or a function")}return Opal.send2(recv,body,method,args,block,blockopts)};Opal.send2=function(recv,body,method,args,block,blockopts){if(body==null&&method!=null&&recv.$method_missing){body=recv.$method_missing;args=[method].concat(args)}apply_blockopts(block,blockopts);if(typeof block==="function")body.$$p=block;return body.apply(recv,args)};Opal.refined_send=function(refinement_groups,recv,method,args,block,blockopts){var i,j,k,ancestors,ancestor,refinements,refinement,refine_modules,refine_module,body;if(recv.hasOwnProperty("$$meta")){ancestors=Opal.ancestors(recv.$$meta)}else{ancestors=Opal.ancestors(recv.$$class)}for(i=0;i<ancestors.length;i++){ancestor=Opal.id(ancestors[i]);for(j=0;j<refinement_groups.length;j++){refinements=refinement_groups[j];for(k=refinements.length-1;k>=0;k--){refinement=refinements[k];if(typeof refinement.$$refine_modules==="undefined")continue;refine_modules=refinement.$$refine_modules;if(typeof refine_modules[ancestor]!=="undefined"){refine_module=refine_modules[ancestor];if(typeof refine_module.$$prototype["$"+method]!=="undefined"){body=refine_module.$$prototype["$"+method];return Opal.send2(recv,body,method,args,block,blockopts)}}}}}return Opal.send(recv,method,args,block,blockopts)};Opal.lambda=function(block,blockopts){block.$$is_lambda=true;apply_blockopts(block,blockopts);return block};Opal.def=function(obj,jsid,body,blockopts){apply_blockopts(body,blockopts);if(obj===Opal.top){return Opal.defn(Opal.Object,jsid,body)}else if(!obj.$$eval&&obj.$$is_a_module){return Opal.defn(obj,jsid,body)}else{return Opal.defs(obj,jsid,body)}};Opal.defn=function(module,jsid,body){body.displayName=jsid;body.$$owner=module;var name=jsid.substr(1);var proto=module.$$prototype;if(proto.hasOwnProperty("$$dummy")){proto=proto.$$define_methods_on}$prop(proto,jsid,body);if(module.$$is_module){if(module.$$module_function){Opal.defs(module,jsid,body)}for(var i=0,iclasses=module.$$iclasses,length=iclasses.length;i<length;i++){var iclass=iclasses[i];$prop(iclass,jsid,body)}}var singleton_of=module.$$singleton_of;if(module.$method_added&&!module.$method_added.$$stub&&!singleton_of){module.$method_added(name)}else if(singleton_of&&singleton_of.$singleton_method_added&&!singleton_of.$singleton_method_added.$$stub){singleton_of.$singleton_method_added(name)}return name};Opal.defs=function(obj,jsid,body,blockopts){apply_blockopts(body,blockopts);if(obj.$$is_string||obj.$$is_number){throw Opal.TypeError.$new("can't define singleton")}return Opal.defn(Opal.get_singleton_class(obj),jsid,body)};Opal.rdef=function(obj,jsid){if(!$has_own.call(obj.$$prototype,jsid)){throw Opal.NameError.$new("method '"+jsid.substr(1)+"' not defined in "+obj.$name())}delete obj.$$prototype[jsid];if(obj.$$is_singleton){if(obj.$$prototype.$singleton_method_removed&&!obj.$$prototype.$singleton_method_removed.$$stub){obj.$$prototype.$singleton_method_removed(jsid.substr(1))}}else{if(obj.$method_removed&&!obj.$method_removed.$$stub){obj.$method_removed(jsid.substr(1))}}};Opal.udef=function(obj,jsid){if(!obj.$$prototype[jsid]||obj.$$prototype[jsid].$$stub){throw Opal.NameError.$new("method '"+jsid.substr(1)+"' not defined in "+obj.$name())}Opal.add_stub_for(obj.$$prototype,jsid);if(obj.$$is_singleton){if(obj.$$prototype.$singleton_method_undefined&&!obj.$$prototype.$singleton_method_undefined.$$stub){obj.$$prototype.$singleton_method_undefined(jsid.substr(1))}}else{if(obj.$method_undefined&&!obj.$method_undefined.$$stub){obj.$method_undefined(jsid.substr(1))}}};function is_method_body(body){return typeof body==="function"&&!body.$$stub}Opal.alias=function(obj,name,old){var id="$"+name,old_id="$"+old,body,alias;if(typeof obj.$$prototype==="undefined"){obj=Opal.Object}body=obj.$$prototype["$"+old];if(obj.$$eval){return Opal.alias(Opal.get_singleton_class(obj),name,old)}if(!is_method_body(body)){var ancestor=obj.$$super;while(typeof body!=="function"&&ancestor){body=ancestor[old_id];ancestor=ancestor.$$super}if(!is_method_body(body)&&obj.$$is_module){body=Opal.Object.$$prototype[old_id]}if(!is_method_body(body)){throw Opal.NameError.$new("undefined method `"+old+"' for class `"+obj.$name()+"'")}}if(body.$$alias_of)body=body.$$alias_of;alias=function(){var block=alias.$$p,args,i,ii;args=new Array(arguments.length);for(i=0,ii=arguments.length;i<ii;i++){args[i]=arguments[i]}delete alias.$$p;return Opal.send(this,body,args,block)};try{Object.defineProperty(alias,"length",{value:body.length})}catch(e){}alias.displayName=name;alias.$$arity=body.$$arity;alias.$$parameters=body.$$parameters;alias.$$source_location=body.$$source_location;alias.$$alias_of=body;alias.$$alias_name=name;Opal.defn(obj,id,alias);return obj};Opal.alias_gvar=function(new_name,old_name){Object.defineProperty(Opal.gvars,new_name,{configurable:true,enumerable:true,get:function(){return Opal.gvars[old_name]},set:function(new_value){Opal.gvars[old_name]=new_value}});return nil};Opal.alias_native=function(obj,name,native_name){var id="$"+name,body=obj.$$prototype[native_name];if(typeof body!=="function"||body.$$stub){throw Opal.NameError.$new("undefined native method `"+native_name+"' for class `"+obj.$name()+"'")}Opal.defn(obj,id,body);return obj};Opal.hash_init=function(hash){hash.$$smap=Object.create(null);hash.$$map=Object.create(null);hash.$$keys=[]};Opal.hash_clone=function(from_hash,to_hash){to_hash.$$none=from_hash.$$none;to_hash.$$proc=from_hash.$$proc;for(var i=0,keys=from_hash.$$keys,smap=from_hash.$$smap,len=keys.length,key,value;i<len;i++){key=keys[i];if(key.$$is_string){value=smap[key]}else{value=key.value;key=key.key}Opal.hash_put(to_hash,key,value)}};Opal.hash_put=function(hash,key,value){if(key.$$is_string){if(!$has_own.call(hash.$$smap,key)){hash.$$keys.push(key)}hash.$$smap[key]=value;return}var key_hash,bucket,last_bucket;key_hash=hash.$$by_identity?Opal.id(key):key.$hash();if(!$has_own.call(hash.$$map,key_hash)){bucket={key:key,key_hash:key_hash,value:value};hash.$$keys.push(bucket);hash.$$map[key_hash]=bucket;return}bucket=hash.$$map[key_hash];while(bucket){if(key===bucket.key||key["$eql?"](bucket.key)){last_bucket=undefined;bucket.value=value;break}last_bucket=bucket;bucket=bucket.next}if(last_bucket){bucket={key:key,key_hash:key_hash,value:value};hash.$$keys.push(bucket);last_bucket.next=bucket}};Opal.hash_get=function(hash,key){if(key.$$is_string){if($has_own.call(hash.$$smap,key)){return hash.$$smap[key]}return}var key_hash,bucket;key_hash=hash.$$by_identity?Opal.id(key):key.$hash();if($has_own.call(hash.$$map,key_hash)){bucket=hash.$$map[key_hash];while(bucket){if(key===bucket.key||key["$eql?"](bucket.key)){return bucket.value}bucket=bucket.next}}};Opal.hash_delete=function(hash,key){var i,keys=hash.$$keys,length=keys.length,value,key_tmp;if(key.$$is_string){if(typeof key!=="string")key=key.valueOf();if(!$has_own.call(hash.$$smap,key)){return}for(i=0;i<length;i++){key_tmp=keys[i];if(key_tmp.$$is_string&&typeof key_tmp!=="string"){key_tmp=key_tmp.valueOf()}if(key_tmp===key){keys.splice(i,1);break}}value=hash.$$smap[key];delete hash.$$smap[key];return value}var key_hash=key.$hash();if(!$has_own.call(hash.$$map,key_hash)){return}var bucket=hash.$$map[key_hash],last_bucket;while(bucket){if(key===bucket.key||key["$eql?"](bucket.key)){value=bucket.value;for(i=0;i<length;i++){if(keys[i]===bucket){keys.splice(i,1);break}}if(last_bucket&&bucket.next){last_bucket.next=bucket.next}else if(last_bucket){delete last_bucket.next}else if(bucket.next){hash.$$map[key_hash]=bucket.next}else{delete hash.$$map[key_hash]}return value}last_bucket=bucket;bucket=bucket.next}};Opal.hash_rehash=function(hash){for(var i=0,length=hash.$$keys.length,key_hash,bucket,last_bucket;i<length;i++){if(hash.$$keys[i].$$is_string){continue}key_hash=hash.$$keys[i].key.$hash();if(key_hash===hash.$$keys[i].key_hash){continue}bucket=hash.$$map[hash.$$keys[i].key_hash];last_bucket=undefined;while(bucket){if(bucket===hash.$$keys[i]){if(last_bucket&&bucket.next){last_bucket.next=bucket.next}else if(last_bucket){delete last_bucket.next}else if(bucket.next){hash.$$map[hash.$$keys[i].key_hash]=bucket.next}else{delete hash.$$map[hash.$$keys[i].key_hash]}break}last_bucket=bucket;bucket=bucket.next}hash.$$keys[i].key_hash=key_hash;if(!$has_own.call(hash.$$map,key_hash)){hash.$$map[key_hash]=hash.$$keys[i];continue}bucket=hash.$$map[key_hash];last_bucket=undefined;while(bucket){if(bucket===hash.$$keys[i]){last_bucket=undefined;break}last_bucket=bucket;bucket=bucket.next}if(last_bucket){last_bucket.next=hash.$$keys[i]}}};Opal.hash=function(){var arguments_length=arguments.length,args,hash,i,length,key,value;if(arguments_length===1&&arguments[0].$$is_hash){return arguments[0]}hash=new Opal.Hash;Opal.hash_init(hash);if(arguments_length===1&&arguments[0].$$is_array){args=arguments[0];length=args.length;for(i=0;i<length;i++){if(args[i].length!==2){throw Opal.ArgumentError.$new("value not of length 2: "+args[i].$inspect())}key=args[i][0];value=args[i][1];Opal.hash_put(hash,key,value)}return hash}if(arguments_length===1){args=arguments[0];for(key in args){if($has_own.call(args,key)){value=args[key];Opal.hash_put(hash,key,value)}}return hash}if(arguments_length%2!==0){throw Opal.ArgumentError.$new("odd number of arguments for Hash")}for(i=0;i<arguments_length;i+=2){key=arguments[i];value=arguments[i+1];Opal.hash_put(hash,key,value)}return hash};Opal.hash2=function(keys,smap){var hash=new Opal.Hash;hash.$$smap=smap;hash.$$map=Object.create(null);hash.$$keys=keys;return hash};Opal.range=function(first,last,exc){var range=new Opal.Range;range.begin=first;range.end=last;range.excl=exc;return range};Opal.ivar=function(name){if(name==="constructor"||name==="displayName"||name==="__count__"||name==="__noSuchMethod__"||name==="__parent__"||name==="__proto__"||name==="hasOwnProperty"||name==="valueOf"){return name+"$"}return name};Opal.escape_regexp=function(str){return str.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};Opal.global_regexp=function(pattern){if(pattern.global){return pattern}if(pattern.$$g==null){pattern.$$g=new RegExp(pattern.source,(pattern.multiline?"gm":"g")+(pattern.ignoreCase?"i":""))}else{pattern.$$g.lastIndex=null}return pattern.$$g};Opal.global_multiline_regexp=function(pattern){var result;if(pattern.multiline){if(pattern.global){return pattern}if(pattern.$$g!=null){result=pattern.$$g}else{result=pattern.$$g=new RegExp(pattern.source,"gm"+(pattern.ignoreCase?"i":""))}}else if(pattern.$$gm!=null){result=pattern.$$gm}else{result=pattern.$$gm=new RegExp(pattern.source,"gm"+(pattern.ignoreCase?"i":""))}result.lastIndex=null;return result};Opal.regexp=function(parts,flags){var part;var ignoreCase=typeof flags!=="undefined"&&flags&&flags.indexOf("i")>=0;for(var i=0,ii=parts.length;i<ii;i++){part=parts[i];if(part instanceof RegExp){if(part.ignoreCase!==ignoreCase)Opal.Kernel.$warn("ignore case doesn't match for "+part.source.$inspect(),Opal.hash({uplevel:1}));part=part.source}if(part==="")part="(?:"+part+")";parts[i]=part}if(flags){return new RegExp(parts.join(""),flags)}else{return new RegExp(parts.join(""))}};Opal.modules={};Opal.loaded_features=["corelib/runtime"];Opal.current_dir=".";Opal.require_table={"corelib/runtime":true};Opal.normalize=function(path){var parts,part,new_parts=[],SEPARATOR="/";if(Opal.current_dir!=="."){path=Opal.current_dir.replace(/\/*$/,"/")+path}path=path.replace(/^\.\//,"");path=path.replace(/\.(rb|opal|js)$/,"");parts=path.split(SEPARATOR);for(var i=0,ii=parts.length;i<ii;i++){part=parts[i];if(part==="")continue;part===".."?new_parts.pop():new_parts.push(part)}return new_parts.join(SEPARATOR)};Opal.loaded=function(paths){var i,l,path;for(i=0,l=paths.length;i<l;i++){path=Opal.normalize(paths[i]);if(Opal.require_table[path]){continue}Opal.loaded_features.push(path);Opal.require_table[path]=true}};Opal.load=function(path){path=Opal.normalize(path);Opal.loaded([path]);var module=Opal.modules[path];if(module){var retval=module(Opal);if(typeof Promise!=="undefined"&&retval instanceof Promise){return retval.then($return_val(true))}}else{var severity=Opal.config.missing_require_severity;var message="cannot load such file -- "+path;if(severity==="error"){if(Opal.LoadError){throw Opal.LoadError.$new(message)}else{throw message}}else if(severity==="warning"){console.warn("WARNING: LoadError: "+message)}}return true};Opal.require=function(path){path=Opal.normalize(path);if(Opal.require_table[path]){return false}return Opal.load(path)};Opal.encodings=Object.create(null);Opal.set_encoding=function(str,name,type){if(typeof type==="undefined")type="encoding";if(typeof str==="string"||str.$$frozen===true)throw Opal.FrozenError.$new("can't modify frozen String");var encoding=Opal.find_encoding(name);if(encoding===str[type]){return str}str[type]=encoding;return str};Opal.find_encoding=function(name){var register=Opal.encodings;var encoding=register[name]||register[name.toUpperCase()];if(!encoding)throw Opal.ArgumentError.$new("unknown encoding name - "+name);return encoding};Opal.enc=function(str,name){var dup=new String(str);dup=Opal.set_encoding(dup,name);dup.internal_encoding=dup.encoding;return dup};Opal.binary=function(str){var dup=new String(str);return Opal.set_encoding(dup,"binary","internal_encoding")};Opal.last_promise=null;Opal.promise_unhandled_exception=false;Opal.queue=function(proc){if(Opal.last_promise){Opal.last_promise=Opal.last_promise.then((function(){if(!Opal.promise_unhandled_exception)return proc(Opal)}))["catch"]((function(error){if(Opal.respond_to(error,"$full_message")){error=error.$full_message()}console.error(error);Opal.promise_unhandled_exception=true;Opal.exit(1)}));return Opal.last_promise}else{var ret=proc(Opal);if(typeof Promise==="function"&&typeof ret==="object"&&ret instanceof Promise){Opal.last_promise=ret}return ret}};Opal.rb_plus=function(l,r){return typeof l==="number"&&typeof r==="number"?l+r:l["$+"](r)};Opal.rb_minus=function(l,r){return typeof l==="number"&&typeof r==="number"?l-r:l["$-"](r)};Opal.rb_times=function(l,r){return typeof l==="number"&&typeof r==="number"?l*r:l["$*"](r)};Opal.rb_divide=function(l,r){return typeof l==="number"&&typeof r==="number"?l/r:l["$/"](r)};Opal.rb_lt=function(l,r){return typeof l==="number"&&typeof r==="number"?l<r:l["$<"](r)};Opal.rb_gt=function(l,r){return typeof l==="number"&&typeof r==="number"?l>r:l["$>"](r)};Opal.rb_le=function(l,r){return typeof l==="number"&&typeof r==="number"?l<=r:l["$<="](r)};Opal.rb_ge=function(l,r){return typeof l==="number"&&typeof r==="number"?l>=r:l["$>="](r)};function $eqeq(lhs,rhs){if(typeof lhs==="number"&&typeof rhs==="number"||typeof lhs==="string"&&typeof rhs==="string"){return lhs===rhs}return $truthy(lhs["$=="](rhs))}Opal.eqeq=$eqeq;Opal.eqeqeq=function(lhs,rhs){if(typeof lhs==="number"&&typeof rhs==="number"||typeof lhs==="string"&&typeof rhs==="string"){return lhs===rhs}return $truthy(lhs["$==="](rhs))};Opal.neqeq=function(lhs,rhs){if(typeof lhs==="number"&&typeof rhs==="number"||typeof lhs==="string"&&typeof rhs==="string"){return lhs!==rhs}return $truthy(lhs["$!="](rhs))};Opal.not=function(arg){if(true===arg)return false;if(undefined===arg||null===arg||false===arg||nil===arg)return true;return $truthy(arg["$!"]())};function $return_val(arg){return function(){return arg}}Opal.return_val=$return_val;Opal.return_self=function(){return this};Opal.return_ivar=function(ivar){return function(){if(this[ivar]==null)this[ivar]=nil;return this[ivar]}};Opal.assign_ivar=function(ivar){return function(val){return this[ivar]=val}};Opal.assign_ivar_val=function(ivar,static_val){return function(){return this[ivar]=static_val}};Opal.BasicObject=BasicObject=Opal.allocate_class("BasicObject",null);Opal.Object=_Object=Opal.allocate_class("Object",Opal.BasicObject);Opal.Module=Module=Opal.allocate_class("Module",Opal.Object);Opal.Class=Class=Opal.allocate_class("Class",Opal.Module);Opal.Opal=_Opal=Opal.allocate_module("Opal");Opal.Kernel=Kernel=Opal.allocate_module("Kernel");$set_proto(Opal.BasicObject,Opal.Class.$$prototype);$set_proto(Opal.Object,Opal.Class.$$prototype);$set_proto(Opal.Module,Opal.Class.$$prototype);$set_proto(Opal.Class,Opal.Class.$$prototype);BasicObject.$$const["BasicObject"]=BasicObject;$const_set(_Object,"BasicObject",BasicObject);$const_set(_Object,"Object",_Object);$const_set(_Object,"Module",Module);$const_set(_Object,"Class",Class);$const_set(_Object,"Opal",_Opal);$const_set(_Object,"Kernel",Kernel);BasicObject.$$class=Class;_Object.$$class=Class;Module.$$class=Class;Class.$$class=Class;_Opal.$$class=Module;Kernel.$$class=Module;$prop(_Object.$$prototype,"toString",(function(){var to_s=this.$to_s();if(to_s.$$is_string&&typeof to_s==="object"){return to_s.valueOf()}else{return to_s}}));$prop(_Object.$$prototype,"$require",Opal.require);Opal.top=new _Object;Opal.top.$to_s=Opal.top.$inspect=$return_val("main");Opal.top.$define_method=top_define_method;function top_define_method(){var args=Opal.slice.call(arguments);var block=top_define_method.$$p;delete top_define_method.$$p;return Opal.send(_Object,"define_method",args,block)}Opal.NilClass=Opal.allocate_class("NilClass",Opal.Object);$const_set(_Object,"NilClass",Opal.NilClass);nil=Opal.nil=new Opal.NilClass;nil.$$id=nil_id;nil.call=nil.apply=function(){throw Opal.LocalJumpError.$new("no block given")};Opal.breaker=new Error("unexpected break (old)");Opal.returner=new Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$type_error=Opal.type_error,$coerce_to=Opal.coerce_to,$module=Opal.module,$defs=Opal.defs,$eqeqeq=Opal.eqeqeq,$Kernel=Opal.Kernel,$truthy=Opal.truthy,$Opal=Opal.Opal;Opal.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__");return function($base){var self=$module($base,"Opal");$defs(self,"$bridge",(function $$bridge(constructor,klass){return Opal.bridge(constructor,klass)}),2);$defs(self,"$coerce_to!",(function $Opal_coerce_to$excl$1(object,type,method,$a){var $post_args,args,coerced=nil;$post_args=Opal.slice.call(arguments,3);args=$post_args;coerced=$coerce_to(object,type,method,args);if(!$eqeqeq(type,coerced)){$Kernel.$raise($type_error(object,type,method,coerced))}return coerced}),-4);$defs(self,"$coerce_to?",(function $Opal_coerce_to$ques$2(object,type,method,$a){var $post_args,args,coerced=nil;$post_args=Opal.slice.call(arguments,3);args=$post_args;if(!$truthy(object["$respond_to?"](method))){return nil}coerced=$coerce_to(object,type,method,args);if($truthy(coerced["$nil?"]())){return nil}if(!$eqeqeq(type,coerced)){$Kernel.$raise($type_error(object,type,method,coerced))}return coerced}),-4);$defs(self,"$try_convert",(function $$try_convert(object,type,method){if($eqeqeq(type,object)){return object}if($truthy(object["$respond_to?"](method))){return object.$__send__(method)}else{return nil}}),3);$defs(self,"$compare",(function $$compare(a,b){var compare=nil;compare=a["$<=>"](b);if($truthy(compare===nil)){$Kernel.$raise($$$("ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed")}return compare}),2);$defs(self,"$destructure",(function $$destructure(args){if(args.length==1){return args[0]}else if(args.$$is_array){return args}else{var args_ary=new Array(args.length);for(var i=0,l=args_ary.length;i<l;i++){args_ary[i]=args[i]}return args_ary}}),1);$defs(self,"$respond_to?",(function $Opal_respond_to$ques$3(obj,method,include_all){if(include_all==null)include_all=false;if(obj==null||!obj.$$class){return false}return obj["$respond_to?"](method,include_all)}),-3);$defs(self,"$instance_variable_name!",(function $Opal_instance_variable_name$excl$4(name){name=$Opal["$coerce_to!"](name,$$$("String"),"to_str");if(!$truthy(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(name))){$Kernel.$raise($$$("NameError").$new("'"+name+"' is not allowed as an instance variable name",name))}return name}),1);$defs(self,"$class_variable_name!",(function $Opal_class_variable_name$excl$5(name){name=$Opal["$coerce_to!"](name,$$$("String"),"to_str");if($truthy(name.length<3||name.slice(0,2)!=="@@")){$Kernel.$raise($$$("NameError").$new("`"+name+"' is not allowed as a class variable name",name))}return name}),1);$defs(self,"$const_name?",(function $Opal_const_name$ques$6(const_name){if(typeof const_name!=="string"){const_name=$Opal["$coerce_to!"](const_name,$$$("String"),"to_str")}return const_name[0]===const_name[0].toUpperCase()}),1);$defs(self,"$const_name!",(function $Opal_const_name$excl$7(const_name){var $a,self=this;if($truthy(($a=$$$("::","String","skip_raise"))?"constant":nil)){const_name=$Opal["$coerce_to!"](const_name,$$$("String"),"to_str")}if(!const_name||const_name[0]!=const_name[0].toUpperCase()){self.$raise($$$("NameError"),"wrong constant name "+const_name)}return const_name}),1);$defs(self,"$pristine",(function $$pristine(owner_class,$a){var $post_args,method_names;$post_args=Opal.slice.call(arguments,1);method_names=$post_args;var method_name,method;for(var i=method_names.length-1;i>=0;i--){method_name=method_names[i];method=owner_class.$$prototype["$"+method_name];if(method&&!method.$$stub){method.$$pristine=true}}return nil}),-2);var inspect_stack=[];return $defs(self,"$inspect",(function $$inspect(value){var e=nil;var pushed=false;return function(){try{try{if(value===null){return"null"}else if(value===undefined){return"undefined"}else if(typeof value.$$class==="undefined"){return Object.prototype.toString.apply(value)}else if(typeof value.$inspect!=="function"||value.$inspect.$$stub){return"#<"+value.$$class+":0x"+value.$__id__().$to_s(16)+">"}else if(inspect_stack.indexOf(value.$__id__())!==-1){return"#<"+value.$$class+":0x"+value.$__id__().$to_s(16)+">"}else{inspect_stack.push(value.$__id__());pushed=true;return value.$inspect()}return nil}catch($err){if(Opal.rescue($err,[$$$("Exception")])){e=$err;try{return"#<"+value.$$class+":0x"+value.$__id__().$to_s(16)+">"}finally{Opal.pop_exception()}}else{throw $err}}}finally{if(pushed)inspect_stack.pop()}}()}),-1)}("::")};Opal.modules["corelib/module"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$const_set=Opal.const_set,$Object=Opal.Object,$return_ivar=Opal.return_ivar,$assign_ivar=Opal.assign_ivar,$ivar=Opal.ivar,$klass=Opal.klass,$defs=Opal.defs,$send=Opal.send,$def=Opal.def,$eqeqeq=Opal.eqeqeq,$Module=Opal.Module,$Kernel=Opal.Kernel,$rb_lt=Opal.rb_lt,$rb_gt=Opal.rb_gt,$to_a=Opal.to_a,$hash2=Opal.hash2,$Opal=Opal.Opal,$eqeq=Opal.eqeq,$return_val=Opal.return_val,$lambda=Opal.lambda,$range=Opal.range,$send2=Opal.send2,$find_super=Opal.find_super,$alias=Opal.alias;Opal.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,append_features,included,name,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Module");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$allocate",(function $$allocate(){var self=this;var module=Opal.allocate_module(nil,(function(){}));if(self!==Opal.Module)Object.setPrototypeOf(module,self.$$prototype);return module}),0);$def(self,"$initialize",(function $$initialize(){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(block!==nil){return $send(self,"module_eval",[],block.$to_proc())}else{return nil}}),0);$def(self,"$===",(function $Module_$eq_eq_eq$1(object){var self=this;if($truthy(object==null)){return false}return Opal.is_a(object,self)}),1);$def(self,"$<",(function $Module_$lt$2(other){var self=this;if(!$eqeqeq($Module,other)){$Kernel.$raise($$$("TypeError"),"compared with non class/module")}var working=self,ancestors,i,length;if(working===other){return false}for(i=0,ancestors=Opal.ancestors(self),length=ancestors.length;i<length;i++){if(ancestors[i]===other){return true}}for(i=0,ancestors=Opal.ancestors(other),length=ancestors.length;i<length;i++){if(ancestors[i]===self){return false}}return nil}),1);$def(self,"$<=",(function $Module_$lt_eq$3(other){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self["$equal?"](other))){return $ret_or_1}else{return $rb_lt(self,other)}}),1);$def(self,"$>",(function $Module_$gt$4(other){var self=this;if(!$eqeqeq($Module,other)){$Kernel.$raise($$$("TypeError"),"compared with non class/module")}return $rb_lt(other,self)}),1);$def(self,"$>=",(function $Module_$gt_eq$5(other){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self["$equal?"](other))){return $ret_or_1}else{return $rb_gt(self,other)}}),1);$def(self,"$<=>",(function $Module_$lt_eq_gt$6(other){var self=this,lt=nil;if(self===other){return 0}if(!$eqeqeq($Module,other)){return nil}lt=$rb_lt(self,other);if($truthy(lt["$nil?"]())){return nil}if($truthy(lt)){return-1}else{return 1}}),1);$def(self,"$alias_method",(function $$alias_method(newname,oldname){var self=this;newname=$coerce_to(newname,$$$("String"),"to_str");oldname=$coerce_to(oldname,$$$("String"),"to_str");Opal.alias(self,newname,oldname);return self}),2);$def(self,"$alias_native",(function $$alias_native(mid,jsid){var self=this;if(jsid==null)jsid=mid;Opal.alias_native(self,mid,jsid);return self}),-2);$def(self,"$ancestors",(function $$ancestors(){var self=this;return Opal.ancestors(self)}),0);$def(self,"$append_features",(function $$append_features(includer){var self=this;Opal.append_features(self,includer);return self}),1);$def(self,"$attr_accessor",(function $$attr_accessor($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;$send(self,"attr_reader",$to_a(names));return $send(self,"attr_writer",$to_a(names))}),-1);$def(self,"$attr",(function $$attr($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;if(args.length==2&&(args[1]===true||args[1]===false)){self.$warn("optional boolean argument is obsoleted",$hash2(["uplevel"],{uplevel:1}));args[1]?self.$attr_accessor(args[0]):self.$attr_reader(args[0]);return nil}return $send(self,"attr_reader",$to_a(args))}),-1);$def(self,"$attr_reader",(function $$attr_reader($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;var proto=self.$$prototype;for(var i=names.length-1;i>=0;i--){var name=names[i],id="$"+name,ivar=$ivar(name);var body=$return_ivar(ivar);Opal.prop(proto,ivar,nil);body.$$parameters=[];body.$$arity=0;Opal.defn(self,id,body)}return nil}),-1);$def(self,"$attr_writer",(function $$attr_writer($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;var proto=self.$$prototype;for(var i=names.length-1;i>=0;i--){var name=names[i],id="$"+name+"=",ivar=$ivar(name);var body=$assign_ivar(ivar);body.$$parameters=[["req"]];body.$$arity=1;Opal.prop(proto,ivar,nil);Opal.defn(self,id,body)}return nil}),-1);$def(self,"$autoload",(function $$autoload(const$,path){var self=this;if(!$$("Opal")["$const_name?"](const$)){$Kernel.$raise($$$("NameError"),"autoload must be constant name: "+const$)}if(path==""){$Kernel.$raise($$$("ArgumentError"),"empty file name")}if(!self.$$const.hasOwnProperty(const$)){if(!self.$$autoload){self.$$autoload={}}Opal.const_cache_version++;self.$$autoload[const$]={path:path,loaded:false,required:false,success:false,exception:false}}return nil}),2);$def(self,"$autoload?",(function $Module_autoload$ques$7(const$){var self=this;if(self.$$autoload&&self.$$autoload[const$]&&!self.$$autoload[const$].required&&!self.$$autoload[const$].success){return self.$$autoload[const$].path}var ancestors=self.$ancestors();for(var i=0,length=ancestors.length;i<length;i++){if(ancestors[i].$$autoload&&ancestors[i].$$autoload[const$]&&!ancestors[i].$$autoload[const$].required&&!ancestors[i].$$autoload[const$].success){return ancestors[i].$$autoload[const$].path}}return nil}),1);$def(self,"$class_variables",(function $$class_variables(){var self=this;return Object.keys(Opal.class_variables(self))}),0);$def(self,"$class_variable_get",(function $$class_variable_get(name){var self=this;name=$Opal["$class_variable_name!"](name);return Opal.class_variable_get(self,name,false)}),1);$def(self,"$class_variable_set",(function $$class_variable_set(name,value){var self=this;name=$Opal["$class_variable_name!"](name);return Opal.class_variable_set(self,name,value)}),2);$def(self,"$class_variable_defined?",(function $Module_class_variable_defined$ques$8(name){var self=this;name=$Opal["$class_variable_name!"](name);return Opal.class_variables(self).hasOwnProperty(name)}),1);$def(self,"$remove_class_variable",(function $$remove_class_variable(name){var self=this;name=$Opal["$class_variable_name!"](name);if(Opal.hasOwnProperty.call(self.$$cvars,name)){var value=self.$$cvars[name];delete self.$$cvars[name];return value}else{$Kernel.$raise($$$("NameError"),"cannot remove "+name+" for "+self)}}),1);$def(self,"$constants",(function $$constants(inherit){var self=this;if(inherit==null)inherit=true;return Opal.constants(self,inherit)}),-1);$defs(self,"$constants",(function $$constants(inherit){var self=this;if(inherit==null){var nesting=(self.$$nesting||[]).concat($Object),constant,constants={},i,ii;for(i=0,ii=nesting.length;i<ii;i++){for(constant in nesting[i].$$const){constants[constant]=true}}return Object.keys(constants)}else{return Opal.constants(self,inherit)}}),-1);$defs(self,"$nesting",(function $$nesting(){var self=this;return self.$$nesting||[]}),0);$def(self,"$const_defined?",(function $Module_const_defined$ques$9(name,inherit){var self=this;if(inherit==null)inherit=true;name=$$("Opal")["$const_name!"](name);if(!$truthy(name["$=~"]($$$($Opal,"CONST_NAME_REGEXP")))){$Kernel.$raise($$$("NameError").$new("wrong constant name "+name,name))}var module,modules=[self],module_constants,i,ii;if(inherit){modules=modules.concat(Opal.ancestors(self));if(self.$$is_module){modules=modules.concat([$Object]).concat(Opal.ancestors($Object))}}for(i=0,ii=modules.length;i<ii;i++){module=modules[i];if(module.$$const[name]!=null){return true}if(module.$$autoload&&module.$$autoload[name]&&!module.$$autoload[name].required&&!module.$$autoload[name].success){return true}}return false}),-2);$def(self,"$const_get",(function $$const_get(name,inherit){var self=this;if(inherit==null)inherit=true;name=$$("Opal")["$const_name!"](name);if(name.indexOf("::")===0&&name!=="::"){name=name.slice(2)}if($truthy(name.indexOf("::")!=-1&&name!="::")){return $send(name.$split("::"),"inject",[self],(function $$10(o,c){if(o==null)o=nil;if(c==null)c=nil;return o.$const_get(c)}),2)}if(!$truthy(name["$=~"]($$$($Opal,"CONST_NAME_REGEXP")))){$Kernel.$raise($$$("NameError").$new("wrong constant name "+name,name))}if(inherit){return Opal.$$([self],name)}else{return Opal.const_get_local(self,name)}}),-2);$def(self,"$const_missing",(function $$const_missing(name){var self=this,full_const_name=nil;full_const_name=$eqeq(self,$Object)?name:""+self+"::"+name;return $Kernel.$raise($$$("NameError").$new("uninitialized constant "+full_const_name,name))}),1);$def(self,"$const_set",(function $$const_set(name,value){var self=this;name=$Opal["$const_name!"](name);if($truthy(name["$!~"]($$$($Opal,"CONST_NAME_REGEXP")))||$truthy(name["$start_with?"]("::"))){$Kernel.$raise($$$("NameError").$new("wrong constant name "+name,name))}$const_set(self,name,value);return value}),2);$def(self,"$public_constant",$return_val(nil),0);$def(self,"$define_method",(function $$define_method(name,method){var block=$$define_method.$$p||nil,self=this,$ret_or_1=nil,$ret_or_2=nil;delete $$define_method.$$p;if(method===undefined&&block===nil)$Kernel.$raise($$$("ArgumentError"),"tried to create a Proc object without a block");block=$truthy($ret_or_1=block)?$ret_or_1:$eqeqeq($$$("Proc"),$ret_or_2=method)?method:$eqeqeq($$$("Method"),$ret_or_2)?method.$to_proc().$$unbound:$eqeqeq($$$("UnboundMethod"),$ret_or_2)?$lambda((function $$11($a){var $post_args,args,self=$$11.$$s==null?this:$$11.$$s,bound=nil;$post_args=Opal.slice.call(arguments);args=$post_args;bound=method.$bind(self);return $send(bound,"call",$to_a(args))}),{$$arity:-1,$$s:self}):$Kernel.$raise($$$("TypeError"),"wrong argument type "+block.$class()+" (expected Proc/Method)");if(typeof Proxy!=="undefined"){var meta=Object.create(null);block.$$proxy_target=block;block=new Proxy(block,{apply:function(target,self,args){var old_name=target.$$jsid;target.$$jsid=name;try{return target.apply(self,args)}finally{target.$$jsid=old_name}}})}block.$$jsid=name;block.$$s=null;block.$$def=block;block.$$define_meth=true;return Opal.defn(self,"$"+name,block)}),-2);$def(self,"$remove_method",(function $$remove_method($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;for(var i=0,length=names.length;i<length;i++){Opal.rdef(self,"$"+names[i])}return self}),-1);$def(self,"$singleton_class?",(function $Module_singleton_class$ques$12(){var self=this;return!!self.$$is_singleton}),0);$def(self,"$include",(function $$include($a){var $post_args,mods,self=this;$post_args=Opal.slice.call(arguments);mods=$post_args;for(var i=mods.length-1;i>=0;i--){var mod=mods[i];if(!mod.$$is_module){$Kernel.$raise($$$("TypeError"),"wrong argument type "+mod.$class()+" (expected Module)")}mod.$append_features(self);mod.$included(self)}return self}),-1);$def(self,"$included_modules",(function $$included_modules(){var self=this;return Opal.included_modules(self)}),0);$def(self,"$include?",(function $Module_include$ques$13(mod){var self=this;if(!mod.$$is_module){$Kernel.$raise($$$("TypeError"),"wrong argument type "+mod.$class()+" (expected Module)")}var i,ii,mod2,ancestors=Opal.ancestors(self);for(i=0,ii=ancestors.length;i<ii;i++){mod2=ancestors[i];if(mod2===mod&&mod2!==self){return true}}return false}),1);$def(self,"$instance_method",(function $$instance_method(name){var self=this;var meth=self.$$prototype["$"+name];if(!meth||meth.$$stub){$Kernel.$raise($$$("NameError").$new("undefined method `"+name+"' for class `"+self.$name()+"'",name))}return $$$("UnboundMethod").$new(self,meth.$$owner||self,meth,name)}),1);$def(self,"$instance_methods",(function $$instance_methods(include_super){var self=this;if(include_super==null)include_super=true;if($truthy(include_super)){return Opal.instance_methods(self)}else{return Opal.own_instance_methods(self)}}),-1);$def(self,"$included",$return_val(nil),0);$def(self,"$extended",$return_val(nil),0);$def(self,"$extend_object",$return_val(nil),0);$def(self,"$method_added",(function $$method_added($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$def(self,"$method_removed",(function $$method_removed($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$def(self,"$method_undefined",(function $$method_undefined($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$def(self,"$module_eval",(function $$module_eval($a){var block=$$module_eval.$$p||nil,$post_args,args,$b,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,$ret_or_1=nil,compiling_options=nil,compiled=nil;delete $$module_eval.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy(block["$nil?"]())&&$truthy(!!Opal.compile)){if(!$truthy($range(1,3,false)["$cover?"](args.$size()))){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (0 for 1..3)")}$b=[].concat($to_a(args)),string=$b[0]==null?nil:$b[0],file=$b[1]==null?nil:$b[1],_lineno=$b[2]==null?nil:$b[2],$b;default_eval_options=$hash2(["file","eval"],{file:$truthy($ret_or_1=file)?$ret_or_1:"(eval)",eval:true});compiling_options=Opal.hash({arity_check:false}).$merge(default_eval_options);compiled=$Opal.$compile(string,compiling_options);block=$send($Kernel,"proc",[],(function $$14(){var self=$$14.$$s==null?this:$$14.$$s;return new Function("Opal,self","return "+compiled)(Opal,self)}),{$$arity:0,$$s:self})}else if($truthy(args["$any?"]())){$Kernel.$raise($$$("ArgumentError"),""+("wrong number of arguments ("+args.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n")}var old=block.$$s,result;block.$$s=null;result=block.apply(self,[self]);block.$$s=old;return result}),-1);$def(self,"$module_exec",(function $$module_exec($a){var block=$$module_exec.$$p||nil,$post_args,args,self=this;delete $$module_exec.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(block===nil){$Kernel.$raise($$$("LocalJumpError"),"no block given")}var block_self=block.$$s,result;block.$$s=null;result=block.apply(self,args);block.$$s=block_self;return result}),-1);$def(self,"$method_defined?",(function $Module_method_defined$ques$15(method){var self=this;var body=self.$$prototype["$"+method];return!!body&&!body.$$stub}),1);$def(self,"$module_function",(function $$module_function($a){var $post_args,methods,self=this;$post_args=Opal.slice.call(arguments);methods=$post_args;if(methods.length===0){self.$$module_function=true;return nil}else{for(var i=0,length=methods.length;i<length;i++){var meth=methods[i],id="$"+meth,func=self.$$prototype[id];Opal.defs(self,id,func)}return methods.length===1?methods[0]:methods}return self}),-1);$def(self,"$name",(function $$name(){var self=this;if(self.$$full_name){return self.$$full_name}var result=[],base=self;while(base){if(base.$$name===nil||base.$$name==null)return nil;result.unshift(base.$$name);base=base.$$base_module;if(base===$Object){break}}if(result.length===0){return nil}return self.$$full_name=result.join("::")}),0);$def(self,"$prepend",(function $$prepend($a){var $post_args,mods,self=this;$post_args=Opal.slice.call(arguments);mods=$post_args;if(mods.length===0){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (given 0, expected 1+)")}for(var i=mods.length-1;i>=0;i--){var mod=mods[i];if(!mod.$$is_module){$Kernel.$raise($$$("TypeError"),"wrong argument type "+mod.$class()+" (expected Module)")}mod.$prepend_features(self);mod.$prepended(self)}return self}),-1);$def(self,"$prepend_features",(function $$prepend_features(prepender){var self=this;if(!self.$$is_module){$Kernel.$raise($$$("TypeError"),"wrong argument type "+self.$class()+" (expected Module)")}Opal.prepend_features(self,prepender);return self}),1);$def(self,"$prepended",$return_val(nil),0);$def(self,"$remove_const",(function $$remove_const(name){var self=this;return Opal.const_remove(self,name)}),1);$def(self,"$to_s",(function $$to_s(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=Opal.Module.$name.call(self))){return $ret_or_1}else{return"#<"+(self.$$is_module?"Module":"Class")+":0x"+self.$__id__().$to_s(16)+">"}}),0);$def(self,"$undef_method",(function $$undef_method($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;for(var i=0,length=names.length;i<length;i++){Opal.udef(self,"$"+names[i])}return self}),-1);$def(self,"$instance_variables",(function $$instance_variables(){var self=this,consts=nil;consts=(Opal.Module.$$nesting=$nesting,self.$constants());var result=[];for(var name in self){if(self.hasOwnProperty(name)&&name.charAt(0)!=="$"&&name!=="constructor"&&!consts["$include?"](name)){result.push("@"+name)}}return result}),0);$def(self,"$dup",(function $$dup(){var $yield=$$dup.$$p||nil,self=this,copy=nil;delete $$dup.$$p;copy=$send2(self,$find_super(self,"dup",$$dup,false,true),"dup",[],$yield);copy.$copy_class_variables(self);copy.$copy_constants(self);return copy}),0);$def(self,"$copy_class_variables",(function $$copy_class_variables(other){var self=this;for(var name in other.$$cvars){self.$$cvars[name]=other.$$cvars[name]}}),1);$def(self,"$copy_constants",(function $$copy_constants(other){var self=this;var name,other_constants=other.$$const;for(name in other_constants){$const_set(self,name,other_constants[name])}}),1);$def(self,"$refine",(function $$refine(klass){var block=$$refine.$$p||nil,$a,self=this,refinement_module=nil,m=nil,klass_id=nil;delete $$refine.$$p;$a=[self,nil,nil],refinement_module=$a[0],m=$a[1],klass_id=$a[2],$a;klass_id=Opal.id(klass);if(typeof self.$$refine_modules==="undefined"){self.$$refine_modules={}}if(typeof self.$$refine_modules[klass_id]==="undefined"){m=self.$$refine_modules[klass_id]=$$$("Refinement").$new()}else{m=self.$$refine_modules[klass_id]}m.refinement_module=refinement_module;m.refined_class=klass;$send(m,"class_exec",[],block.$to_proc());return m}),1);$def(self,"$using",(function $$using(mod){return $Kernel.$raise("Module#using is not permitted in methods")}),1);$alias(self,"class_eval","module_eval");$alias(self,"class_exec","module_exec");return $alias(self,"inspect","to_s")})("::",null,$nesting);return function($base,$super){var self=$klass($base,$super,"Refinement");var $proto=self.$$prototype;$proto.refinement_module=$proto.refined_class=nil;return $def(self,"$inspect",(function $$inspect(){var $yield=$$inspect.$$p||nil,self=this;delete $$inspect.$$p;if($truthy(self.refinement_module)){return"#<refinement:"+self.refined_class.$inspect()+"@"+self.refinement_module.$inspect()+">"}else{return $send2(self,$find_super(self,"inspect",$$inspect,false,true),"inspect",[],$yield)}}),0)}("::",$Module)};Opal.modules["corelib/class"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=Opal.klass,$send=Opal.send,$defs=Opal.defs,$def=Opal.def,$rb_plus=Opal.rb_plus,$return_val=Opal.return_val,$send2=Opal.send2,$find_super=Opal.find_super,$alias=Opal.alias;Opal.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s");self.$require("corelib/module");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Class");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$new",(function $Class_new$1(superclass){var block=$Class_new$1.$$p||nil;delete $Class_new$1.$$p;if(superclass==null)superclass=$$("Object");if(!superclass.$$is_class){throw Opal.TypeError.$new("superclass must be a Class")}var klass=Opal.allocate_class(nil,superclass);superclass.$inherited(klass);block!==nil?$send(klass,"class_eval",[],block.$to_proc()):nil;return klass}),-1);$def(self,"$allocate",(function $$allocate(){var self=this;var obj=new self.$$constructor;obj.$$id=Opal.uid();return obj}),0);$def(self,"$descendants",(function $$descendants(){var self=this;return $rb_plus(self.$subclasses(),$send(self.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),0);$def(self,"$inherited",$return_val(nil),0);$def(self,"$initialize_dup",(function $$initialize_dup(original){var self=this;self.$initialize_copy(original);self.$$name=null;self.$$full_name=null}),1);$def(self,"$new",(function $Class_new$2($a){var block=$Class_new$2.$$p||nil,$post_args,args,self=this;delete $Class_new$2.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;var object=self.$allocate();Opal.send(object,object.$initialize,args,block);return object}),-1);$def(self,"$subclasses",(function $$subclasses(){var self=this;if(typeof WeakRef!=="undefined"){var i,subclass,out=[];for(i=0;i<self.$$subclasses.length;i++){subclass=self.$$subclasses[i].deref();if(subclass!==undefined){out.push(subclass)}}return out}else{return self.$$subclasses}}),0);$def(self,"$superclass",(function $$superclass(){var self=this;return self.$$super||nil}),0);$def(self,"$to_s",(function $$to_s(){var $yield=$$to_s.$$p||nil,self=this;delete $$to_s.$$p;var singleton_of=self.$$singleton_of;if(singleton_of&&singleton_of.$$is_a_module){return"#<Class:"+singleton_of.$name()+">"}else if(singleton_of){return"#<Class:#<"+singleton_of.$$class.$name()+":0x"+Opal.id(singleton_of).$to_s(16)+">>"}return $send2(self,$find_super(self,"to_s",$$to_s,false,true),"to_s",[],null)}),0);return $alias(self,"inspect","to_s")}("::",null,$nesting)};Opal.modules["corelib/basic_object"]=function(Opal){"use strict";var nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$def=Opal.def,$alias=Opal.alias,$return_val=Opal.return_val,$truthy=Opal.truthy,$range=Opal.range,$Kernel=Opal.Kernel,$to_a=Opal.to_a,$hash2=Opal.hash2,$Opal=Opal.Opal,$send=Opal.send,$eqeq=Opal.eqeq,$rb_ge=Opal.rb_ge;Opal.add_stubs("==,raise,inspect,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller,pristine");return function($base,$super){var self=$klass($base,$super,"BasicObject");$def(self,"$initialize",(function $$initialize($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$def(self,"$==",(function $BasicObject_$eq_eq$1(other){var self=this;return self===other}),1);$def(self,"$eql?",(function $BasicObject_eql$ques$2(other){var self=this;return self["$=="](other)}),1);$alias(self,"equal?","==");$def(self,"$__id__",(function $$__id__(){var self=this;if(self.$$id!=null){return self.$$id}Opal.prop(self,"$$id",Opal.uid());return self.$$id}),0);$def(self,"$__send__",(function $$__send__(symbol,$a){var block=$$__send__.$$p||nil,$post_args,args,self=this;delete $$__send__.$$p;$post_args=Opal.slice.call(arguments,1);args=$post_args;if(!symbol.$$is_string){self.$raise($$$("TypeError"),""+self.$inspect()+" is not a symbol nor a string")}var func=self["$"+symbol];if(func){if(block!==nil){func.$$p=block}return func.apply(self,args)}if(block!==nil){self.$method_missing.$$p=block}return self.$method_missing.apply(self,[symbol].concat(args))}),-2);$def(self,"$!",$return_val(false),0);$def(self,"$!=",(function $BasicObject_$not_eq$3(other){var self=this;return self["$=="](other)["$!"]()}),1);$def(self,"$instance_eval",(function $$instance_eval($a){var block=$$instance_eval.$$p||nil,$post_args,args,$b,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,$ret_or_1=nil,compiling_options=nil,compiled=nil;delete $$instance_eval.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy(block["$nil?"]())&&$truthy(!!Opal.compile)){if(!$truthy($range(1,3,false)["$cover?"](args.$size()))){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (0 for 1..3)")}$b=[].concat($to_a(args)),string=$b[0]==null?nil:$b[0],file=$b[1]==null?nil:$b[1],_lineno=$b[2]==null?nil:$b[2],$b;default_eval_options=$hash2(["file","eval"],{file:$truthy($ret_or_1=file)?$ret_or_1:"(eval)",eval:true});compiling_options=Opal.hash({arity_check:false}).$merge(default_eval_options);compiled=$Opal.$compile(string,compiling_options);block=$send($Kernel,"proc",[],(function $$4(){var self=$$4.$$s==null?this:$$4.$$s;return new Function("Opal,self","return "+compiled)(Opal,self)}),{$$arity:0,$$s:self})}else if($truthy(block["$nil?"]())&&$truthy($rb_ge(args.$length(),1))&&$eqeq(args.$first()["$[]"](0),"@")){return self.$instance_variable_get(args.$first())}else if($truthy(args["$any?"]())){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)")}var old=block.$$s,result;block.$$s=null;if(self.$$is_a_module){self.$$eval=true;try{result=block.call(self,self)}finally{self.$$eval=false}}else{result=block.call(self,self)}block.$$s=old;return result}),-1);$def(self,"$instance_exec",(function $$instance_exec($a){var block=$$instance_exec.$$p||nil,$post_args,args,self=this;delete $$instance_exec.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"no block given")}var block_self=block.$$s,result;block.$$s=null;if(self.$$is_a_module){self.$$eval=true;try{result=block.apply(self,args)}finally{self.$$eval=false}}else{result=block.apply(self,args)}block.$$s=block_self;return result}),-1);$def(self,"$singleton_method_added",(function $$singleton_method_added($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$def(self,"$singleton_method_removed",(function $$singleton_method_removed($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$def(self,"$singleton_method_undefined",(function $$singleton_method_undefined($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$def(self,"$method_missing",(function $$method_missing(symbol,$a){var block=$$method_missing.$$p||nil,$post_args,args,self=this,inspect_result=nil;delete $$method_missing.$$p;$post_args=Opal.slice.call(arguments,1);args=$post_args;inspect_result=$Opal.$inspect(self);return $Kernel.$raise($$$("NoMethodError").$new("undefined method `"+symbol+"' for "+inspect_result,symbol,args),nil,$Kernel.$caller(1))}),-2);$Opal.$pristine(self,"method_missing");return $def(self,"$respond_to_missing?",(function $BasicObject_respond_to_missing$ques$5(method_name,include_all){if(include_all==null)include_all=false;return false}),-2)}("::",null)};Opal.modules["corelib/kernel"]=function(Opal){"use strict";var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$respond_to=Opal.respond_to,$Opal=Opal.Opal,$module=Opal.module,$return_val=Opal.return_val,$def=Opal.def,$Kernel=Opal.Kernel,$gvars=Opal.gvars,$hash2=Opal.hash2,$send=Opal.send,$to_a=Opal.to_a,$rb_plus=Opal.rb_plus,$eqeq=Opal.eqeq,$eqeqeq=Opal.eqeqeq,$return_self=Opal.return_self,$rb_le=Opal.rb_le,$rb_lt=Opal.rb_lt,$Object=Opal.Object,$alias=Opal.alias,$klass=Opal.klass;Opal.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,nil?,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,caller,map,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include");(function($base,$parent_nesting){var self=$module($base,"Kernel");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$=~",$return_val(false),0);$def(self,"$!~",(function $Kernel_$excl_tilde$1(obj){var self=this;return self["$=~"](obj)["$!"]()}),1);$def(self,"$===",(function $Kernel_$eq_eq_eq$2(other){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.$object_id()["$=="](other.$object_id()))){return $ret_or_1}else{return self["$=="](other)}}),1);$def(self,"$<=>",(function $Kernel_$lt_eq_gt$3(other){var self=this;self.$$comparable=true;var x=self["$=="](other);if(x&&x!==nil){return 0}return nil}),1);$def(self,"$method",(function $$method(name){var self=this;var meth=self["$"+name];if(!meth||meth.$$stub){$Kernel.$raise($$$("NameError").$new("undefined method `"+name+"' for class `"+self.$class()+"'",name))}return $$$("Method").$new(self,meth.$$owner||self.$class(),meth,name)}),1);$def(self,"$methods",(function $$methods(all){var self=this;if(all==null)all=true;if($truthy(all)){return Opal.methods(self)}else{return Opal.own_methods(self)}}),-1);$def(self,"$public_methods",(function $$public_methods(all){var self=this;if(all==null)all=true;if($truthy(all)){return Opal.methods(self)}else{return Opal.receiver_methods(self)}}),-1);$def(self,"$Array",(function $$Array(object){var coerced;if(object===nil){return[]}if(object.$$is_array){return object}coerced=$Opal["$coerce_to?"](object,$$$("Array"),"to_ary");if(coerced!==nil){return coerced}coerced=$Opal["$coerce_to?"](object,$$$("Array"),"to_a");if(coerced!==nil){return coerced}return[object]}),1);$def(self,"$at_exit",(function $$at_exit(){var block=$$at_exit.$$p||nil,$ret_or_1=nil;if($gvars.__at_exit__==null)$gvars.__at_exit__=nil;delete $$at_exit.$$p;$gvars.__at_exit__=$truthy($ret_or_1=$gvars.__at_exit__)?$ret_or_1:[];$gvars.__at_exit__["$<<"](block);return block}),0);$def(self,"$caller",(function $$caller(start,length){if(start==null)start=1;if(length==null)length=nil;var stack,result;stack=(new Error).$backtrace();result=[];for(var i=start+1,ii=stack.length;i<ii;i++){if(!stack[i].match(/runtime\.js/)){result.push(stack[i])}}if(length!=nil)result=result.slice(0,length);return result}),-1);$def(self,"$class",(function $Kernel_class$4(){var self=this;return self.$$class}),0);$def(self,"$copy_instance_variables",(function $$copy_instance_variables(other){var self=this;var keys=Object.keys(other),i,ii,name;for(i=0,ii=keys.length;i<ii;i++){name=keys[i];if(name.charAt(0)!=="$"&&other.hasOwnProperty(name)){self[name]=other[name]}}}),1);$def(self,"$copy_singleton_methods",(function $$copy_singleton_methods(other){var self=this;var i,name,names,length;if(other.hasOwnProperty("$$meta")){var other_singleton_class=Opal.get_singleton_class(other);var self_singleton_class=Opal.get_singleton_class(self);names=Object.getOwnPropertyNames(other_singleton_class.$$prototype);for(i=0,length=names.length;i<length;i++){name=names[i];if(Opal.is_method(name)){self_singleton_class.$$prototype[name]=other_singleton_class.$$prototype[name]}}self_singleton_class.$$const=Object.assign({},other_singleton_class.$$const);Object.setPrototypeOf(self_singleton_class.$$prototype,Object.getPrototypeOf(other_singleton_class.$$prototype))}for(i=0,names=Object.getOwnPropertyNames(other),length=names.length;i<length;i++){name=names[i];if(name.charAt(0)==="$"&&name.charAt(1)!=="$"&&other.hasOwnProperty(name)){self[name]=other[name]}}}),1);$def(self,"$clone",(function $$clone($kwargs){var freeze,self=this,copy=nil;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}freeze=$kwargs.$$smap["freeze"];if(freeze==null)freeze=true;copy=self.$class().$allocate();copy.$copy_instance_variables(self);copy.$copy_singleton_methods(self);copy.$initialize_clone(self);return copy}),-1);$def(self,"$initialize_clone",(function $$initialize_clone(other){var self=this;return self.$initialize_copy(other)}),1);$def(self,"$define_singleton_method",(function $$define_singleton_method(name,method){var block=$$define_singleton_method.$$p||nil,self=this;delete $$define_singleton_method.$$p;return $send(self.$singleton_class(),"define_method",[name,method],block.$to_proc())}),-2);$def(self,"$dup",(function $$dup(){var self=this,copy=nil;copy=self.$class().$allocate();copy.$copy_instance_variables(self);copy.$initialize_dup(self);return copy}),0);$def(self,"$initialize_dup",(function $$initialize_dup(other){var self=this;return self.$initialize_copy(other)}),1);$def(self,"$enum_for",(function $$enum_for($a,$b){var block=$$enum_for.$$p||nil,$post_args,method,args,self=this;delete $$enum_for.$$p;$post_args=Opal.slice.call(arguments);if($post_args.length>0)method=$post_args.shift();if(method==null)method="each";args=$post_args;return $send($$$("Enumerator"),"for",[self,method].concat($to_a(args)),block.$to_proc())}),-1);$def(self,"$equal?",(function $Kernel_equal$ques$5(other){var self=this;return self===other}),1);$def(self,"$exit",(function $$exit(status){var $a,$ret_or_1=nil,block=nil;if($gvars.__at_exit__==null)$gvars.__at_exit__=nil;if(status==null)status=true;$gvars.__at_exit__=$truthy($ret_or_1=$gvars.__at_exit__)?$ret_or_1:[];while(!$truthy($gvars.__at_exit__["$empty?"]())){block=$gvars.__at_exit__.$pop();block.$call()}if(status.$$is_boolean){status=status?0:1}else{status=$coerce_to(status,$$$("Integer"),"to_int")}Opal.exit(status);return nil}),-1);$def(self,"$extend",(function $$extend($a){var $post_args,mods,self=this;$post_args=Opal.slice.call(arguments);mods=$post_args;var singleton=self.$singleton_class();for(var i=mods.length-1;i>=0;i--){var mod=mods[i];if(!mod.$$is_module){$Kernel.$raise($$$("TypeError"),"wrong argument type "+mod.$class()+" (expected Module)")}mod.$append_features(singleton);mod.$extend_object(self);mod.$extended(self)}return self}),-1);$def(self,"$gets",(function $$gets($a){var $post_args,args;if($gvars.stdin==null)$gvars.stdin=nil;$post_args=Opal.slice.call(arguments);args=$post_args;return $send($gvars.stdin,"gets",$to_a(args))}),-1);$def(self,"$hash",(function $$hash(){var self=this;return self.$__id__()}),0);$def(self,"$initialize_copy",$return_val(nil),0);var inspect_stack=[];$def(self,"$inspect",(function $$inspect(){var self=this,ivs=nil,id=nil,pushed=nil,e=nil;return function(){try{try{ivs="";id=self.$__id__();if($truthy(inspect_stack["$include?"](id))){ivs=" ..."}else{inspect_stack["$<<"](id);pushed=true;$send(self.$instance_variables(),"each",[],(function $$6(i){var self=$$6.$$s==null?this:$$6.$$s,ivar=nil,inspect=nil;if(i==null)i=nil;ivar=self.$instance_variable_get(i);inspect=$$("Opal").$inspect(ivar);return ivs=$rb_plus(ivs," "+i+"="+inspect)}),{$$arity:1,$$s:self})}return"#<"+self.$class()+":0x"+id.$to_s(16)+ivs+">"}catch($err){if(Opal.rescue($err,[$$("StandardError")])){e=$err;try{return"#<"+self.$class()+":0x"+id.$to_s(16)+">"}finally{Opal.pop_exception()}}else{throw $err}}}finally{$truthy(pushed)?inspect_stack.$pop():nil}}()}),0);$def(self,"$instance_of?",(function $Kernel_instance_of$ques$7(klass){var self=this;if(!klass.$$is_class&&!klass.$$is_module){$Kernel.$raise($$$("TypeError"),"class or module required")}return self.$$class===klass}),1);$def(self,"$instance_variable_defined?",(function $Kernel_instance_variable_defined$ques$8(name){var self=this;name=$Opal["$instance_variable_name!"](name);return Opal.hasOwnProperty.call(self,name.substr(1))}),1);$def(self,"$instance_variable_get",(function $$instance_variable_get(name){var self=this;name=$Opal["$instance_variable_name!"](name);var ivar=self[Opal.ivar(name.substr(1))];return ivar==null?nil:ivar}),1);$def(self,"$instance_variable_set",(function $$instance_variable_set(name,value){var self=this;name=$Opal["$instance_variable_name!"](name);return self[Opal.ivar(name.substr(1))]=value}),2);$def(self,"$remove_instance_variable",(function $$remove_instance_variable(name){var self=this;name=$Opal["$instance_variable_name!"](name);var key=Opal.ivar(name.substr(1)),val;if(self.hasOwnProperty(key)){val=self[key];delete self[key];return val}return $Kernel.$raise($$$("NameError"),"instance variable "+name+" not defined")}),1);$def(self,"$instance_variables",(function $$instance_variables(){var self=this;var result=[],ivar;for(var name in self){if(self.hasOwnProperty(name)&&name.charAt(0)!=="$"){if(name.substr(-1)==="$"){ivar=name.slice(0,name.length-1)}else{ivar=name}result.push("@"+ivar)}}return result}),0);$def(self,"$Integer",(function $$Integer(value,base){var i,str,base_digits;if(!value.$$is_string){if(base!==undefined){$Kernel.$raise($$$("ArgumentError"),"base specified for non string value")}if(value===nil){$Kernel.$raise($$$("TypeError"),"can't convert nil into Integer")}if(value.$$is_number){if(value===Infinity||value===-Infinity||isNaN(value)){$Kernel.$raise($$$("FloatDomainError"),value)}return Math.floor(value)}if(value["$respond_to?"]("to_int")){i=value.$to_int();if(i!==nil){return i}}return $Opal["$coerce_to!"](value,$$$("Integer"),"to_i")}if(value==="0"){return 0}if(base===undefined){base=0}else{base=$coerce_to(base,$$$("Integer"),"to_int");if(base===1||base<0||base>36){$Kernel.$raise($$$("ArgumentError"),"invalid radix "+base)}}str=value.toLowerCase();str=str.replace(/(\d)_(?=\d)/g,"$1");str=str.replace(/^(\s*[+-]?)(0[bodx]?)/,(function(_,head,flag){switch(flag){case"0b":if(base===0||base===2){base=2;return head}case"0":case"0o":if(base===0||base===8){base=8;return head}case"0d":if(base===0||base===10){base=10;return head}case"0x":if(base===0||base===16){base=16;return head}}$Kernel.$raise($$$("ArgumentError"),'invalid value for Integer(): "'+value+'"')}));base=base===0?10:base;base_digits="0-"+(base<=10?base-1:"9a-"+String.fromCharCode(97+(base-11)));if(!new RegExp("^\\s*[+-]?["+base_digits+"]+\\s*$").test(str)){$Kernel.$raise($$$("ArgumentError"),'invalid value for Integer(): "'+value+'"')}i=parseInt(str,base);if(isNaN(i)){$Kernel.$raise($$$("ArgumentError"),'invalid value for Integer(): "'+value+'"')}return i}),-2);$def(self,"$Float",(function $$Float(value){var str;if(value===nil){$Kernel.$raise($$$("TypeError"),"can't convert nil into Float")}if(value.$$is_string){str=value.toString();str=str.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(str)){return $Kernel.$Integer(str)}if(!/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(str)){$Kernel.$raise($$$("ArgumentError"),'invalid value for Float(): "'+value+'"')}return parseFloat(str)}return $Opal["$coerce_to!"](value,$$$("Float"),"to_f")}),1);$def(self,"$Hash",(function $$Hash(arg){if($truthy(arg["$nil?"]())||$eqeq(arg,[])){return $hash2([],{})}if($eqeqeq($$$("Hash"),arg)){return arg}return $Opal["$coerce_to!"](arg,$$$("Hash"),"to_hash")}),1);$def(self,"$is_a?",(function $Kernel_is_a$ques$9(klass){var self=this;if(!klass.$$is_class&&!klass.$$is_module){$Kernel.$raise($$$("TypeError"),"class or module required")}return Opal.is_a(self,klass)}),1);$def(self,"$itself",$return_self,0);$def(self,"$lambda",(function $$lambda(){var block=$$lambda.$$p||nil;delete $$lambda.$$p;return Opal.lambda(block)}),0);$def(self,"$load",(function $$load(file){file=$Opal["$coerce_to!"](file,$$$("String"),"to_str");return Opal.load(file)}),1);$def(self,"$loop",(function $$loop(){var $a,$yield=$$loop.$$p||nil,self=this,e=nil;delete $$loop.$$p;if(!($yield!==nil)){return $send(self,"enum_for",["loop"],(function $$10(){return $$$($$$("Float"),"INFINITY")}),0)}while($truthy(true)){try{Opal.yieldX($yield,[])}catch($err){if(Opal.rescue($err,[$$$("StopIteration")])){e=$err;try{return e.$result()}finally{Opal.pop_exception()}}else{throw $err}}}return self}),0);$def(self,"$nil?",$return_val(false),0);$def(self,"$printf",(function $$printf($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy(args["$any?"]())){self.$print($send(self,"format",$to_a(args)))}return nil}),-1);$def(self,"$proc",(function $$proc(){var block=$$proc.$$p||nil;delete $$proc.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to create Proc object without a block")}block.$$is_lambda=false;return block}),0);$def(self,"$puts",(function $$puts($a){var $post_args,strs;if($gvars.stdout==null)$gvars.stdout=nil;$post_args=Opal.slice.call(arguments);strs=$post_args;return $send($gvars.stdout,"puts",$to_a(strs))}),-1);$def(self,"$p",(function $$p($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;$send(args,"each",[],(function $$11(obj){if($gvars.stdout==null)$gvars.stdout=nil;if(obj==null)obj=nil;return $gvars.stdout.$puts(obj.$inspect())}),1);if($truthy($rb_le(args.$length(),1))){return args["$[]"](0)}else{return args}}),-1);$def(self,"$print",(function $$print($a){var $post_args,strs;if($gvars.stdout==null)$gvars.stdout=nil;$post_args=Opal.slice.call(arguments);strs=$post_args;return $send($gvars.stdout,"print",$to_a(strs))}),-1);$def(self,"$readline",(function $$readline($a){var $post_args,args;if($gvars.stdin==null)$gvars.stdin=nil;$post_args=Opal.slice.call(arguments);args=$post_args;return $send($gvars.stdin,"readline",$to_a(args))}),-1);$def(self,"$warn",(function $$warn($a,$b){var $post_args,$kwargs,strs,uplevel,$c,$d,$e,self=this,location=nil;if($gvars.VERBOSE==null)$gvars.VERBOSE=nil;if($gvars.stderr==null)$gvars.stderr=nil;$post_args=Opal.slice.call(arguments);$kwargs=Opal.extract_kwargs($post_args);if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}strs=$post_args;uplevel=$kwargs.$$smap["uplevel"];if(uplevel==null)uplevel=nil;if($truthy(uplevel)){uplevel=$Opal["$coerce_to!"](uplevel,$$$("Integer"),"to_str");if($truthy($rb_lt(uplevel,0))){$Kernel.$raise($$$("ArgumentError"),"negative level ("+uplevel+")")}location=($c=($d=self.$caller($rb_plus(uplevel,1),1).$first(),$d===nil||$d==null?nil:self.$caller($rb_plus(uplevel,1),1).$first().$split(":in `")),$c===nil||$c==null?nil:($e=self.$caller($rb_plus(uplevel,1),1).$first(),$e===nil||$e==null?nil:self.$caller($rb_plus(uplevel,1),1).$first().$split(":in `")).$first());if($truthy(location)){location=""+location+": "}strs=$send(strs,"map",[],(function $$12(s){if(s==null)s=nil;return""+location+"warning: "+s}),1)}if($truthy($gvars.VERBOSE["$nil?"]())||$truthy(strs["$empty?"]())){return nil}else{return $send($gvars.stderr,"puts",$to_a(strs))}}),-1);$def(self,"$raise",(function $$raise(exception,string,backtrace){if($gvars["!"]==null)$gvars["!"]=nil;if($gvars["@"]==null)$gvars["@"]=nil;if(string==null)string=nil;if(backtrace==null)backtrace=nil;if(exception==null&&$gvars["!"]!==nil){throw $gvars["!"]}if(exception==null){exception=$$$("RuntimeError").$new("")}else if($respond_to(exception,"$to_str")){exception=$$$("RuntimeError").$new(exception.$to_str())}else if(exception.$$is_class&&$respond_to(exception,"$exception")){exception=exception.$exception(string)}else if(exception.$$is_exception){}else{exception=$$$("TypeError").$new("exception class/object expected")}if(backtrace!==nil){exception.$set_backtrace(backtrace)}if($gvars["!"]!==nil){Opal.exceptions.push($gvars["!"])}$gvars["!"]=exception;$gvars["@"]=exception.$backtrace();throw exception}),-1);$def(self,"$rand",(function $$rand(max){if(max===undefined){return $$$($$$("Random"),"DEFAULT").$rand()}if(max.$$is_number){if(max<0){max=Math.abs(max)}if(max%1!==0){max=max.$to_i()}if(max===0){max=undefined}}return $$$($$$("Random"),"DEFAULT").$rand(max)}),-1);$def(self,"$respond_to?",(function $Kernel_respond_to$ques$13(name,include_all){var self=this;if(include_all==null)include_all=false;var body=self["$"+name];if(typeof body==="function"&&!body.$$stub){return true}if(self["$respond_to_missing?"].$$pristine===true){return false}else{return self["$respond_to_missing?"](name,include_all)}}),-2);$def(self,"$respond_to_missing?",(function $Kernel_respond_to_missing$ques$14(method_name,include_all){if(include_all==null)include_all=false;return false}),-2);$Opal.$pristine(self,"respond_to?","respond_to_missing?");$def(self,"$require",(function $$require(file){if(typeof file!=="string"&&Opal.String&&Opal.Array){file=$Opal["$coerce_to!"](file,$$$("String"),"to_str")}return Opal.require(file)}),1);$def(self,"$require_relative",(function $$require_relative(file){$Opal["$try_convert!"](file,$$$("String"),"to_str");file=$$$("File").$expand_path($$$("File").$join(Opal.current_file,"..",file));return Opal.require(file)}),1);$def(self,"$require_tree",(function $$require_tree(path,$kwargs){var autoload;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}autoload=$kwargs.$$smap["autoload"];if(autoload==null)autoload=false;var result=[];path=$$$("File").$expand_path(path);path=Opal.normalize(path);if(path===".")path="";for(var name in Opal.modules){if(name["$start_with?"](path)){if(!autoload){result.push([name,Opal.require(name)])}else{result.push([name,true])}}}return result}),-2);$def(self,"$singleton_class",(function $$singleton_class(){var self=this;return Opal.get_singleton_class(self)}),0);$def(self,"$sleep",(function $$sleep(seconds){if(seconds==null)seconds=nil;if(seconds===nil){$Kernel.$raise($$$("TypeError"),"can't convert NilClass into time interval")}if(!seconds.$$is_number){$Kernel.$raise($$$("TypeError"),"can't convert "+seconds.$class()+" into time interval")}if(seconds<0){$Kernel.$raise($$$("ArgumentError"),"time interval must be positive")}var get_time=Opal.global.performance?function(){return performance.now()}:function(){return new Date};var t=get_time();while(get_time()-t<=seconds*1e3);return Math.round(seconds)}),-1);$def(self,"$srand",(function $$srand(seed){if(seed==null)seed=$$("Random").$new_seed();return $$$("Random").$srand(seed)}),-1);$def(self,"$String",(function $$String(str){var $ret_or_1=nil;if($truthy($ret_or_1=$Opal["$coerce_to?"](str,$$$("String"),"to_str"))){return $ret_or_1}else{return $Opal["$coerce_to!"](str,$$$("String"),"to_s")}}),1);$def(self,"$tap",(function $$tap(){var block=$$tap.$$p||nil,self=this;delete $$tap.$$p;Opal.yield1(block,self);return self}),0);$def(self,"$to_proc",$return_self,0);$def(self,"$to_s",(function $$to_s(){var self=this;return"#<"+self.$class()+":0x"+self.$__id__().$to_s(16)+">"}),0);$def(self,"$catch",(function $Kernel_catch$15(tag){var $yield=$Kernel_catch$15.$$p||nil,$ret_or_1=nil,e=nil;delete $Kernel_catch$15.$$p;if(tag==null)tag=nil;try{tag=$truthy($ret_or_1=tag)?$ret_or_1:$Object.$new();return Opal.yield1($yield,tag)}catch($err){if(Opal.rescue($err,[$$$("UncaughtThrowError")])){e=$err;try{if($eqeq(e.$tag(),tag)){return e.$value()}return $Kernel.$raise()}finally{Opal.pop_exception()}}else{throw $err}}}),-1);$def(self,"$throw",(function $Kernel_throw$16(tag,obj){if(obj==null)obj=nil;return $Kernel.$raise($$$("UncaughtThrowError").$new(tag,obj))}),-2);$def(self,"$open",(function $$open($a){var block=$$open.$$p||nil,$post_args,args;delete $$open.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;return $send($$$("File"),"open",$to_a(args),block.$to_proc())}),-1);$def(self,"$yield_self",(function $$yield_self(){var $yield=$$yield_self.$$p||nil,self=this;delete $$yield_self.$$p;if(!($yield!==nil)){return $send(self,"enum_for",["yield_self"],$return_val(1),0)}return Opal.yield1($yield,self)}),0);$alias(self,"fail","raise");$alias(self,"kind_of?","is_a?");$alias(self,"object_id","__id__");$alias(self,"public_send","__send__");$alias(self,"send","__send__");$alias(self,"then","yield_self");return $alias(self,"to_enum","enum_for")})("::",$nesting);return function($base,$super){var self=$klass($base,$super,"Object");delete $Object.$$prototype.$require;return self.$include($Kernel)}("::",null)};Opal.modules["corelib/main"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$return_val=Opal.return_val,$def=Opal.def,$Object=Opal.Object,$Kernel=Opal.Kernel;Opal.add_stubs("include,raise");return function(self,$parent_nesting){$def(self,"$to_s",$return_val("main"),0);$def(self,"$include",(function $$include(mod){return $Object.$include(mod)}),1);$def(self,"$autoload",(function $$autoload($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;return Opal.Object.$autoload.apply(Opal.Object,args)}),-1);return $def(self,"$using",(function $$using(mod){return $Kernel.$raise("main.using is permitted only at toplevel")}),1)}(Opal.get_singleton_class(self),$nesting)};Opal.modules["corelib/error/errno"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$truthy=Opal.truthy,$rb_plus=Opal.rb_plus,$send2=Opal.send2,$find_super=Opal.find_super,$def=Opal.def,$klass=Opal.klass;Opal.add_stubs("+,errno,class,attr_reader");(function($base,$parent_nesting){var self=$module($base,"Errno");var $nesting=[self].concat($parent_nesting),errors=nil,klass=nil;errors=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2]];klass=nil;var i;for(i=0;i<errors.length;i++){(function(){var class_name=errors[i][0];var default_message=errors[i][1];var errno=errors[i][2];klass=Opal.klass(self,Opal.SystemCallError,class_name);klass.errno=errno;(function(self,$parent_nesting){return $def(self,"$new",(function $new$1(name){var $yield=$new$1.$$p||nil,self=this,message=nil;delete $new$1.$$p;if(name==null)name=nil;message=default_message;if($truthy(name)){message=$rb_plus(message," - "+name)}return $send2(self,$find_super(self,"new",$new$1,false,true),"new",[message],null)}),-1)})(Opal.get_singleton_class(klass),$nesting)})()}})("::",$nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"SystemCallError");var $nesting=[self].concat($parent_nesting);$def(self,"$errno",(function $$errno(){var self=this;return self.$class().$errno()}),0);return function(self,$parent_nesting){return self.$attr_reader("errno")}(Opal.get_singleton_class(self),$nesting)}("::",$$$("StandardError"),$nesting)};Opal.modules["corelib/error"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$gvars=Opal.gvars,$defs=Opal.defs,$send=Opal.send,$to_a=Opal.to_a,$def=Opal.def,$truthy=Opal.truthy,$hash2=Opal.hash2,$Kernel=Opal.Kernel,$not=Opal.not,$rb_plus=Opal.rb_plus,$eqeq=Opal.eqeq,$Object=Opal.Object,$send2=Opal.send2,$find_super=Opal.find_super,$module=Opal.module;Opal.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Exception");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.message=nil;Opal.prop(self.$$prototype,"$$is_exception",true);var stack_trace_limit;$defs(self,"$new",(function $Exception_new$1($a){var $post_args,args,self=this;if($gvars["!"]==null)$gvars["!"]=nil;$post_args=Opal.slice.call(arguments);args=$post_args;var message=args.length>0?args[0]:nil;var error=new self.$$constructor(message);error.name=self.$$name;error.message=message;error.cause=$gvars["!"];Opal.send(error,error.$initialize,args);if(Opal.config.enable_stack_trace&&Error.captureStackTrace){Error.captureStackTrace(error,stack_trace_limit)}return error}),-1);stack_trace_limit=self.$new;$defs(self,"$exception",(function $$exception($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return $send(self,"new",$to_a(args))}),-1);$def(self,"$initialize",(function $$initialize($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return self.message=args.length>0?args[0]:nil}),-1);function correct_backtrace(backtrace){var new_bt=[],m;for(var i=0;i<backtrace.length;i++){var loc=backtrace[i];if(!loc||!loc.$$is_string){}else if(m=loc.match(/^    at (.*?) \((.*?)\)$/)){new_bt.push(m[2]+":in `"+m[1]+"'")}else if(m=loc.match(/^    at (.*?)$/)){new_bt.push(m[1]+":in `undefined'")}else if(m=loc.match(/^  from (.*?)$/)){new_bt.push(m[1])}else if(m=loc.match(/^(.*?)@(.*?)$/)){new_bt.push(m[2]+":in `"+m[1]+"'")}}return new_bt}$def(self,"$backtrace",(function $$backtrace(){var self=this;if(self.backtrace){return self.backtrace}var backtrace=self.stack;if(typeof backtrace!=="undefined"&&backtrace.$$is_string){return self.backtrace=correct_backtrace(backtrace.split("\n").slice(0,15))}else if(backtrace){return self.backtrace=correct_backtrace(backtrace.slice(0,15))}return[]}),0);$def(self,"$backtrace_locations",(function $$backtrace_locations(){var $a,self=this;if(self.backtrace_locations)return self.backtrace_locations;self.backtrace_locations=($a=self.$backtrace(),$a===nil||$a==null?nil:$send($a,"map",[],(function $$2(loc){if(loc==null)loc=nil;return $$$($$$($$$("Thread"),"Backtrace"),"Location").$new(loc)}),1));return self.backtrace_locations}),0);$def(self,"$cause",(function $$cause(){var self=this;return self.cause||nil}),0);$def(self,"$exception",(function $$exception(str){var self=this;if(str==null)str=nil;if(str===nil||self===str){return self}var cloned=self.$clone();cloned.message=str;if(self.backtrace)cloned.backtrace=self.backtrace.$dup();cloned.stack=self.stack;cloned.cause=self.cause;return cloned}),-1);$def(self,"$message",(function $$message(){var self=this;return self.$to_s()}),0);$def(self,"$full_message",(function $$full_message(kwargs){var $a,$b,self=this,$ret_or_1=nil,highlight=nil,order=nil,bold_underline=nil,bold=nil,reset=nil,bt=nil,first=nil,msg=nil;if($gvars.stderr==null)$gvars.stderr=nil;if(kwargs==null)kwargs=nil;if(!$truthy(($a=$$("Hash","skip_raise"))?"constant":nil)){return""+self.message+"\n"+self.stack}kwargs=$hash2(["highlight","order"],{highlight:$gvars.stderr["$tty?"](),order:"top"}).$merge($truthy($ret_or_1=kwargs)?$ret_or_1:$hash2([],{}));$b=[kwargs["$[]"]("highlight"),kwargs["$[]"]("order")],highlight=$b[0],order=$b[1],$b;if(!$truthy([true,false]["$include?"](highlight))){$Kernel.$raise($$$("ArgumentError"),"expected true or false as highlight: "+highlight)}if(!$truthy(["top","bottom"]["$include?"](order))){$Kernel.$raise($$$("ArgumentError"),"expected :top or :bottom as order: "+order)}if($truthy(highlight)){bold_underline="[1;4m";bold="[1m";reset="[m"}else{bold_underline=bold=reset=""}bt=self.$backtrace().$dup();if($not(bt)||$truthy(bt["$empty?"]())){bt=self.$caller()}first=bt.$shift();msg=""+first+": ";msg=$rb_plus(msg,""+bold+self.$to_s()+" ("+bold_underline+self.$class()+reset+bold+")"+reset+"\n");msg=$rb_plus(msg,$send(bt,"map",[],(function $$3(loc){if(loc==null)loc=nil;return"\tfrom "+loc+"\n"}),1).$join());if($truthy(self.$cause())){msg=$rb_plus(msg,self.$cause().$full_message($hash2(["highlight"],{highlight:highlight})))}if($eqeq(order,"bottom")){msg=msg.$split("\n").$reverse().$join("\n");msg=$rb_plus(""+bold+"Traceback"+reset+" (most recent call last):\n",msg)}return msg}),-1);$def(self,"$inspect",(function $$inspect(){var self=this,as_str=nil;as_str=self.$to_s();if($truthy(as_str["$empty?"]())){return self.$class().$to_s()}else{return"#<"+self.$class().$to_s()+": "+self.$to_s()+">"}}),0);$def(self,"$set_backtrace",(function $$set_backtrace(backtrace){var self=this;var valid=true,i,ii;if(backtrace===nil){self.backtrace=nil;self.stack=""}else if(backtrace.$$is_string){self.backtrace=[backtrace];self.stack="  from "+backtrace}else{if(backtrace.$$is_array){for(i=0,ii=backtrace.length;i<ii;i++){if(!backtrace[i].$$is_string){valid=false;break}}}else{valid=false}if(valid===false){$Kernel.$raise($$$("TypeError"),"backtrace must be Array of String")}self.backtrace=backtrace;self.stack=$send(backtrace,"map",[],(function $$4(i){if(i==null)i=nil;return $rb_plus("  from ",i)}),1).join("\n")}return backtrace}),1);return $def(self,"$to_s",(function $$to_s(){var self=this,$ret_or_1=nil,$ret_or_2=nil;if($truthy($ret_or_1=$truthy($ret_or_2=self.message)?self.message.$to_s():$ret_or_2)){return $ret_or_1}else{return self.$class().$to_s()}}),0)})("::",Error,$nesting);$klass("::",$$$("Exception"),"ScriptError");$klass("::",$$$("ScriptError"),"SyntaxError");$klass("::",$$$("ScriptError"),"LoadError");$klass("::",$$$("ScriptError"),"NotImplementedError");$klass("::",$$$("Exception"),"SystemExit");$klass("::",$$$("Exception"),"NoMemoryError");$klass("::",$$$("Exception"),"SignalException");$klass("::",$$$("SignalException"),"Interrupt");$klass("::",$$$("Exception"),"SecurityError");$klass("::",$$$("Exception"),"SystemStackError");$klass("::",$$$("Exception"),"StandardError");$klass("::",$$$("StandardError"),"EncodingError");$klass("::",$$$("StandardError"),"ZeroDivisionError");$klass("::",$$$("StandardError"),"NameError");$klass("::",$$$("NameError"),"NoMethodError");$klass("::",$$$("StandardError"),"RuntimeError");$klass("::",$$$("RuntimeError"),"FrozenError");$klass("::",$$$("StandardError"),"LocalJumpError");$klass("::",$$$("StandardError"),"TypeError");$klass("::",$$$("StandardError"),"ArgumentError");$klass("::",$$$("ArgumentError"),"UncaughtThrowError");$klass("::",$$$("StandardError"),"IndexError");$klass("::",$$$("IndexError"),"StopIteration");$klass("::",$$$("StopIteration"),"ClosedQueueError");$klass("::",$$$("IndexError"),"KeyError");$klass("::",$$$("StandardError"),"RangeError");$klass("::",$$$("RangeError"),"FloatDomainError");$klass("::",$$$("StandardError"),"IOError");$klass("::",$$$("IOError"),"EOFError");$klass("::",$$$("StandardError"),"SystemCallError");$klass("::",$$$("StandardError"),"RegexpError");$klass("::",$$$("StandardError"),"ThreadError");$klass("::",$$$("StandardError"),"FiberError");$Object.$autoload("Errno","corelib/error/errno");(function($base,$super){var self=$klass($base,$super,"UncaughtThrowError");var $proto=self.$$prototype;$proto.tag=nil;self.$attr_reader("tag","value");return $def(self,"$initialize",(function $$initialize(tag,value){var $yield=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(value==null)value=nil;self.tag=tag;self.value=value;return $send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",["uncaught throw "+self.tag.$inspect()],null)}),-2)})("::",$$$("ArgumentError"));(function($base,$super){var self=$klass($base,$super,"NameError");self.$attr_reader("name");return $def(self,"$initialize",(function $$initialize(message,name){var $yield=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(name==null)name=nil;$send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",[message],null);return self.name=name}),-2)})("::",null);(function($base,$super){var self=$klass($base,$super,"NoMethodError");self.$attr_reader("args");return $def(self,"$initialize",(function $$initialize(message,name,args){var $yield=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(name==null)name=nil;if(args==null)args=[];$send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",[message,name],null);return self.args=args}),-2)})("::",null);(function($base,$super){var self=$klass($base,$super,"StopIteration");return self.$attr_reader("result")})("::",null);(function($base,$super){var self=$klass($base,$super,"KeyError");var $proto=self.$$prototype;$proto.receiver=$proto.key=nil;$def(self,"$initialize",(function $$initialize(message,$kwargs){var receiver,key,$yield=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}receiver=$kwargs.$$smap["receiver"];if(receiver==null)receiver=nil;key=$kwargs.$$smap["key"];if(key==null)key=nil;$send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",[message],null);self.receiver=receiver;return self.key=key}),-2);$def(self,"$receiver",(function $$receiver(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.receiver)){return $ret_or_1}else{return $Kernel.$raise($$$("ArgumentError"),"no receiver is available")}}),0);return $def(self,"$key",(function $$key(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.key)){return $ret_or_1}else{return $Kernel.$raise($$$("ArgumentError"),"no key is available")}}),0)})("::",null);return function($base,$parent_nesting){var self=$module($base,"JS");var $nesting=[self].concat($parent_nesting);return $klass($nesting[0],null,"Error"),nil}("::",$nesting)};Opal.modules["corelib/constants"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$const_set=Opal.const_set;$const_set("::","RUBY_PLATFORM","opal");$const_set("::","RUBY_ENGINE","opal");$const_set("::","RUBY_VERSION","3.1.0");$const_set("::","RUBY_ENGINE_VERSION","1.5.0");$const_set("::","RUBY_RELEASE_DATE","2022-04-13");$const_set("::","RUBY_PATCHLEVEL",0);$const_set("::","RUBY_REVISION","0");$const_set("::","RUBY_COPYRIGHT","opal - Copyright (C) 2013-2022 Adam Beynon and the Opal contributors");return $const_set("::","RUBY_DESCRIPTION","opal "+$$$("RUBY_ENGINE_VERSION")+" ("+$$$("RUBY_RELEASE_DATE")+" revision "+$$$("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(Opal){var nil=Opal.nil,$Object=Opal.Object;Opal.add_stubs("require");$Object.$require("corelib/runtime");$Object.$require("corelib/helpers");$Object.$require("corelib/module");$Object.$require("corelib/class");$Object.$require("corelib/basic_object");$Object.$require("corelib/kernel");$Object.$require("corelib/main");$Object.$require("corelib/error");return $Object.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$Kernel=Opal.Kernel,$def=Opal.def,$return_val=Opal.return_val,$hash2=Opal.hash2,$NilClass=Opal.NilClass,$truthy=Opal.truthy,$rb_gt=Opal.rb_gt,$alias=Opal.alias;Opal.add_stubs("raise,name,new,>,length,Rational,to_i");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"NilClass");var $nesting=[self].concat($parent_nesting);self.$$prototype.$$meta=self;(function(self,$parent_nesting){$def(self,"$allocate",(function $$allocate(){var self=this;return $Kernel.$raise($$$("TypeError"),"allocator undefined for "+self.$name())}),0);Opal.udef(self,"$"+"new");return nil})(Opal.get_singleton_class(self),$nesting);$def(self,"$!",$return_val(true),0);$def(self,"$&",$return_val(false),0);$def(self,"$|",(function $NilClass_$$1(other){return other!==false&&other!==nil}),1);$def(self,"$^",(function $NilClass_$$2(other){return other!==false&&other!==nil}),1);$def(self,"$==",(function $NilClass_$eq_eq$3(other){return other===nil}),1);$def(self,"$dup",$return_val(nil),0);$def(self,"$clone",(function $$clone($kwargs){var freeze;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}freeze=$kwargs.$$smap["freeze"];if(freeze==null)freeze=true;return nil}),-1);$def(self,"$inspect",$return_val("nil"),0);$def(self,"$nil?",$return_val(true),0);$def(self,"$singleton_class",(function $$singleton_class(){return $NilClass}),0);$def(self,"$to_a",(function $$to_a(){return[]}),0);$def(self,"$to_h",(function $$to_h(){return Opal.hash()}),0);$def(self,"$to_i",$return_val(0),0);$def(self,"$to_s",$return_val(""),0);$def(self,"$to_c",(function $$to_c(){return $$$("Complex").$new(0,0)}),0);$def(self,"$rationalize",(function $$rationalize($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy($rb_gt(args.$length(),1))){$Kernel.$raise($$$("ArgumentError"))}return $Kernel.$Rational(0,1)}),-1);$def(self,"$to_r",(function $$to_r(){return $Kernel.$Rational(0,1)}),0);$def(self,"$instance_variables",(function $$instance_variables(){return[]}),0);return $alias(self,"to_f","to_i")}("::",null,$nesting)};Opal.modules["corelib/boolean"]=function(Opal){"use strict";var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$Kernel=Opal.Kernel,$def=Opal.def,$return_self=Opal.return_self,$hash2=Opal.hash2,$truthy=Opal.truthy,$send2=Opal.send2,$find_super=Opal.find_super,$to_a=Opal.to_a,$alias=Opal.alias;Opal.add_stubs("raise,name,==,to_s,__id__");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Boolean");var $nesting=[self].concat($parent_nesting);Opal.prop(self.$$prototype,"$$is_boolean",true);var properties=["$$class","$$meta"];for(var i=0;i<properties.length;i++){Object.defineProperty(self.$$prototype,properties[i],{configurable:true,enumerable:false,get:function(){return this==true?Opal.TrueClass:this==false?Opal.FalseClass:Opal.Boolean}})}Object.defineProperty(self.$$prototype,"$$id",{configurable:true,enumerable:false,get:function(){return this==true?2:this==false?0:nil}});(function(self,$parent_nesting){$def(self,"$allocate",(function $$allocate(){var self=this;return $Kernel.$raise($$$("TypeError"),"allocator undefined for "+self.$name())}),0);Opal.udef(self,"$"+"new");return nil})(Opal.get_singleton_class(self),$nesting);$def(self,"$__id__",(function $$__id__(){var self=this;return self.valueOf()?2:0}),0);$def(self,"$!",(function $Boolean_$excl$1(){var self=this;return self!=true}),0);$def(self,"$&",(function $Boolean_$$2(other){var self=this;return self==true?other!==false&&other!==nil:false}),1);$def(self,"$|",(function $Boolean_$$3(other){var self=this;return self==true?true:other!==false&&other!==nil}),1);$def(self,"$^",(function $Boolean_$$4(other){var self=this;return self==true?other===false||other===nil:other!==false&&other!==nil}),1);$def(self,"$==",(function $Boolean_$eq_eq$5(other){var self=this;return self==true===other.valueOf()}),1);$def(self,"$singleton_class",(function $$singleton_class(){var self=this;return self.$$meta}),0);$def(self,"$to_s",(function $$to_s(){var self=this;return self==true?"true":"false"}),0);$def(self,"$dup",$return_self,0);$def(self,"$clone",(function $$clone($kwargs){var freeze,self=this;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}freeze=$kwargs.$$smap["freeze"];if(freeze==null)freeze=true;return self}),-1);$def(self,"$method_missing",(function $$method_missing(method,$a){var block=$$method_missing.$$p||nil,$post_args,args,self=this;delete $$method_missing.$$p;$post_args=Opal.slice.call(arguments,1);args=$post_args;var body=self.$$class.$$prototype["$"+method];if(!$truthy(typeof body!=="undefined"&&!body.$$stub)){$send2(self,$find_super(self,"method_missing",$$method_missing,false,true),"method_missing",[method].concat($to_a(args)),block)}return Opal.send(self,body,args,block)}),-2);$def(self,"$respond_to_missing?",(function $Boolean_respond_to_missing$ques$6(method,_include_all){var self=this;if(_include_all==null)_include_all=false;var body=self.$$class.$$prototype["$"+method];return typeof body!=="undefined"&&!body.$$stub}),-2);$alias(self,"eql?","==");$alias(self,"equal?","==");$alias(self,"inspect","to_s");return $alias(self,"object_id","__id__")})("::",Boolean,$nesting);$klass("::",$$$("Boolean"),"TrueClass");return $klass("::",$$$("Boolean"),"FalseClass"),nil};Opal.modules["corelib/comparable"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$module=Opal.module,$rb_gt=Opal.rb_gt,$rb_lt=Opal.rb_lt,$eqeqeq=Opal.eqeqeq,$Kernel=Opal.Kernel,$def=Opal.def;Opal.add_stubs(">,<,===,raise,class,<=>,equal?");return function($base){var self=$module($base,"Comparable");var $ret_or_1=nil;function normalize(what){if(Opal.is_a(what,Opal.Integer)){return what}if($rb_gt(what,0)){return 1}if($rb_lt(what,0)){return-1}return 0}function fail_comparison(lhs,rhs){var class_name;$eqeqeq(nil,$ret_or_1=rhs)||($eqeqeq(true,$ret_or_1)||($eqeqeq(false,$ret_or_1)||($eqeqeq($$$("Integer"),$ret_or_1)||$eqeqeq($$$("Float"),$ret_or_1))))?class_name=rhs.$inspect():class_name=rhs.$$class;$Kernel.$raise($$$("ArgumentError"),"comparison of "+lhs.$class()+" with "+class_name+" failed")}function cmp_or_fail(lhs,rhs){var cmp=lhs["$<=>"](rhs);if(!$truthy(cmp))fail_comparison(lhs,rhs);return normalize(cmp)}$def(self,"$==",(function $Comparable_$eq_eq$1(other){var self=this,cmp=nil;if($truthy(self["$equal?"](other))){return true}if(self["$<=>"]==Opal.Kernel["$<=>"]){return false}if(self.$$comparable){delete self.$$comparable;return false}if(!$truthy(cmp=self["$<=>"](other))){return false}return normalize(cmp)==0}),1);$def(self,"$>",(function $Comparable_$gt$2(other){var self=this;return cmp_or_fail(self,other)>0}),1);$def(self,"$>=",(function $Comparable_$gt_eq$3(other){var self=this;return cmp_or_fail(self,other)>=0}),1);$def(self,"$<",(function $Comparable_$lt$4(other){var self=this;return cmp_or_fail(self,other)<0}),1);$def(self,"$<=",(function $Comparable_$lt_eq$5(other){var self=this;return cmp_or_fail(self,other)<=0}),1);$def(self,"$between?",(function $Comparable_between$ques$6(min,max){var self=this;if($rb_lt(self,min)){return false}if($rb_gt(self,max)){return false}return true}),2);return $def(self,"$clamp",(function $$clamp(min,max){var self=this;if(max==null)max=nil;var c,excl;if(max===nil){if(!Opal.is_a(min,Opal.Range)){$Kernel.$raise($$$("TypeError"),"wrong argument type "+min.$class()+" (expected Range)")}excl=min.excl;max=min.end;min=min.begin;if(max!==nil&&excl){$Kernel.$raise($$$("ArgumentError"),"cannot clamp with an exclusive range")}}if(min!==nil&&max!==nil&&cmp_or_fail(min,max)>0){$Kernel.$raise($$$("ArgumentError"),"min argument must be smaller than max argument")}if(min!==nil){c=cmp_or_fail(self,min);if(c==0)return self;if(c<0)return min}if(max!==nil){c=cmp_or_fail(self,max);if(c>0)return max}return self}),-2)}("::")};Opal.modules["corelib/regexp"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$coerce_to=Opal.coerce_to,$klass=Opal.klass,$const_set=Opal.const_set,$send2=Opal.send2,$find_super=Opal.find_super,$def=Opal.def,$truthy=Opal.truthy,$gvars=Opal.gvars,$Kernel=Opal.Kernel,$Opal=Opal.Opal,$alias=Opal.alias,$send=Opal.send,$hash2=Opal.hash2,$rb_plus=Opal.rb_plus,$rb_ge=Opal.rb_ge,$to_a=Opal.to_a,$eqeqeq=Opal.eqeqeq,$rb_minus=Opal.rb_minus,$return_ivar=Opal.return_ivar;Opal.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a");$klass("::",$$$("StandardError"),"RegexpError");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Regexp");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$const_set(self,"IGNORECASE",1);$const_set(self,"EXTENDED",2);$const_set(self,"MULTILINE",4);Opal.prop(self.$$prototype,"$$is_regexp",true);(function(self,$parent_nesting){var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$allocate",(function $$allocate(){var $yield=$$allocate.$$p||nil,self=this,allocated=nil;delete $$allocate.$$p;allocated=$send2(self,$find_super(self,"allocate",$$allocate,false,true),"allocate",[],$yield);allocated.uninitialized=true;return allocated}),0);$def(self,"$escape",(function $$escape(string){return Opal.escape_regexp(string)}),1);$def(self,"$last_match",(function $$last_match(n){if($gvars["~"]==null)$gvars["~"]=nil;if(n==null)n=nil;if($truthy(n["$nil?"]())){return $gvars["~"]}else if($truthy($gvars["~"])){return $gvars["~"]["$[]"](n)}else{return nil}}),-1);$def(self,"$union",(function $$union($a){var $post_args,parts,self=this;$post_args=Opal.slice.call(arguments);parts=$post_args;var is_first_part_array,quoted_validated,part,options,each_part_options;if(parts.length==0){return/(?!)/}if(parts.length==1&&parts[0].$$is_regexp){return parts[0]}is_first_part_array=parts[0].$$is_array;if(parts.length>1&&is_first_part_array){$Kernel.$raise($$$("TypeError"),"no implicit conversion of Array into String")}if(is_first_part_array){parts=parts[0]}options=undefined;quoted_validated=[];for(var i=0;i<parts.length;i++){part=parts[i];if(part.$$is_string){quoted_validated.push(self.$escape(part))}else if(part.$$is_regexp){each_part_options=part.$options();if(options!=undefined&&options!=each_part_options){$Kernel.$raise($$$("TypeError"),"All expressions must use the same options")}options=each_part_options;quoted_validated.push("("+part.source+")")}else{quoted_validated.push(self.$escape(part.$to_str()))}}return self.$new(quoted_validated.$join("|"),options)}),-1);$def(self,"$new",(function $new$1(regexp,options){if(regexp.$$is_regexp){return new RegExp(regexp)}regexp=$Opal["$coerce_to!"](regexp,$$$("String"),"to_str");if(regexp.charAt(regexp.length-1)==="\\"&&regexp.charAt(regexp.length-2)!=="\\"){$Kernel.$raise($$$("RegexpError"),"too short escape sequence: /"+regexp+"/")}regexp=regexp.replace("\\A","^").replace("\\z","$");if(options===undefined||options["$!"]()){return new RegExp(regexp)}if(options.$$is_number){var temp="";if($$("IGNORECASE")&options){temp+="i"}if($$("MULTILINE")&options){temp+="m"}options=temp}else{options="i"}return new RegExp(regexp,options)}),-2);$alias(self,"compile","new");return $alias(self,"quote","escape")})(Opal.get_singleton_class(self),$nesting);$def(self,"$==",(function $Regexp_$eq_eq$2(other){var self=this;return other instanceof RegExp&&self.toString()===other.toString()}),1);$def(self,"$===",(function $Regexp_$eq_eq_eq$3(string){var self=this;return self.$match($Opal["$coerce_to?"](string,$$$("String"),"to_str"))!==nil}),1);$def(self,"$=~",(function $Regexp_$eq_tilde$4(string){var self=this,$ret_or_1=nil;if($gvars["~"]==null)$gvars["~"]=nil;if($truthy($ret_or_1=self.$match(string))){return $gvars["~"].$begin(0)}else{return $ret_or_1}}),1);$def(self,"$inspect",(function $$inspect(){var self=this;var regexp_format=/^\/(.*)\/([^\/]*)$/;var value=self.toString();var matches=regexp_format.exec(value);if(matches){var regexp_pattern=matches[1];var regexp_flags=matches[2];var chars=regexp_pattern.split("");var chars_length=chars.length;var char_escaped=false;var regexp_pattern_escaped="";for(var i=0;i<chars_length;i++){var current_char=chars[i];if(!char_escaped&&current_char=="/"){regexp_pattern_escaped=regexp_pattern_escaped.concat("\\")}regexp_pattern_escaped=regexp_pattern_escaped.concat(current_char);if(current_char=="\\"){if(char_escaped){char_escaped=false}else{char_escaped=true}}else{char_escaped=false}}return"/"+regexp_pattern_escaped+"/"+regexp_flags}else{return value}}),0);$def(self,"$match",(function $$match(string,pos){var block=$$match.$$p||nil,self=this;if($gvars["~"]==null)$gvars["~"]=nil;delete $$match.$$p;if(self.uninitialized){$Kernel.$raise($$$("TypeError"),"uninitialized Regexp")}if(pos===undefined){if(string===nil)return $gvars["~"]=nil;var m=self.exec($coerce_to(string,$$$("String"),"to_str"));if(m){$gvars["~"]=$$$("MatchData").$new(self,m);return block===nil?$gvars["~"]:Opal.yield1(block,$gvars["~"])}else{return $gvars["~"]=nil}}pos=$coerce_to(pos,$$$("Integer"),"to_int");if(string===nil){return $gvars["~"]=nil}string=$coerce_to(string,$$$("String"),"to_str");if(pos<0){pos+=string.length;if(pos<0){return $gvars["~"]=nil}}var md,re=Opal.global_regexp(self);while(true){md=re.exec(string);if(md===null){return $gvars["~"]=nil}if(md.index>=pos){$gvars["~"]=$$$("MatchData").$new(re,md);return block===nil?$gvars["~"]:Opal.yield1(block,$gvars["~"])}re.lastIndex=md.index+1}}),-2);$def(self,"$match?",(function $Regexp_match$ques$5(string,pos){var self=this;if(self.uninitialized){$Kernel.$raise($$$("TypeError"),"uninitialized Regexp")}if(pos===undefined){return string===nil?false:self.test($coerce_to(string,$$$("String"),"to_str"))}pos=$coerce_to(pos,$$$("Integer"),"to_int");if(string===nil){return false}string=$coerce_to(string,$$$("String"),"to_str");if(pos<0){pos+=string.length;if(pos<0){return false}}var md,re=Opal.global_regexp(self);md=re.exec(string);if(md===null||md.index<pos){return false}else{return true}}),-2);$def(self,"$names",(function $$names(){var self=this;return $send(self.$source().$scan(/\(?<(\w+)>/,$hash2(["no_matchdata"],{no_matchdata:true})),"map",[],"first".$to_proc()).$uniq()}),0);$def(self,"$named_captures",(function $$named_captures(){var self=this;return $send($send($send(self.$source().$scan(/\(?<(\w+)>/,$hash2(["no_matchdata"],{no_matchdata:true})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],(function $$6(i){if(i==null)i=nil;return $send(i,"map",[],(function $$7(j){if(j==null)j=nil;return $rb_plus(j.$last(),1)}),1)}),1)}),0);$def(self,"$~",(function $Regexp_$$8(){var self=this;if($gvars._==null)$gvars._=nil;return self["$=~"]($gvars._)}),0);$def(self,"$source",(function $$source(){var self=this;return self.source}),0);$def(self,"$options",(function $$options(){var self=this;if(self.uninitialized){$Kernel.$raise($$$("TypeError"),"uninitialized Regexp")}var result=0;if(self.multiline){result|=$$("MULTILINE")}if(self.ignoreCase){result|=$$("IGNORECASE")}return result}),0);$def(self,"$casefold?",(function $Regexp_casefold$ques$9(){var self=this;return self.ignoreCase}),0);$alias(self,"eql?","==");return $alias(self,"to_s","source")})("::",RegExp,$nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"MatchData");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.matches=nil;self.$attr_reader("post_match","pre_match","regexp","string");$def(self,"$initialize",(function $$initialize(regexp,match_groups,$kwargs){var no_matchdata,self=this;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}no_matchdata=$kwargs.$$smap["no_matchdata"];if(no_matchdata==null)no_matchdata=false;if(!$truthy(no_matchdata)){$gvars["~"]=self}self.regexp=regexp;self.begin=match_groups.index;self.string=match_groups.input;self.pre_match=match_groups.input.slice(0,match_groups.index);self.post_match=match_groups.input.slice(match_groups.index+match_groups[0].length);self.matches=[];for(var i=0,length=match_groups.length;i<length;i++){var group=match_groups[i];if(group==null){self.matches.push(nil)}else{self.matches.push(group)}}}),-3);$def(self,"$match",(function $$match(idx){var self=this,match=nil;if($truthy(match=self["$[]"](idx))){return match}else if($truthy(idx["$is_a?"]($$("Integer")))&&$truthy($rb_ge(idx,self.$length()))){return $Kernel.$raise($$$("IndexError"),"index "+idx+" out of matches")}else{return nil}}),1);$def(self,"$match_length",(function $$match_length(idx){var $a,self=this;return $a=self.$match(idx),$a===nil||$a==null?nil:self.$match(idx).$length()}),1);$def(self,"$[]",(function $MatchData_$$$10($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;if(args[0].$$is_string){if(self.$regexp().$names()["$include?"](args["$[]"](0))["$!"]()){$Kernel.$raise($$$("IndexError"),"undefined group name reference: "+args["$[]"](0))}return self.$named_captures()["$[]"](args["$[]"](0))}else{return $send(self.matches,"[]",$to_a(args))}}),-1);$def(self,"$offset",(function $$offset(n){var self=this;if(n!==0){$Kernel.$raise($$$("ArgumentError"),"MatchData#offset only supports 0th element")}return[self.begin,self.begin+self.matches[n].length]}),1);$def(self,"$==",(function $MatchData_$eq_eq$11(other){var self=this,$ret_or_1=nil,$ret_or_2=nil,$ret_or_3=nil,$ret_or_4=nil;if(!$eqeqeq($$$("MatchData"),other)){return false}if($truthy($ret_or_1=$truthy($ret_or_2=$truthy($ret_or_3=$truthy($ret_or_4=self.string==other.string)?self.regexp.toString()==other.regexp.toString():$ret_or_4)?self.pre_match==other.pre_match:$ret_or_3)?self.post_match==other.post_match:$ret_or_2)){return self.begin==other.begin}else{return $ret_or_1}}),1);$def(self,"$begin",(function $$begin(n){var self=this;if(n!==0){$Kernel.$raise($$$("ArgumentError"),"MatchData#begin only supports 0th element")}return self.begin}),1);$def(self,"$end",(function $$end(n){var self=this;if(n!==0){$Kernel.$raise($$$("ArgumentError"),"MatchData#end only supports 0th element")}return self.begin+self.matches[n].length}),1);$def(self,"$captures",(function $$captures(){var self=this;return self.matches.slice(1)}),0);$def(self,"$named_captures",(function $$named_captures(){var self=this,matches=nil;matches=self.$captures();return $send(self.$regexp().$named_captures(),"transform_values",[],(function $$12(i){if(i==null)i=nil;return matches["$[]"]($rb_minus(i.$last(),1))}),1)}),0);$def(self,"$names",(function $$names(){var self=this;return self.$regexp().$names()}),0);$def(self,"$inspect",(function $$inspect(){var self=this;var str="#<MatchData "+self.matches[0].$inspect();if(self.$regexp().$names()["$empty?"]()){for(var i=1,length=self.matches.length;i<length;i++){str+=" "+i+":"+self.matches[i].$inspect()}}else{$send(self.$named_captures(),"each",[],(function $$13(k,v){if(k==null)k=nil;if(v==null)v=nil;return str+=" "+k+":"+v.$inspect()}),2)}return str+">"}),0);$def(self,"$length",(function $$length(){var self=this;return self.matches.length}),0);$def(self,"$to_a",$return_ivar("matches"),0);$def(self,"$to_s",(function $$to_s(){var self=this;return self.matches[0]}),0);$def(self,"$values_at",(function $$values_at($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;var i,a,index,values=[];for(i=0;i<args.length;i++){if(args[i].$$is_range){a=args[i].$to_a();a.unshift(i,1);Array.prototype.splice.apply(args,a)}index=$Opal["$coerce_to!"](args[i],$$$("Integer"),"to_int");if(index<0){index+=self.matches.length;if(index<0){values.push(nil);continue}}values.push(self.matches[index])}return values}),-1);$alias(self,"eql?","==");return $alias(self,"size","length")}($nesting[0],null,$nesting)};Opal.modules["corelib/string"]=function(Opal){var self=Opal.top,$nesting=[],$$=Opal.$r($nesting),nil=Opal.nil,$$$=Opal.$$$,$coerce_to=Opal.coerce_to,$respond_to=Opal.respond_to,$global_multiline_regexp=Opal.global_multiline_regexp,$klass=Opal.klass,$def=Opal.def,$Opal=Opal.Opal,$defs=Opal.defs,$send=Opal.send,$to_a=Opal.to_a,$hash2=Opal.hash2,$eqeqeq=Opal.eqeqeq,$Kernel=Opal.Kernel,$truthy=Opal.truthy,$gvars=Opal.gvars,$rb_divide=Opal.rb_divide,$rb_plus=Opal.rb_plus,$alias=Opal.alias,$const_set=Opal.const_set;Opal.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,each_line,to_proc,to_a,class,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine");self.$require("corelib/comparable");self.$require("corelib/regexp");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"String");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);self.$include($$$("Comparable"));Opal.prop(self.$$prototype,"$$is_string",true);$def(self,"$__id__",(function $$__id__(){var self=this;return self.toString()}),0);$defs(self,"$try_convert",(function $$try_convert(what){return $Opal["$coerce_to?"](what,$$$("String"),"to_str")}),1);$defs(self,"$new",(function $String_new$1($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;var str=args[0]||"";var opts=args[args.length-1];str=$coerce_to(str,$$$("String"),"to_str");if(opts&&opts.$$is_hash){if(opts.$$smap.encoding)str=str.$force_encoding(opts.$$smap.encoding)}str=new self.$$constructor(str);if(!str.$initialize.$$pristine)$send(str,"initialize",$to_a(args));return str}),-1);$def(self,"$initialize",(function $$initialize($a,$b){var $post_args,$kwargs,str,encoding,capacity;$post_args=Opal.slice.call(arguments);$kwargs=Opal.extract_kwargs($post_args);if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if($post_args.length>0)str=$post_args.shift();encoding=$kwargs.$$smap["encoding"];if(encoding==null)encoding=nil;capacity=$kwargs.$$smap["capacity"];if(capacity==null)capacity=nil;return nil}),-1);$def(self,"$%",(function $String_$percent$2(data){var self=this;if($eqeqeq($$$("Array"),data)){return $send(self,"format",[self].concat($to_a(data)))}else{return self.$format(self,data)}}),1);$def(self,"$*",(function $String_$$3(count){var self=this;count=$coerce_to(count,$$$("Integer"),"to_int");if(count<0){$Kernel.$raise($$$("ArgumentError"),"negative argument")}if(count===0){return""}var result="",string=self.toString();if(string.length*count>=1<<28){$Kernel.$raise($$$("RangeError"),"multiply count must not overflow maximum string size")}for(;;){if((count&1)===1){result+=string}count>>>=1;if(count===0){break}string+=string}return result}),1);$def(self,"$+",(function $String_$plus$4(other){var self=this;other=$coerce_to(other,$$$("String"),"to_str");if(other==""&&self.$$class===Opal.String)return self;if(self==""&&other.$$class===Opal.String)return other;var out=self+other;if(self.encoding===out.encoding&&other.encoding===out.encoding)return out;if(self.encoding.name==="UTF-8"||other.encoding.name==="UTF-8")return out;return Opal.enc(out,self.encoding)}),1);$def(self,"$<=>",(function $String_$lt_eq_gt$5(other){var self=this;if($truthy(other["$respond_to?"]("to_str"))){other=other.$to_str().$to_s();return self>other?1:self<other?-1:0}else{var cmp=other["$<=>"](self);if(cmp===nil){return nil}else{return cmp>0?-1:cmp<0?1:0}}}),1);$def(self,"$==",(function $String_$eq_eq$6(other){var self=this;if(other.$$is_string){return self.toString()===other.toString()}if($respond_to(other,"$to_str")){return other["$=="](self)}return false}),1);$def(self,"$=~",(function $String_$eq_tilde$7(other){var self=this;if(other.$$is_string){$Kernel.$raise($$$("TypeError"),"type mismatch: String given")}return other["$=~"](self)}),1);$def(self,"$[]",(function $String_$$$8(index,length){var self=this;var size=self.length,exclude,range;if(index.$$is_range){exclude=index.excl;range=index;length=index.end===nil?-1:$coerce_to(index.end,$$$("Integer"),"to_int");index=index.begin===nil?0:$coerce_to(index.begin,$$$("Integer"),"to_int");if(Math.abs(index)>size){return nil}if(index<0){index+=size}if(length<0){length+=size}if(!exclude||range.end===nil){length+=1}length=length-index;if(length<0){length=0}return self.substr(index,length)}if(index.$$is_string){if(length!=null){$Kernel.$raise($$$("TypeError"))}return self.indexOf(index)!==-1?index:nil}if(index.$$is_regexp){var match=self.match(index);if(match===null){$gvars["~"]=nil;return nil}$gvars["~"]=$$$("MatchData").$new(index,match);if(length==null){return match[0]}length=$coerce_to(length,$$$("Integer"),"to_int");if(length<0&&-length<match.length){return match[length+=match.length]}if(length>=0&&length<match.length){return match[length]}return nil}index=$coerce_to(index,$$$("Integer"),"to_int");if(index<0){index+=size}if(length==null){if(index>=size||index<0){return nil}return self.substr(index,1)}length=$coerce_to(length,$$$("Integer"),"to_int");if(length<0){return nil}if(index>size||index<0){return nil}return self.substr(index,length)}),-2);$def(self,"$b",(function $$b(){var self=this;return new String(self).$force_encoding("binary")}),0);$def(self,"$capitalize",(function $$capitalize(){var self=this;return self.charAt(0).toUpperCase()+self.substr(1).toLowerCase()}),0);$def(self,"$casecmp",(function $$casecmp(other){var self=this;if(!$truthy(other["$respond_to?"]("to_str"))){return nil}other=$coerce_to(other,$$$("String"),"to_str").$to_s();var ascii_only=/^[\x00-\x7F]*$/;if(ascii_only.test(self)&&ascii_only.test(other)){self=self.toLowerCase();other=other.toLowerCase()}return self["$<=>"](other)}),1);$def(self,"$casecmp?",(function $String_casecmp$ques$9(other){var self=this;var cmp=self.$casecmp(other);if(cmp===nil){return nil}else{return cmp===0}}),1);$def(self,"$center",(function $$center(width,padstr){var self=this;if(padstr==null)padstr=" ";width=$coerce_to(width,$$$("Integer"),"to_int");padstr=$coerce_to(padstr,$$$("String"),"to_str").$to_s();if($truthy(padstr["$empty?"]())){$Kernel.$raise($$$("ArgumentError"),"zero width padding")}if($truthy(width<=self.length)){return self}var ljustified=self.$ljust($rb_divide($rb_plus(width,self.length),2).$ceil(),padstr),rjustified=self.$rjust($rb_divide($rb_plus(width,self.length),2).$floor(),padstr);return rjustified+ljustified.slice(self.length)}),-2);$def(self,"$chomp",(function $$chomp(separator){var self=this;if($gvars["/"]==null)$gvars["/"]=nil;if(separator==null)separator=$gvars["/"];if($truthy(separator===nil||self.length===0)){return self}separator=$Opal["$coerce_to!"](separator,$$$("String"),"to_str").$to_s();var result;if(separator==="\n"){result=self.replace(/\r?\n?$/,"")}else if(separator===""){result=self.replace(/(\r?\n)+$/,"")}else if(self.length>=separator.length){var tail=self.substr(self.length-separator.length,separator.length);if(tail===separator){result=self.substr(0,self.length-separator.length)}}if(result!=null){return result}return self}),-1);$def(self,"$chop",(function $$chop(){var self=this;var length=self.length,result;if(length<=1){result=""}else if(self.charAt(length-1)==="\n"&&self.charAt(length-2)==="\r"){result=self.substr(0,length-2)}else{result=self.substr(0,length-1)}return result}),0);$def(self,"$chr",(function $$chr(){var self=this;return self.charAt(0)}),0);$def(self,"$clone",(function $$clone(){var self=this,copy=nil;copy=new String(self);copy.$copy_singleton_methods(self);copy.$initialize_clone(self);return copy}),0);$def(self,"$dup",(function $$dup(){var self=this,copy=nil;copy=new String(self);copy.$initialize_dup(self);return copy}),0);$def(self,"$count",(function $$count($a){var $post_args,sets,self=this;$post_args=Opal.slice.call(arguments);sets=$post_args;if(sets.length===0){$Kernel.$raise($$$("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)")}var char_class=char_class_from_char_sets(sets);if(char_class===null){return 0}return self.length-self.replace(new RegExp(char_class,"g"),"").length}),-1);$def(self,"$delete",(function $String_delete$10($a){var $post_args,sets,self=this;$post_args=Opal.slice.call(arguments);sets=$post_args;if(sets.length===0){$Kernel.$raise($$$("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)")}var char_class=char_class_from_char_sets(sets);if(char_class===null){return self}return self.replace(new RegExp(char_class,"g"),"")}),-1);$def(self,"$delete_prefix",(function $$delete_prefix(prefix){var self=this;if(!prefix.$$is_string){prefix=$coerce_to(prefix,$$$("String"),"to_str")}if(self.slice(0,prefix.length)===prefix){return self.slice(prefix.length)}else{return self}}),1);$def(self,"$delete_suffix",(function $$delete_suffix(suffix){var self=this;if(!suffix.$$is_string){suffix=$coerce_to(suffix,$$$("String"),"to_str")}if(self.slice(self.length-suffix.length)===suffix){return self.slice(0,self.length-suffix.length)}else{return self}}),1);$def(self,"$downcase",(function $$downcase(){var self=this;return self.toLowerCase()}),0);$def(self,"$each_line",(function $$each_line($a,$b){var block=$$each_line.$$p||nil,$post_args,$kwargs,separator,chomp,self=this;if($gvars["/"]==null)$gvars["/"]=nil;delete $$each_line.$$p;$post_args=Opal.slice.call(arguments);$kwargs=Opal.extract_kwargs($post_args);if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if($post_args.length>0)separator=$post_args.shift();if(separator==null)separator=$gvars["/"];chomp=$kwargs.$$smap["chomp"];if(chomp==null)chomp=false;if(!(block!==nil)){return self.$enum_for("each_line",separator,$hash2(["chomp"],{chomp:chomp}))}if(separator===nil){Opal.yield1(block,self);return self}separator=$coerce_to(separator,$$$("String"),"to_str");var a,i,n,length,chomped,trailing,splitted,value;if(separator.length===0){for(a=self.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),i=0,n=a.length;i<n;i+=2){if(a[i]||a[i+1]){value=(a[i]||"")+(a[i+1]||"");if(chomp){value=value.$chomp("\n")}Opal.yield1(block,value)}}return self}chomped=self.$chomp(separator);trailing=self.length!=chomped.length;splitted=chomped.split(separator);for(i=0,length=splitted.length;i<length;i++){value=splitted[i];if(i<length-1||trailing){value+=separator}if(chomp){value=value.$chomp(separator)}Opal.yield1(block,value)}return self}),-1);$def(self,"$empty?",(function $String_empty$ques$11(){var self=this;return self.length===0}),0);$def(self,"$end_with?",(function $String_end_with$ques$12($a){var $post_args,suffixes,self=this;$post_args=Opal.slice.call(arguments);suffixes=$post_args;for(var i=0,length=suffixes.length;i<length;i++){var suffix=$coerce_to(suffixes[i],$$$("String"),"to_str").$to_s();if(self.length>=suffix.length&&self.substr(self.length-suffix.length,suffix.length)==suffix){return true}}return false}),-1);$def(self,"$gsub",(function $$gsub(pattern,replacement){var block=$$gsub.$$p||nil,self=this;delete $$gsub.$$p;if(replacement===undefined&&block===nil){return self.$enum_for("gsub",pattern)}var result="",match_data=nil,index=0,match,_replacement;if(pattern.$$is_regexp){pattern=$global_multiline_regexp(pattern)}else{pattern=$coerce_to(pattern,$$$("String"),"to_str");pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")}var lastIndex;while(true){match=pattern.exec(self);if(match===null){$gvars["~"]=nil;result+=self.slice(index);break}match_data=$$$("MatchData").$new(pattern,match);if(replacement===undefined){lastIndex=pattern.lastIndex;_replacement=block(match[0]);pattern.lastIndex=lastIndex}else if(replacement.$$is_hash){_replacement=replacement["$[]"](match[0]).$to_s()}else{if(!replacement.$$is_string){replacement=$coerce_to(replacement,$$$("String"),"to_str")}_replacement=replacement.replace(/([\\]+)([0-9+&`'])/g,(function(original,slashes,command){if(slashes.length%2===0){return original}switch(command){case"+":for(var i=match.length-1;i>0;i--){if(match[i]!==undefined){return slashes.slice(1)+match[i]}}return"";case"&":return slashes.slice(1)+match[0];case"`":return slashes.slice(1)+self.slice(0,match.index);case"'":return slashes.slice(1)+self.slice(match.index+match[0].length);default:return slashes.slice(1)+(match[command]||"")}})).replace(/\\\\/g,"\\")}if(pattern.lastIndex===match.index){result+=self.slice(index,match.index)+_replacement+(self[match.index]||"");pattern.lastIndex+=1}else{result+=self.slice(index,match.index)+_replacement}index=pattern.lastIndex}$gvars["~"]=match_data;return result}),-2);$def(self,"$hash",(function $$hash(){var self=this;return self.toString()}),0);$def(self,"$hex",(function $$hex(){var self=this;return self.$to_i(16)}),0);$def(self,"$include?",(function $String_include$ques$13(other){var self=this;if(!other.$$is_string){other=$coerce_to(other,$$$("String"),"to_str")}return self.indexOf(other)!==-1}),1);$def(self,"$index",(function $$index(search,offset){var self=this;var index,match,regex;if(offset===undefined){offset=0}else{offset=$coerce_to(offset,$$$("Integer"),"to_int");if(offset<0){offset+=self.length;if(offset<0){return nil}}}if(search.$$is_regexp){regex=$global_multiline_regexp(search);while(true){match=regex.exec(self);if(match===null){$gvars["~"]=nil;index=-1;break}if(match.index>=offset){$gvars["~"]=$$$("MatchData").$new(regex,match);index=match.index;break}regex.lastIndex=match.index+1}}else{search=$coerce_to(search,$$$("String"),"to_str");if(search.length===0&&offset>self.length){index=-1}else{index=self.indexOf(search,offset)}}return index===-1?nil:index}),-2);$def(self,"$inspect",(function $$inspect(){var self=this;var escapable=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},escaped=self.replace(escapable,(function(chr){if(meta[chr])return meta[chr];chr=chr.charCodeAt(0);if(chr<=255&&(self.encoding["$binary?"]()||self.internal_encoding["$binary?"]())){return"\\x"+("00"+chr.toString(16).toUpperCase()).slice(-2)}else{return"\\u"+("0000"+chr.toString(16).toUpperCase()).slice(-4)}}));return'"'+escaped.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),0);$def(self,"$intern",(function $$intern(){var self=this;return self.toString()}),0);$def(self,"$lines",(function $$lines($a,$b){var block=$$lines.$$p||nil,$post_args,$kwargs,separator,chomp,self=this,e=nil;if($gvars["/"]==null)$gvars["/"]=nil;delete $$lines.$$p;$post_args=Opal.slice.call(arguments);$kwargs=Opal.extract_kwargs($post_args);if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if($post_args.length>0)separator=$post_args.shift();if(separator==null)separator=$gvars["/"];chomp=$kwargs.$$smap["chomp"];if(chomp==null)chomp=false;e=$send(self,"each_line",[separator,$hash2(["chomp"],{chomp:chomp})],block.$to_proc());if($truthy(block)){return self}else{return e.$to_a()}}),-1);$def(self,"$ljust",(function $$ljust(width,padstr){var self=this;if(padstr==null)padstr=" ";width=$coerce_to(width,$$$("Integer"),"to_int");padstr=$coerce_to(padstr,$$$("String"),"to_str").$to_s();if($truthy(padstr["$empty?"]())){$Kernel.$raise($$$("ArgumentError"),"zero width padding")}if($truthy(width<=self.length)){return self}var index=-1,result="";width-=self.length;while(++index<width){result+=padstr}return self+result.slice(0,width)}),-2);$def(self,"$lstrip",(function $$lstrip(){var self=this;return self.replace(/^[\u0000\s]*/,"")}),0);$def(self,"$ascii_only?",(function $String_ascii_only$ques$14(){var self=this;if(!self.encoding.ascii)return false;return/^[\x00-\x7F]*$/.test(self)}),0);$def(self,"$match",(function $$match(pattern,pos){var block=$$match.$$p||nil,self=this;delete $$match.$$p;if($eqeqeq($$("String"),pattern)||$truthy(pattern["$respond_to?"]("to_str"))){pattern=$$$("Regexp").$new(pattern.$to_str())}if(!$eqeqeq($$$("Regexp"),pattern)){$Kernel.$raise($$$("TypeError"),"wrong argument type "+pattern.$class()+" (expected Regexp)")}return $send(pattern,"match",[self,pos],block.$to_proc())}),-2);$def(self,"$match?",(function $String_match$ques$15(pattern,pos){var self=this;if($eqeqeq($$("String"),pattern)||$truthy(pattern["$respond_to?"]("to_str"))){pattern=$$$("Regexp").$new(pattern.$to_str())}if(!$eqeqeq($$$("Regexp"),pattern)){$Kernel.$raise($$$("TypeError"),"wrong argument type "+pattern.$class()+" (expected Regexp)")}return pattern["$match?"](self,pos)}),-2);$def(self,"$next",(function $$next(){var self=this;var i=self.length;if(i===0){return""}var result=self;var first_alphanum_char_index=self.search(/[a-zA-Z0-9]/);var carry=false;var code;while(i--){code=self.charCodeAt(i);if(code>=48&&code<=57||code>=65&&code<=90||code>=97&&code<=122){switch(code){case 57:carry=true;code=48;break;case 90:carry=true;code=65;break;case 122:carry=true;code=97;break;default:carry=false;code+=1}}else{if(first_alphanum_char_index===-1){if(code===255){carry=true;code=0}else{carry=false;code+=1}}else{carry=true}}result=result.slice(0,i)+String.fromCharCode(code)+result.slice(i+1);if(carry&&(i===0||i===first_alphanum_char_index)){switch(code){case 65:break;case 97:break;default:code+=1}if(i===0){result=String.fromCharCode(code)+result}else{result=result.slice(0,i)+String.fromCharCode(code)+result.slice(i)}carry=false}if(!carry){break}}return result}),0);$def(self,"$oct",(function $$oct(){var self=this;var result,string=self,radix=8;if(/^\s*_/.test(string)){return 0}string=string.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,(function(original,head,flag,tail){switch(tail.charAt(0)){case"+":case"-":return original;case"0":if(tail.charAt(1)==="x"&&flag==="0x"){return original}}switch(flag){case"0b":radix=2;break;case"0":case"0o":radix=8;break;case"0d":radix=10;break;case"0x":radix=16;break}return head+tail}));result=parseInt(string.replace(/_(?!_)/g,""),radix);return isNaN(result)?0:result}),0);$def(self,"$ord",(function $$ord(){var self=this;if(typeof self.codePointAt==="function"){return self.codePointAt(0)}else{return self.charCodeAt(0)}}),0);$def(self,"$partition",(function $$partition(sep){var self=this;var i,m;if(sep.$$is_regexp){m=sep.exec(self);if(m===null){i=-1}else{$$$("MatchData").$new(sep,m);sep=m[0];i=m.index}}else{sep=$coerce_to(sep,$$$("String"),"to_str");i=self.indexOf(sep)}if(i===-1){return[self,"",""]}return[self.slice(0,i),self.slice(i,i+sep.length),self.slice(i+sep.length)]}),1);$def(self,"$reverse",(function $$reverse(){var self=this;return self.split("").reverse().join("")}),0);$def(self,"$rindex",(function $$rindex(search,offset){var self=this;var i,m,r,_m;if(offset===undefined){offset=self.length}else{offset=$coerce_to(offset,$$$("Integer"),"to_int");if(offset<0){offset+=self.length;if(offset<0){return nil}}}if(search.$$is_regexp){m=null;r=$global_multiline_regexp(search);while(true){_m=r.exec(self);if(_m===null||_m.index>offset){break}m=_m;r.lastIndex=m.index+1}if(m===null){$gvars["~"]=nil;i=-1}else{$$$("MatchData").$new(r,m);i=m.index}}else{search=$coerce_to(search,$$$("String"),"to_str");i=self.lastIndexOf(search,offset)}return i===-1?nil:i}),-2);$def(self,"$rjust",(function $$rjust(width,padstr){var self=this;if(padstr==null)padstr=" ";width=$coerce_to(width,$$$("Integer"),"to_int");padstr=$coerce_to(padstr,$$$("String"),"to_str").$to_s();if($truthy(padstr["$empty?"]())){$Kernel.$raise($$$("ArgumentError"),"zero width padding")}if($truthy(width<=self.length)){return self}var chars=Math.floor(width-self.length),patterns=Math.floor(chars/padstr.length),result=Array(patterns+1).join(padstr),remaining=chars-result.length;return result+padstr.slice(0,remaining)+self}),-2);$def(self,"$rpartition",(function $$rpartition(sep){var self=this;var i,m,r,_m;if(sep.$$is_regexp){m=null;r=$global_multiline_regexp(sep);while(true){_m=r.exec(self);if(_m===null){break}m=_m;r.lastIndex=m.index+1}if(m===null){i=-1}else{$$$("MatchData").$new(r,m);sep=m[0];i=m.index}}else{sep=$coerce_to(sep,$$$("String"),"to_str");i=self.lastIndexOf(sep)}if(i===-1){return["","",self]}return[self.slice(0,i),self.slice(i,i+sep.length),self.slice(i+sep.length)]}),1);$def(self,"$rstrip",(function $$rstrip(){var self=this;return self.replace(/[\s\u0000]*$/,"")}),0);$def(self,"$scan",(function $$scan(pattern,$kwargs){var block=$$scan.$$p||nil,no_matchdata,self=this;delete $$scan.$$p;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}no_matchdata=$kwargs.$$smap["no_matchdata"];if(no_matchdata==null)no_matchdata=false;var result=[],match_data=nil,match;if(pattern.$$is_regexp){pattern=$global_multiline_regexp(pattern)}else{pattern=$coerce_to(pattern,$$$("String"),"to_str");pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")}while((match=pattern.exec(self))!=null){match_data=$$$("MatchData").$new(pattern,match,$hash2(["no_matchdata"],{no_matchdata:no_matchdata}));if(block===nil){match.length==1?result.push(match[0]):result.push(match_data.$captures())}else{match.length==1?Opal.yield1(block,match[0]):Opal.yield1(block,match_data.$captures())}if(pattern.lastIndex===match.index){pattern.lastIndex+=1}}if(!no_matchdata)$gvars["~"]=match_data;return block!==nil?self:result}),-2);$def(self,"$singleton_class",(function $$singleton_class(){var self=this;return Opal.get_singleton_class(self)}),0);$def(self,"$split",(function $$split(pattern,limit){var self=this,$ret_or_1=nil;if($gvars[";"]==null)$gvars[";"]=nil;if(self.length===0){return[]}if(limit===undefined){limit=0}else{limit=$Opal["$coerce_to!"](limit,$$$("Integer"),"to_int");if(limit===1){return[self]}}if(pattern===undefined||pattern===nil){pattern=$truthy($ret_or_1=$gvars[";"])?$ret_or_1:" "}var result=[],string=self.toString(),index=0,match,i,ii;if(pattern.$$is_regexp){pattern=$global_multiline_regexp(pattern)}else{pattern=$coerce_to(pattern,$$$("String"),"to_str").$to_s();if(pattern===" "){pattern=/\s+/gm;string=string.replace(/^\s+/,"")}else{pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")}}result=string.split(pattern);if(result.length===1&&result[0]===string){return[result[0]]}while((i=result.indexOf(undefined))!==-1){result.splice(i,1)}if(limit===0){while(result[result.length-1]===""){result.length-=1}return result}match=pattern.exec(string);if(limit<0){if(match!==null&&match[0]===""&&pattern.source.indexOf("(?=")===-1){for(i=0,ii=match.length;i<ii;i++){result.push("")}}return result}if(match!==null&&match[0]===""){result.splice(limit-1,result.length-1,result.slice(limit-1).join(""));return result}if(limit>=result.length){return result}i=0;while(match!==null){i++;index=pattern.lastIndex;if(i+1===limit){break}match=pattern.exec(string)}result.splice(limit-1,result.length-1,string.slice(index));return result}),-1);$def(self,"$squeeze",(function $$squeeze($a){var $post_args,sets,self=this;$post_args=Opal.slice.call(arguments);sets=$post_args;if(sets.length===0){return self.replace(/(.)\1+/g,"$1")}var char_class=char_class_from_char_sets(sets);if(char_class===null){return self}return self.replace(new RegExp("("+char_class+")\\1+","g"),"$1")}),-1);$def(self,"$start_with?",(function $String_start_with$ques$16($a){var $post_args,prefixes,self=this;$post_args=Opal.slice.call(arguments);prefixes=$post_args;for(var i=0,length=prefixes.length;i<length;i++){if(prefixes[i].$$is_regexp){var regexp=prefixes[i];var match=regexp.exec(self);if(match!=null&&match.index===0){$gvars["~"]=$$$("MatchData").$new(regexp,match);return true}else{$gvars["~"]=nil}}else{var prefix=$coerce_to(prefixes[i],$$$("String"),"to_str").$to_s();if(self.indexOf(prefix)===0){return true}}}return false}),-1);$def(self,"$strip",(function $$strip(){var self=this;return self.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),0);$def(self,"$sub",(function $$sub(pattern,replacement){var block=$$sub.$$p||nil,self=this;delete $$sub.$$p;if(!pattern.$$is_regexp){pattern=$coerce_to(pattern,$$$("String"),"to_str");pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}var result,match=pattern.exec(self);if(match===null){$gvars["~"]=nil;result=self.toString()}else{$$$("MatchData").$new(pattern,match);if(replacement===undefined){if(block===nil){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (1 for 2)")}result=self.slice(0,match.index)+block(match[0])+self.slice(match.index+match[0].length)}else if(replacement.$$is_hash){result=self.slice(0,match.index)+replacement["$[]"](match[0]).$to_s()+self.slice(match.index+match[0].length)}else{replacement=$coerce_to(replacement,$$$("String"),"to_str");replacement=replacement.replace(/([\\]+)([0-9+&`'])/g,(function(original,slashes,command){if(slashes.length%2===0){return original}switch(command){case"+":for(var i=match.length-1;i>0;i--){if(match[i]!==undefined){return slashes.slice(1)+match[i]}}return"";case"&":return slashes.slice(1)+match[0];case"`":return slashes.slice(1)+self.slice(0,match.index);case"'":return slashes.slice(1)+self.slice(match.index+match[0].length);default:return slashes.slice(1)+(match[command]||"")}})).replace(/\\\\/g,"\\");result=self.slice(0,match.index)+replacement+self.slice(match.index+match[0].length)}}return result}),-2);$def(self,"$sum",(function $$sum(n){var self=this;if(n==null)n=16;n=$coerce_to(n,$$$("Integer"),"to_int");var result=0,length=self.length,i=0;for(;i<length;i++){result+=self.charCodeAt(i)}if(n<=0){return result}return result&Math.pow(2,n)-1}),-1);$def(self,"$swapcase",(function $$swapcase(){var self=this;var str=self.replace(/([a-z]+)|([A-Z]+)/g,(function($0,$1,$2){return $1?$0.toUpperCase():$0.toLowerCase()}));return str}),0);$def(self,"$to_f",(function $$to_f(){var self=this;if(self.charAt(0)==="_"){return 0}var result=parseFloat(self.replace(/_/g,""));if(isNaN(result)||result==Infinity||result==-Infinity){return 0}else{return result}}),0);$def(self,"$to_i",(function $$to_i(base){var self=this;if(base==null)base=10;var result,string=self.toLowerCase(),radix=$coerce_to(base,$$$("Integer"),"to_int");if(radix===1||radix<0||radix>36){$Kernel.$raise($$$("ArgumentError"),"invalid radix "+radix)}if(/^\s*_/.test(string)){return 0}string=string.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,(function(original,head,flag,tail){switch(tail.charAt(0)){case"+":case"-":return original;case"0":if(tail.charAt(1)==="x"&&flag==="0x"&&(radix===0||radix===16)){return original}}switch(flag){case"0b":if(radix===0||radix===2){radix=2;return head+tail}break;case"0":case"0o":if(radix===0||radix===8){radix=8;return head+tail}break;case"0d":if(radix===0||radix===10){radix=10;return head+tail}break;case"0x":if(radix===0||radix===16){radix=16;return head+tail}break}return original}));result=parseInt(string.replace(/_(?!_)/g,""),radix);return isNaN(result)?0:result}),-1);$def(self,"$to_proc",(function $$to_proc(){var $yield=$$to_proc.$$p||nil,self=this,method_name=nil;delete $$to_proc.$$p;method_name=self.valueOf();return $send($Kernel,"proc",[],(function $$17($a){var block=$$17.$$p||nil,$post_args,args;delete $$17.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(args.length===0){$Kernel.$raise($$$("ArgumentError"),"no receiver given")}var recv=args[0];if(recv==null)recv=nil;var body=recv["$"+method_name];if(!body){body=recv.$method_missing;args[0]=method_name}else{args=args.slice(1)}if(typeof block==="function"){body.$$p=block}if(args.length===0){return body.call(recv)}else{return body.apply(recv,args)}}),-1)}),0);$def(self,"$to_s",(function $$to_s(){var self=this;return self.toString()}),0);$def(self,"$tr",(function $$tr(from,to){var self=this;from=$coerce_to(from,$$$("String"),"to_str").$to_s();to=$coerce_to(to,$$$("String"),"to_str").$to_s();if(from.length==0||from===to){return self}var i,in_range,c,ch,start,end,length;var subs={};var from_chars=from.split("");var from_length=from_chars.length;var to_chars=to.split("");var to_length=to_chars.length;var inverse=false;var global_sub=null;if(from_chars[0]==="^"&&from_chars.length>1){inverse=true;from_chars.shift();global_sub=to_chars[to_length-1];from_length-=1}var from_chars_expanded=[];var last_from=null;in_range=false;for(i=0;i<from_length;i++){ch=from_chars[i];if(last_from==null){last_from=ch;from_chars_expanded.push(ch)}else if(ch==="-"){if(last_from==="-"){from_chars_expanded.push("-");from_chars_expanded.push("-")}else if(i==from_length-1){from_chars_expanded.push("-")}else{in_range=true}}else if(in_range){start=last_from.charCodeAt(0);end=ch.charCodeAt(0);if(start>end){$Kernel.$raise($$$("ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration')}for(c=start+1;c<end;c++){from_chars_expanded.push(String.fromCharCode(c))}from_chars_expanded.push(ch);in_range=null;last_from=null}else{from_chars_expanded.push(ch)}}from_chars=from_chars_expanded;from_length=from_chars.length;if(inverse){for(i=0;i<from_length;i++){subs[from_chars[i]]=true}}else{if(to_length>0){var to_chars_expanded=[];var last_to=null;in_range=false;for(i=0;i<to_length;i++){ch=to_chars[i];if(last_to==null){last_to=ch;to_chars_expanded.push(ch)}else if(ch==="-"){if(last_to==="-"){to_chars_expanded.push("-");to_chars_expanded.push("-")}else if(i==to_length-1){to_chars_expanded.push("-")}else{in_range=true}}else if(in_range){start=last_to.charCodeAt(0);end=ch.charCodeAt(0);if(start>end){$Kernel.$raise($$$("ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration')}for(c=start+1;c<end;c++){to_chars_expanded.push(String.fromCharCode(c))}to_chars_expanded.push(ch);in_range=null;last_to=null}else{to_chars_expanded.push(ch)}}to_chars=to_chars_expanded;to_length=to_chars.length}var length_diff=from_length-to_length;if(length_diff>0){var pad_char=to_length>0?to_chars[to_length-1]:"";for(i=0;i<length_diff;i++){to_chars.push(pad_char)}}for(i=0;i<from_length;i++){subs[from_chars[i]]=to_chars[i]}}var new_str="";for(i=0,length=self.length;i<length;i++){ch=self.charAt(i);var sub=subs[ch];if(inverse){new_str+=sub==null?global_sub:ch}else{new_str+=sub!=null?sub:ch}}return new_str}),2);$def(self,"$tr_s",(function $$tr_s(from,to){var self=this;from=$coerce_to(from,$$$("String"),"to_str").$to_s();to=$coerce_to(to,$$$("String"),"to_str").$to_s();if(from.length==0){return self}var i,in_range,c,ch,start,end,length;var subs={};var from_chars=from.split("");var from_length=from_chars.length;var to_chars=to.split("");var to_length=to_chars.length;var inverse=false;var global_sub=null;if(from_chars[0]==="^"&&from_chars.length>1){inverse=true;from_chars.shift();global_sub=to_chars[to_length-1];from_length-=1}var from_chars_expanded=[];var last_from=null;in_range=false;for(i=0;i<from_length;i++){ch=from_chars[i];if(last_from==null){last_from=ch;from_chars_expanded.push(ch)}else if(ch==="-"){if(last_from==="-"){from_chars_expanded.push("-");from_chars_expanded.push("-")}else if(i==from_length-1){from_chars_expanded.push("-")}else{in_range=true}}else if(in_range){start=last_from.charCodeAt(0);end=ch.charCodeAt(0);if(start>end){$Kernel.$raise($$$("ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration')}for(c=start+1;c<end;c++){from_chars_expanded.push(String.fromCharCode(c))}from_chars_expanded.push(ch);in_range=null;last_from=null}else{from_chars_expanded.push(ch)}}from_chars=from_chars_expanded;from_length=from_chars.length;if(inverse){for(i=0;i<from_length;i++){subs[from_chars[i]]=true}}else{if(to_length>0){var to_chars_expanded=[];var last_to=null;in_range=false;for(i=0;i<to_length;i++){ch=to_chars[i];if(last_from==null){last_from=ch;to_chars_expanded.push(ch)}else if(ch==="-"){if(last_to==="-"){to_chars_expanded.push("-");to_chars_expanded.push("-")}else if(i==to_length-1){to_chars_expanded.push("-")}else{in_range=true}}else if(in_range){start=last_from.charCodeAt(0);end=ch.charCodeAt(0);if(start>end){$Kernel.$raise($$$("ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration')}for(c=start+1;c<end;c++){to_chars_expanded.push(String.fromCharCode(c))}to_chars_expanded.push(ch);in_range=null;last_from=null}else{to_chars_expanded.push(ch)}}to_chars=to_chars_expanded;to_length=to_chars.length}var length_diff=from_length-to_length;if(length_diff>0){var pad_char=to_length>0?to_chars[to_length-1]:"";for(i=0;i<length_diff;i++){to_chars.push(pad_char)}}for(i=0;i<from_length;i++){subs[from_chars[i]]=to_chars[i]}}var new_str="";var last_substitute=null;for(i=0,length=self.length;i<length;i++){ch=self.charAt(i);var sub=subs[ch];if(inverse){if(sub==null){if(last_substitute==null){new_str+=global_sub;last_substitute=true}}else{new_str+=ch;last_substitute=null}}else{if(sub!=null){if(last_substitute==null||last_substitute!==sub){new_str+=sub;last_substitute=sub}}else{new_str+=ch;last_substitute=null}}}return new_str}),2);$def(self,"$upcase",(function $$upcase(){var self=this;return self.toUpperCase()}),0);$def(self,"$upto",(function $$upto(stop,excl){var block=$$upto.$$p||nil,self=this;delete $$upto.$$p;if(excl==null)excl=false;if(!(block!==nil)){return self.$enum_for("upto",stop,excl)}var a,b,s=self.toString();stop=$coerce_to(stop,$$$("String"),"to_str");if(s.length===1&&stop.length===1){a=s.charCodeAt(0);b=stop.charCodeAt(0);while(a<=b){if(excl&&a===b){break}block(String.fromCharCode(a));a+=1}}else if(parseInt(s,10).toString()===s&&parseInt(stop,10).toString()===stop){a=parseInt(s,10);b=parseInt(stop,10);while(a<=b){if(excl&&a===b){break}block(a.toString());a+=1}}else{while(s.length<=stop.length&&s<=stop){if(excl&&s===stop){break}block(s);s=s.$succ()}}return self}),-2);function char_class_from_char_sets(sets){function explode_sequences_in_character_set(set){var result="",i,len=set.length,curr_char,skip_next_dash,char_code_from,char_code_upto,char_code;for(i=0;i<len;i++){curr_char=set.charAt(i);if(curr_char==="-"&&i>0&&i<len-1&&!skip_next_dash){char_code_from=set.charCodeAt(i-1);char_code_upto=set.charCodeAt(i+1);if(char_code_from>char_code_upto){$Kernel.$raise($$$("ArgumentError"),'invalid range "'+char_code_from+"-"+char_code_upto+'" in string transliteration')}for(char_code=char_code_from+1;char_code<char_code_upto+1;char_code++){result+=String.fromCharCode(char_code)}skip_next_dash=true;i++}else{skip_next_dash=curr_char==="\\";result+=curr_char}}return result}function intersection(setA,setB){if(setA.length===0){return setB}var result="",i,len=setA.length,chr;for(i=0;i<len;i++){chr=setA.charAt(i);if(setB.indexOf(chr)!==-1){result+=chr}}return result}var i,len,set,neg,chr,tmp,pos_intersection="",neg_intersection="";for(i=0,len=sets.length;i<len;i++){set=$coerce_to(sets[i],$$$("String"),"to_str");neg=set.charAt(0)==="^"&&set.length>1;set=explode_sequences_in_character_set(neg?set.slice(1):set);if(neg){neg_intersection=intersection(neg_intersection,set)}else{pos_intersection=intersection(pos_intersection,set)}}if(pos_intersection.length>0&&neg_intersection.length>0){tmp="";for(i=0,len=pos_intersection.length;i<len;i++){chr=pos_intersection.charAt(i);if(neg_intersection.indexOf(chr)===-1){tmp+=chr}}pos_intersection=tmp;neg_intersection=""}if(pos_intersection.length>0){return"["+$$$("Regexp").$escape(pos_intersection)+"]"}if(neg_intersection.length>0){return"[^"+$$$("Regexp").$escape(neg_intersection)+"]"}return null}$def(self,"$instance_variables",(function $$instance_variables(){return[]}),0);$defs(self,"$_load",(function $$_load($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return $send(self,"new",$to_a(args))}),-1);$def(self,"$unicode_normalize",(function $$unicode_normalize(form){var self=this;if(form==null)form="nfc";if(!$truthy(["nfc","nfd","nfkc","nfkd"]["$include?"](form))){$Kernel.$raise($$$("ArgumentError"),"Invalid normalization form "+form)}return self.normalize(form.$upcase())}),-1);$def(self,"$unicode_normalized?",(function $String_unicode_normalized$ques$18(form){var self=this;if(form==null)form="nfc";return self.$unicode_normalize(form)["$=="](self)}),-1);$def(self,"$unpack",(function $$unpack(format){return $Kernel.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),1);$def(self,"$unpack1",(function $$unpack1(format){return $Kernel.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),1);$def(self,"$freeze",(function $$freeze(){var self=this;if(typeof self==="string")return self;self.$$frozen=true;return self}),0);$def(self,"$-@",(function $String_$minus$$19(){var self=this;if(typeof self==="string")return self;if(self.$$frozen===true)return self;if(self.encoding.name=="UTF-8"&&self.internal_encoding.name=="UTF-8")return self.toString();return self.$dup().$freeze()}),0);$def(self,"$frozen?",(function $String_frozen$ques$20(){var self=this;return typeof self==="string"||self.$$frozen===true}),0);$alias(self,"+@","dup");$alias(self,"===","==");$alias(self,"byteslice","[]");$alias(self,"eql?","==");$alias(self,"equal?","===");$alias(self,"object_id","__id__");$alias(self,"slice","[]");$alias(self,"succ","next");$alias(self,"to_str","to_s");$alias(self,"to_sym","intern");return $Opal.$pristine(self,"initialize")})("::",String,$nesting);return $const_set($nesting[0],"Symbol",$$("String"))};Opal.modules["corelib/enumerable"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$yield1=Opal.yield1,$yieldX=Opal.yieldX,$module=Opal.module,$send=Opal.send,$to_a=Opal.to_a,$Opal=Opal.Opal,$def=Opal.def,$Kernel=Opal.Kernel,$return_val=Opal.return_val,$rb_gt=Opal.rb_gt,$rb_times=Opal.rb_times,$rb_lt=Opal.rb_lt,$eqeq=Opal.eqeq,$rb_plus=Opal.rb_plus,$rb_minus=Opal.rb_minus,$rb_divide=Opal.rb_divide,$rb_le=Opal.rb_le,$hash2=Opal.hash2,$lambda=Opal.lambda,$not=Opal.not,$alias=Opal.alias;Opal.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,to_proc,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries");return function($base){var self=$module($base,"Enumerable");function comparableForPattern(value){if(value.length===0){value=[nil]}if(value.length>1){value=[value]}return value}$def(self,"$all?",(function $Enumerable_all$ques$1(pattern){try{var block=$Enumerable_all$ques$1.$$p||nil,self=this;delete $Enumerable_all$ques$1.$$p;if($truthy(pattern!==undefined)){$send(self,"each",[],(function $$2($a){var $post_args,value,comparable=nil;$post_args=Opal.slice.call(arguments);value=$post_args;comparable=comparableForPattern(value);if($truthy($send(pattern,"public_send",["==="].concat($to_a(comparable))))){return nil}else{Opal.ret(false)}}),-1)}else if(block!==nil){$send(self,"each",[],(function $$3($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if($truthy(Opal.yieldX(block,$to_a(value)))){return nil}else{Opal.ret(false)}}),-1)}else{$send(self,"each",[],(function $$4($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if($truthy($Opal.$destructure(value))){return nil}else{Opal.ret(false)}}),-1)}return true}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$any?",(function $Enumerable_any$ques$5(pattern){try{var block=$Enumerable_any$ques$5.$$p||nil,self=this;delete $Enumerable_any$ques$5.$$p;if($truthy(pattern!==undefined)){$send(self,"each",[],(function $$6($a){var $post_args,value,comparable=nil;$post_args=Opal.slice.call(arguments);value=$post_args;comparable=comparableForPattern(value);if($truthy($send(pattern,"public_send",["==="].concat($to_a(comparable))))){Opal.ret(true)}else{return nil}}),-1)}else if(block!==nil){$send(self,"each",[],(function $$7($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if($truthy(Opal.yieldX(block,$to_a(value)))){Opal.ret(true)}else{return nil}}),-1)}else{$send(self,"each",[],(function $$8($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if($truthy($Opal.$destructure(value))){Opal.ret(true)}else{return nil}}),-1)}return false}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$chunk",(function $$chunk(){var block=$$chunk.$$p||nil,self=this;delete $$chunk.$$p;if(!(block!==nil)){return $send(self,"to_enum",["chunk"],(function $$9(){var self=$$9.$$s==null?this:$$9.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}return $send($$$("Enumerator"),"new",[],(function $$10(yielder){var self=$$10.$$s==null?this:$$10.$$s;if(yielder==null)yielder=nil;var previous=nil,accumulate=[];function releaseAccumulate(){if(accumulate.length>0){yielder.$yield(previous,accumulate)}}self.$each.$$p=function(value){var key=$yield1(block,value);if(key===nil){releaseAccumulate();accumulate=[];previous=nil}else{if(previous===nil||previous===key){accumulate.push(value)}else{releaseAccumulate();accumulate=[value]}previous=key}};self.$each();releaseAccumulate()}),{$$arity:1,$$s:self})}),0);$def(self,"$chunk_while",(function $$chunk_while(){var block=$$chunk_while.$$p||nil,self=this;delete $$chunk_while.$$p;if(!(block!==nil)){$Kernel.$raise($$$("ArgumentError"),"no block given")}return $send(self,"slice_when",[],(function $$11(before,after){if(before==null)before=nil;if(after==null)after=nil;return Opal.yieldX(block,[before,after])["$!"]()}),2)}),0);$def(self,"$collect",(function $$collect(){var block=$$collect.$$p||nil,self=this;delete $$collect.$$p;if(!(block!==nil)){return $send(self,"enum_for",["collect"],(function $$12(){var self=$$12.$$s==null?this:$$12.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}var result=[];self.$each.$$p=function(){var value=$yieldX(block,arguments);result.push(value)};self.$each();return result}),0);$def(self,"$collect_concat",(function $$collect_concat(){var block=$$collect_concat.$$p||nil,self=this;delete $$collect_concat.$$p;if(!(block!==nil)){return $send(self,"enum_for",["collect_concat"],(function $$13(){var self=$$13.$$s==null?this:$$13.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}return $send(self,"map",[],(function $$14(item){if(item==null)item=nil;return Opal.yield1(block,item)}),1).$flatten(1)}),0);$def(self,"$compact",(function $$compact(){var self=this;return self.$to_a().$compact()}),0);$def(self,"$count",(function $$count(object){var block=$$count.$$p||nil,self=this,result=nil;delete $$count.$$p;result=0;if(object!=null&&block!==nil){self.$warn("warning: given block not used")}if($truthy(object!=null)){block=$send($Kernel,"proc",[],(function $$15($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;return $Opal.$destructure(args)["$=="](object)}),-1)}else if($truthy(block["$nil?"]())){block=$send($Kernel,"proc",[],$return_val(true),0)}$send(self,"each",[],(function $$16($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy($yieldX(block,args))){return result++}else{return nil}}),-1);return result}),-1);$def(self,"$cycle",(function $$cycle(n){var block=$$cycle.$$p||nil,self=this;delete $$cycle.$$p;if(n==null)n=nil;if(!(block!==nil)){return $send(self,"enum_for",["cycle",n],(function $$17(){var self=$$17.$$s==null?this:$$17.$$s;if($truthy(n["$nil?"]())){if($truthy(self["$respond_to?"]("size"))){return $$$($$$("Float"),"INFINITY")}else{return nil}}else{n=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if($truthy($rb_gt(n,0))){return $rb_times(self.$enumerator_size(),n)}else{return 0}}}),{$$arity:0,$$s:self})}if(!$truthy(n["$nil?"]())){n=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if($truthy(n<=0)){return nil}}var all=[],i,length,value;self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);all.push(param)};self.$each();if(all.length===0){return nil}if(n===nil){while(true){for(i=0,length=all.length;i<length;i++){value=$yield1(block,all[i])}}}else{while(n>1){for(i=0,length=all.length;i<length;i++){value=$yield1(block,all[i])}n--}}}),-1);$def(self,"$detect",(function $$detect(ifnone){try{var block=$$detect.$$p||nil,self=this;delete $$detect.$$p;if(!(block!==nil)){return self.$enum_for("detect",ifnone)}$send(self,"each",[],(function $$18($a){var $post_args,args,value=nil;$post_args=Opal.slice.call(arguments);args=$post_args;value=$Opal.$destructure(args);if($truthy(Opal.yield1(block,value))){Opal.ret(value)}else{return nil}}),-1);if(ifnone!==undefined){if(typeof ifnone==="function"){return ifnone()}else{return ifnone}}return nil}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$drop",(function $$drop(number){var self=this;number=$coerce_to(number,$$$("Integer"),"to_int");if($truthy(number<0)){$Kernel.$raise($$$("ArgumentError"),"attempt to drop negative size")}var result=[],current=0;self.$each.$$p=function(){if(number<=current){result.push($Opal.$destructure(arguments))}current++};self.$each();return result}),1);$def(self,"$drop_while",(function $$drop_while(){var block=$$drop_while.$$p||nil,self=this;delete $$drop_while.$$p;if(!(block!==nil)){return self.$enum_for("drop_while")}var result=[],dropping=true;self.$each.$$p=function(){var param=$Opal.$destructure(arguments);if(dropping){var value=$yield1(block,param);if(!$truthy(value)){dropping=false;result.push(param)}}else{result.push(param)}};self.$each();return result}),0);$def(self,"$each_cons",(function $$each_cons(n){var block=$$each_cons.$$p||nil,self=this;delete $$each_cons.$$p;if($truthy(arguments.length!=1)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)")}n=$Opal.$try_convert(n,$$$("Integer"),"to_int");if($truthy(n<=0)){$Kernel.$raise($$$("ArgumentError"),"invalid size")}if(!(block!==nil)){return $send(self,"enum_for",["each_cons",n],(function $$19(){var self=$$19.$$s==null?this:$$19.$$s,enum_size=nil;enum_size=self.$enumerator_size();if($truthy(enum_size["$nil?"]())){return nil}else if($eqeq(enum_size,0)||$truthy($rb_lt(enum_size,n))){return 0}else{return $rb_plus($rb_minus(enum_size,n),1)}}),{$$arity:0,$$s:self})}var buffer=[];self.$each.$$p=function(){var element=$Opal.$destructure(arguments);buffer.push(element);if(buffer.length>n){buffer.shift()}if(buffer.length==n){$yield1(block,buffer.slice(0,n))}};self.$each();return self}),1);$def(self,"$each_entry",(function $$each_entry($a){var block=$$each_entry.$$p||nil,$post_args,data,self=this;delete $$each_entry.$$p;$post_args=Opal.slice.call(arguments);data=$post_args;if(!(block!==nil)){return $send(self,"to_enum",["each_entry"].concat($to_a(data)),(function $$20(){var self=$$20.$$s==null?this:$$20.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}self.$each.$$p=function(){var item=$Opal.$destructure(arguments);$yield1(block,item)};self.$each.apply(self,data);return self}),-1);$def(self,"$each_slice",(function $$each_slice(n){var block=$$each_slice.$$p||nil,self=this;delete $$each_slice.$$p;n=$coerce_to(n,$$$("Integer"),"to_int");if($truthy(n<=0)){$Kernel.$raise($$$("ArgumentError"),"invalid slice size")}if(!(block!==nil)){return $send(self,"enum_for",["each_slice",n],(function $$21(){var self=$$21.$$s==null?this:$$21.$$s;if($truthy(self["$respond_to?"]("size"))){return $rb_divide(self.$size(),n).$ceil()}else{return nil}}),{$$arity:0,$$s:self})}var slice=[];self.$each.$$p=function(){var param=$Opal.$destructure(arguments);slice.push(param);if(slice.length===n){$yield1(block,slice);slice=[]}};self.$each();if(slice.length>0){$yield1(block,slice)}return self}),1);$def(self,"$each_with_index",(function $$each_with_index($a){var block=$$each_with_index.$$p||nil,$post_args,args,self=this;delete $$each_with_index.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(!(block!==nil)){return $send(self,"enum_for",["each_with_index"].concat($to_a(args)),(function $$22(){var self=$$22.$$s==null?this:$$22.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}var index=0;self.$each.$$p=function(){var param=$Opal.$destructure(arguments);block(param,index);index++};self.$each.apply(self,args);return self}),-1);$def(self,"$each_with_object",(function $$each_with_object(object){var block=$$each_with_object.$$p||nil,self=this;delete $$each_with_object.$$p;if(!(block!==nil)){return $send(self,"enum_for",["each_with_object",object],(function $$23(){var self=$$23.$$s==null?this:$$23.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}self.$each.$$p=function(){var param=$Opal.$destructure(arguments);block(param,object)};self.$each();return object}),1);$def(self,"$entries",(function $$entries($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;var result=[];self.$each.$$p=function(){result.push($Opal.$destructure(arguments))};self.$each.apply(self,args);return result}),-1);$def(self,"$filter_map",(function $$filter_map(){var block=$$filter_map.$$p||nil,self=this;delete $$filter_map.$$p;if(!(block!==nil)){return $send(self,"enum_for",["filter_map"],(function $$24(){var self=$$24.$$s==null?this:$$24.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}return $send($send(self,"map",[],block.$to_proc()),"select",[],"itself".$to_proc())}),0);$def(self,"$find_all",(function $$find_all(){var block=$$find_all.$$p||nil,self=this;delete $$find_all.$$p;if(!(block!==nil)){return $send(self,"enum_for",["find_all"],(function $$25(){var self=$$25.$$s==null?this:$$25.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}var result=[];self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);if($truthy(value)){result.push(param)}};self.$each();return result}),0);$def(self,"$find_index",(function $$find_index(object){try{var block=$$find_index.$$p||nil,self=this,index=nil;delete $$find_index.$$p;if($truthy(object===undefined&&block===nil)){return self.$enum_for("find_index")}if(object!=null&&block!==nil){self.$warn("warning: given block not used")}index=0;if($truthy(object!=null)){$send(self,"each",[],(function $$26($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if($eqeq($Opal.$destructure(value),object)){Opal.ret(index)}return index+=1}),-1)}else{$send(self,"each",[],(function $$27($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if($truthy(Opal.yieldX(block,$to_a(value)))){Opal.ret(index)}return index+=1}),-1)}return nil}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$first",(function $$first(number){try{var self=this,result=nil,current=nil;if($truthy(number===undefined)){return $send(self,"each",[],(function $$28(value){if(value==null)value=nil;Opal.ret(value)}),1)}else{result=[];number=$coerce_to(number,$$$("Integer"),"to_int");if($truthy(number<0)){$Kernel.$raise($$$("ArgumentError"),"attempt to take negative size")}if($truthy(number==0)){return[]}current=0;$send(self,"each",[],(function $$29($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;result.push($Opal.$destructure(args));if($truthy(number<=++current)){Opal.ret(result)}else{return nil}}),-1);return result}}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$grep",(function $$grep(pattern){var block=$$grep.$$p||nil,self=this,result=nil;delete $$grep.$$p;result=[];$send(self,"each",[],(function $$30($a){var $post_args,value,cmp=nil;$post_args=Opal.slice.call(arguments);value=$post_args;cmp=comparableForPattern(value);if(!$truthy($send(pattern,"__send__",["==="].concat($to_a(cmp))))){return nil}if(block!==nil){if($truthy($rb_gt(value.$length(),1))){value=[value]}value=Opal.yieldX(block,$to_a(value))}else if($truthy($rb_le(value.$length(),1))){value=value["$[]"](0)}return result.$push(value)}),-1);return result}),1);$def(self,"$grep_v",(function $$grep_v(pattern){var block=$$grep_v.$$p||nil,self=this,result=nil;delete $$grep_v.$$p;result=[];$send(self,"each",[],(function $$31($a){var $post_args,value,cmp=nil;$post_args=Opal.slice.call(arguments);value=$post_args;cmp=comparableForPattern(value);if($truthy($send(pattern,"__send__",["==="].concat($to_a(cmp))))){return nil}if(block!==nil){if($truthy($rb_gt(value.$length(),1))){value=[value]}value=Opal.yieldX(block,$to_a(value))}else if($truthy($rb_le(value.$length(),1))){value=value["$[]"](0)}return result.$push(value)}),-1);return result}),1);$def(self,"$group_by",(function $$group_by(){var block=$$group_by.$$p||nil,$a,self=this,hash=nil,$ret_or_1=nil;delete $$group_by.$$p;if(!(block!==nil)){return $send(self,"enum_for",["group_by"],(function $$32(){var self=$$32.$$s==null?this:$$32.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}hash=$hash2([],{});var result;self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);($truthy($ret_or_1=hash["$[]"](value))?$ret_or_1:($a=[value,[]],$send(hash,"[]=",$a),$a[$a.length-1]))["$<<"](param)};self.$each();if(result!==undefined){return result}return hash}),0);$def(self,"$include?",(function $Enumerable_include$ques$33(obj){try{var self=this;$send(self,"each",[],(function $$34($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;if($eqeq($Opal.$destructure(args),obj)){Opal.ret(true)}else{return nil}}),-1);return false}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),1);$def(self,"$inject",(function $$inject(object,sym){var block=$$inject.$$p||nil,self=this;delete $$inject.$$p;var result=object;if(block!==nil&&sym===undefined){self.$each.$$p=function(){var value=$Opal.$destructure(arguments);if(result===undefined){result=value;return}value=$yieldX(block,[result,value]);result=value}}else{if(sym===undefined){if(!$$$("Symbol")["$==="](object)){$Kernel.$raise($$$("TypeError"),""+object.$inspect()+" is not a Symbol")}sym=object;result=undefined}self.$each.$$p=function(){var value=$Opal.$destructure(arguments);if(result===undefined){result=value;return}result=result.$__send__(sym,value)}}self.$each();return result==undefined?nil:result}),-1);$def(self,"$lazy",(function $$lazy(){var self=this;return $send($$$($$$("Enumerator"),"Lazy"),"new",[self,self.$enumerator_size()],(function $$35(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;return $send(enum$,"yield",$to_a(args))}),-2)}),0);$def(self,"$enumerator_size",(function $$enumerator_size(){var self=this;if($truthy(self["$respond_to?"]("size"))){return self.$size()}else{return nil}}),0);$def(self,"$max",(function $$max(n){var block=$$max.$$p||nil,self=this;delete $$max.$$p;if(n===undefined||n===nil){var result,value;self.$each.$$p=function(){var item=$Opal.$destructure(arguments);if(result===undefined){result=item;return}if(block!==nil){value=$yieldX(block,[item,result])}else{value=item["$<=>"](result)}if(value===nil){$Kernel.$raise($$$("ArgumentError"),"comparison failed")}if(value>0){result=item}};self.$each();if(result===undefined){return nil}else{return result}}n=$coerce_to(n,$$$("Integer"),"to_int");return $send(self,"sort",[],block.$to_proc()).$reverse().$first(n)}),-1);$def(self,"$max_by",(function $$max_by(n){var block=$$max_by.$$p||nil,self=this;delete $$max_by.$$p;if(n==null)n=nil;if(!$truthy(block)){return $send(self,"enum_for",["max_by",n],(function $$36(){var self=$$36.$$s==null?this:$$36.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}if(!$truthy(n["$nil?"]())){return $send(self,"sort_by",[],block.$to_proc()).$reverse().$take(n)}var result,by;self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);if(result===undefined){result=param;by=value;return}if(value["$<=>"](by)>0){result=param;by=value}};self.$each();return result===undefined?nil:result}),-1);$def(self,"$min",(function $$min(n){var block=$$min.$$p||nil,self=this;delete $$min.$$p;if(n==null)n=nil;if(!$truthy(n["$nil?"]())){if(block!==nil){return $send(self,"sort",[],(function $$37(a,b){if(a==null)a=nil;if(b==null)b=nil;return Opal.yieldX(block,[a,b])}),2).$take(n)}else{return self.$sort().$take(n)}}var result;if(block!==nil){self.$each.$$p=function(){var param=$Opal.$destructure(arguments);if(result===undefined){result=param;return}var value=block(param,result);if(value===nil){$Kernel.$raise($$$("ArgumentError"),"comparison failed")}if(value<0){result=param}}}else{self.$each.$$p=function(){var param=$Opal.$destructure(arguments);if(result===undefined){result=param;return}if($Opal.$compare(param,result)<0){result=param}}}self.$each();return result===undefined?nil:result}),-1);$def(self,"$min_by",(function $$min_by(n){var block=$$min_by.$$p||nil,self=this;delete $$min_by.$$p;if(n==null)n=nil;if(!$truthy(block)){return $send(self,"enum_for",["min_by",n],(function $$38(){var self=$$38.$$s==null?this:$$38.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}if(!$truthy(n["$nil?"]())){return $send(self,"sort_by",[],block.$to_proc()).$take(n)}var result,by;self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);if(result===undefined){result=param;by=value;return}if(value["$<=>"](by)<0){result=param;by=value}};self.$each();return result===undefined?nil:result}),-1);$def(self,"$minmax",(function $$minmax(){var block=$$minmax.$$p||nil,self=this,$ret_or_1=nil;delete $$minmax.$$p;block=$truthy($ret_or_1=block)?$ret_or_1:$send($Kernel,"proc",[],(function $$39(a,b){if(a==null)a=nil;if(b==null)b=nil;return a["$<=>"](b)}),2);var min=nil,max=nil,first_time=true;self.$each.$$p=function(){var element=$Opal.$destructure(arguments);if(first_time){min=max=element;first_time=false}else{var min_cmp=block.$call(min,element);if(min_cmp===nil){$Kernel.$raise($$$("ArgumentError"),"comparison failed")}else if(min_cmp>0){min=element}var max_cmp=block.$call(max,element);if(max_cmp===nil){$Kernel.$raise($$$("ArgumentError"),"comparison failed")}else if(max_cmp<0){max=element}}};self.$each();return[min,max]}),0);$def(self,"$minmax_by",(function $$minmax_by(){var block=$$minmax_by.$$p||nil,self=this;delete $$minmax_by.$$p;if(!$truthy(block)){return $send(self,"enum_for",["minmax_by"],(function $$40(){var self=$$40.$$s==null?this:$$40.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}var min_result=nil,max_result=nil,min_by,max_by;self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);if(min_by===undefined||value["$<=>"](min_by)<0){min_result=param;min_by=value}if(max_by===undefined||value["$<=>"](max_by)>0){max_result=param;max_by=value}};self.$each();return[min_result,max_result]}),0);$def(self,"$none?",(function $Enumerable_none$ques$41(pattern){try{var block=$Enumerable_none$ques$41.$$p||nil,self=this;delete $Enumerable_none$ques$41.$$p;if($truthy(pattern!==undefined)){$send(self,"each",[],(function $$42($a){var $post_args,value,comparable=nil;$post_args=Opal.slice.call(arguments);value=$post_args;comparable=comparableForPattern(value);if($truthy($send(pattern,"public_send",["==="].concat($to_a(comparable))))){Opal.ret(false)}else{return nil}}),-1)}else if(block!==nil){$send(self,"each",[],(function $$43($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if($truthy(Opal.yieldX(block,$to_a(value)))){Opal.ret(false)}else{return nil}}),-1)}else{$send(self,"each",[],(function $$44($a){var $post_args,value,item=nil;$post_args=Opal.slice.call(arguments);value=$post_args;item=$Opal.$destructure(value);if($truthy(item)){Opal.ret(false)}else{return nil}}),-1)}return true}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$one?",(function $Enumerable_one$ques$45(pattern){try{var block=$Enumerable_one$ques$45.$$p||nil,self=this,count=nil;delete $Enumerable_one$ques$45.$$p;count=0;if($truthy(pattern!==undefined)){$send(self,"each",[],(function $$46($a){var $post_args,value,comparable=nil;$post_args=Opal.slice.call(arguments);value=$post_args;comparable=comparableForPattern(value);if($truthy($send(pattern,"public_send",["==="].concat($to_a(comparable))))){count=$rb_plus(count,1);if($truthy($rb_gt(count,1))){Opal.ret(false)}else{return nil}}else{return nil}}),-1)}else if(block!==nil){$send(self,"each",[],(function $$47($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if(!$truthy(Opal.yieldX(block,$to_a(value)))){return nil}count=$rb_plus(count,1);if($truthy($rb_gt(count,1))){Opal.ret(false)}else{return nil}}),-1)}else{$send(self,"each",[],(function $$48($a){var $post_args,value;$post_args=Opal.slice.call(arguments);value=$post_args;if(!$truthy($Opal.$destructure(value))){return nil}count=$rb_plus(count,1);if($truthy($rb_gt(count,1))){Opal.ret(false)}else{return nil}}),-1)}return count["$=="](1)}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$partition",(function $$partition(){var block=$$partition.$$p||nil,self=this;delete $$partition.$$p;if(!(block!==nil)){return $send(self,"enum_for",["partition"],(function $$49(){var self=$$49.$$s==null?this:$$49.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}var truthy=[],falsy=[],result;self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);if($truthy(value)){truthy.push(param)}else{falsy.push(param)}};self.$each();return[truthy,falsy]}),0);$def(self,"$reject",(function $$reject(){var block=$$reject.$$p||nil,self=this;delete $$reject.$$p;if(!(block!==nil)){return $send(self,"enum_for",["reject"],(function $$50(){var self=$$50.$$s==null?this:$$50.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}var result=[];self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);if(!$truthy(value)){result.push(param)}};self.$each();return result}),0);$def(self,"$reverse_each",(function $$reverse_each(){var block=$$reverse_each.$$p||nil,self=this;delete $$reverse_each.$$p;if(!(block!==nil)){return $send(self,"enum_for",["reverse_each"],(function $$51(){var self=$$51.$$s==null?this:$$51.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}var result=[];self.$each.$$p=function(){result.push(arguments)};self.$each();for(var i=result.length-1;i>=0;i--){$yieldX(block,result[i])}return result}),0);$def(self,"$slice_before",(function $$slice_before(pattern){var block=$$slice_before.$$p||nil,self=this;delete $$slice_before.$$p;if($truthy(pattern===undefined&&block===nil)){$Kernel.$raise($$$("ArgumentError"),"both pattern and block are given")}if($truthy(pattern!==undefined&&block!==nil||arguments.length>1)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)")}return $send($$$("Enumerator"),"new",[],(function $$52(e){var self=$$52.$$s==null?this:$$52.$$s;if(e==null)e=nil;var slice=[];if(block!==nil){if(pattern===undefined){self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=$yield1(block,param);if($truthy(value)&&slice.length>0){e["$<<"](slice);slice=[]}slice.push(param)}}else{self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=block(param,pattern.$dup());if($truthy(value)&&slice.length>0){e["$<<"](slice);slice=[]}slice.push(param)}}}else{self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=pattern["$==="](param);if($truthy(value)&&slice.length>0){e["$<<"](slice);slice=[]}slice.push(param)}}self.$each();if(slice.length>0){e["$<<"](slice)}}),{$$arity:1,$$s:self})}),-1);$def(self,"$slice_after",(function $$slice_after(pattern){var block=$$slice_after.$$p||nil,self=this;delete $$slice_after.$$p;if($truthy(pattern===undefined&&block===nil)){$Kernel.$raise($$$("ArgumentError"),"both pattern and block are given")}if($truthy(pattern!==undefined&&block!==nil||arguments.length>1)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)")}if($truthy(pattern!==undefined)){block=$send($Kernel,"proc",[],(function $$53(e){if(e==null)e=nil;return pattern["$==="](e)}),1)}return $send($$$("Enumerator"),"new",[],(function $$54(yielder){var self=$$54.$$s==null?this:$$54.$$s;if(yielder==null)yielder=nil;var accumulate;self.$each.$$p=function(){var element=$Opal.$destructure(arguments),end_chunk=$yield1(block,element);if(accumulate==null){accumulate=[]}if($truthy(end_chunk)){accumulate.push(element);yielder.$yield(accumulate);accumulate=null}else{accumulate.push(element)}};self.$each();if(accumulate!=null){yielder.$yield(accumulate)}}),{$$arity:1,$$s:self})}),-1);$def(self,"$slice_when",(function $$slice_when(){var block=$$slice_when.$$p||nil,self=this;delete $$slice_when.$$p;if(!(block!==nil)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (0 for 1)")}return $send($$$("Enumerator"),"new",[],(function $$55(yielder){var self=$$55.$$s==null?this:$$55.$$s;if(yielder==null)yielder=nil;var slice=nil,last_after=nil;self.$each_cons.$$p=function(){var params=$Opal.$destructure(arguments),before=params[0],after=params[1],match=$yieldX(block,[before,after]);last_after=after;if(slice===nil){slice=[]}if($truthy(match)){slice.push(before);yielder.$yield(slice);slice=[]}else{slice.push(before)}};self.$each_cons(2);if(slice!==nil){slice.push(last_after);yielder.$yield(slice)}}),{$$arity:1,$$s:self})}),0);$def(self,"$sort",(function $$sort(){var block=$$sort.$$p||nil,self=this,ary=nil;delete $$sort.$$p;ary=self.$to_a();if(!(block!==nil)){block=$lambda((function $$56(a,b){if(a==null)a=nil;if(b==null)b=nil;return a["$<=>"](b)}),2)}return $send(ary,"sort",[],block.$to_proc())}),0);$def(self,"$sort_by",(function $$sort_by(){var block=$$sort_by.$$p||nil,self=this,dup=nil;delete $$sort_by.$$p;if(!(block!==nil)){return $send(self,"enum_for",["sort_by"],(function $$57(){var self=$$57.$$s==null?this:$$57.$$s;return self.$enumerator_size()}),{$$arity:0,$$s:self})}dup=$send(self,"map",[],(function $$58(){var arg=nil;arg=$Opal.$destructure(arguments);return[Opal.yield1(block,arg),arg]}),0);$send(dup,"sort!",[],(function $$59(a,b){if(a==null)a=nil;if(b==null)b=nil;return a[0]["$<=>"](b[0])}),2);return $send(dup,"map!",[],(function $$60(i){if(i==null)i=nil;return i[1]}),1)}),0);$def(self,"$sum",(function $$sum(initial){var $yield=$$sum.$$p||nil,self=this,result=nil,compensation=nil;delete $$sum.$$p;if(initial==null)initial=0;result=initial;compensation=0;$send(self,"each",[],(function $$61($a){var $post_args,args,item=nil,y=nil,t=nil;$post_args=Opal.slice.call(arguments);args=$post_args;item=$yield!==nil?Opal.yieldX($yield,$to_a(args)):$Opal.$destructure(args);if($not([$$$($$$("Float"),"INFINITY"),$$$($$$("Float"),"INFINITY")["$-@"]()]["$include?"](item))&&$truthy(item["$respond_to?"]("-"))){y=$rb_minus(item,compensation);t=$rb_plus(result,y);compensation=$rb_minus($rb_minus(t,result),y);return result=t}else{return result=$rb_plus(result,item)}}),-1);return result}),-1);$def(self,"$take",(function $$take(num){var self=this;return self.$first(num)}),1);$def(self,"$take_while",(function $$take_while(){try{var block=$$take_while.$$p||nil,self=this,result=nil;delete $$take_while.$$p;if(!$truthy(block)){return self.$enum_for("take_while")}result=[];return $send(self,"each",[],(function $$62($a){var $post_args,args,value=nil;$post_args=Opal.slice.call(arguments);args=$post_args;value=$Opal.$destructure(args);if(!$truthy(Opal.yield1(block,value))){Opal.ret(result)}return result.push(value)}),-1)}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),0);$def(self,"$uniq",(function $$uniq(){var block=$$uniq.$$p||nil,self=this,hash=nil;delete $$uniq.$$p;hash=$hash2([],{});$send(self,"each",[],(function $$63($a){var $post_args,args,$b,value=nil,produced=nil;$post_args=Opal.slice.call(arguments);args=$post_args;value=$Opal.$destructure(args);produced=block!==nil?Opal.yield1(block,value):value;if($truthy(hash["$key?"](produced))){return nil}else{return $b=[produced,value],$send(hash,"[]=",$b),$b[$b.length-1]}}),-1);return hash.$values()}),0);$def(self,"$tally",(function $$tally(hash){var self=this,out=nil;out=$send($send(self,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc());if($truthy(hash)){$send(out,"each",[],(function $$64(k,v){var $a;if(k==null)k=nil;if(v==null)v=nil;return $a=[k,$rb_plus(hash.$fetch(k,0),v)],$send(hash,"[]=",$a),$a[$a.length-1]}),2);return hash}else{return out}}),-1);$def(self,"$to_h",(function $$to_h($a){var block=$$to_h.$$p||nil,$post_args,args,self=this;delete $$to_h.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(block!==nil){return $send($send(self,"map",[],block.$to_proc()),"to_h",$to_a(args))}var hash=$hash2([],{});self.$each.$$p=function(){var param=$Opal.$destructure(arguments);var ary=$Opal["$coerce_to?"](param,$$$("Array"),"to_ary"),key,val;if(!ary.$$is_array){$Kernel.$raise($$$("TypeError"),"wrong element type "+ary.$class()+" (expected array)")}if(ary.length!==2){$Kernel.$raise($$$("ArgumentError"),"wrong array length (expected 2, was "+ary.$length()+")")}key=ary[0];val=ary[1];Opal.hash_put(hash,key,val)};self.$each.apply(self,args);return hash}),-1);$def(self,"$zip",(function $$zip($a){var block=$$zip.$$p||nil,$post_args,others,self=this;delete $$zip.$$p;$post_args=Opal.slice.call(arguments);others=$post_args;return $send(self.$to_a(),"zip",$to_a(others))}),-1);$alias(self,"find","detect");$alias(self,"filter","find_all");$alias(self,"flat_map","collect_concat");$alias(self,"map","collect");$alias(self,"member?","include?");$alias(self,"reduce","inject");$alias(self,"select","find_all");return $alias(self,"to_a","entries")}("::")};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$truthy=Opal.truthy,$to_a=Opal.to_a,$eqeq=Opal.eqeq,$Kernel=Opal.Kernel,$def=Opal.def,$rb_gt=Opal.rb_gt,$rb_lt=Opal.rb_lt,$rb_le=Opal.rb_le,$rb_ge=Opal.rb_ge,$rb_plus=Opal.rb_plus,$rb_minus=Opal.rb_minus,$eqeqeq=Opal.eqeqeq,$not=Opal.not,$rb_times=Opal.rb_times,$rb_divide=Opal.rb_divide,$alias=Opal.alias;Opal.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Enumerator");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"ArithmeticSequence");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.step_arg2=$proto.receiver_num=$proto.step_arg1=$proto.step=$proto.range=$proto.topfx=$proto.bypfx=$proto.creation_method=$proto.skipped_arg=nil;Opal.prop(self.$$prototype,"$$is_arithmetic_seq",true);var inf=Infinity;$def(self,"$initialize",(function $$initialize(range,step,creation_method){var $a,self=this,$ret_or_1=nil;if(creation_method==null)creation_method="step";self.creation_method=creation_method;if($truthy(range["$is_a?"]($$$("Array")))){$a=[].concat($to_a(range)),self.step_arg1=$a[0]==null?nil:$a[0],self.step_arg2=$a[1]==null?nil:$a[1],self.topfx=$a[2]==null?nil:$a[2],self.bypfx=$a[3]==null?nil:$a[3],$a;self.receiver_num=step;self.step=1;self.range=$truthy(self.step_arg2)?(self.step=self.step_arg2,Opal.Range.$new(self.receiver_num,self.step_arg1,false)):$truthy(self.step_arg1)?Opal.Range.$new(self.receiver_num,self.step_arg1,false):Opal.Range.$new(self.receiver_num,nil,false)}else{if(!$truthy(step)){self.skipped_arg=true}$a=[range,$truthy($ret_or_1=step)?$ret_or_1:1],self.range=$a[0],self.step=$a[1],$a}self.object=self;if($eqeq(self.step,0)){$Kernel.$raise($$("ArgumentError"),"step can't be 0")}if($truthy(self.step["$respond_to?"]("to_int"))){return nil}else{return $Kernel.$raise($$("ArgumentError"),""+("no implicit conversion of "+self.step.$class()+" ")+"into Integer")}}),-2);self.$attr_reader("step");$def(self,"$begin",(function $$begin(){var self=this;return self.range.$begin()}),0);$def(self,"$end",(function $$end(){var self=this;return self.range.$end()}),0);$def(self,"$exclude_end?",(function $ArithmeticSequence_exclude_end$ques$1(){var self=this;return self.range["$exclude_end?"]()}),0);$def(self,"$_lesser_than_end?",(function $ArithmeticSequence__lesser_than_end$ques$2(val){var self=this,end_=nil,$ret_or_1=nil;end_=$truthy($ret_or_1=self.$end())?$ret_or_1:inf;if($truthy($rb_gt(self.$step(),0))){if($truthy(self["$exclude_end?"]())){return $rb_lt(val,end_)}else{return $rb_le(val,end_)}}else if($truthy(self["$exclude_end?"]())){return $rb_gt(val,end_)}else{return $rb_ge(val,end_)}}),1);$def(self,"$_greater_than_begin?",(function $ArithmeticSequence__greater_than_begin$ques$3(val){var self=this,begin_=nil,$ret_or_1=nil;begin_=$truthy($ret_or_1=self.$begin())?$ret_or_1:inf["$-@"]();if($truthy($rb_gt(self.$step(),0))){return $rb_gt(val,begin_)}else{return $rb_lt(val,begin_)}}),1);$def(self,"$first",(function $$first(count){var $a,self=this,iter=nil,$ret_or_1=nil,out=nil;iter=$truthy($ret_or_1=self.$begin())?$ret_or_1:inf["$-@"]();if(!$truthy(count)){return $truthy(self["$_lesser_than_end?"](iter))?iter:nil}out=[];while($truthy($truthy($ret_or_1=self["$_lesser_than_end?"](iter))?$rb_gt(count,0):$ret_or_1)){out["$<<"](iter);iter=$rb_plus(iter,self.$step());count=$rb_minus(count,1)}return out}),-1);$def(self,"$each",(function $$each(){var block=$$each.$$p||nil,$a,self=this,$ret_or_1=nil,iter=nil;delete $$each.$$p;if(!(block!==nil)){return self}if($eqeqeq(nil,$ret_or_1=self.$begin())){$Kernel.$raise($$("TypeError"),"nil can't be coerced into Integer")}else{nil}iter=$truthy($ret_or_1=self.$begin())?$ret_or_1:inf["$-@"]();while($truthy(self["$_lesser_than_end?"](iter))){Opal.yield1(block,iter);iter=$rb_plus(iter,self.$step())}return self}),0);$def(self,"$last",(function $$last(count){var $a,self=this,$ret_or_1=nil,iter=nil,out=nil;if($eqeqeq(inf,$ret_or_1=self.$end())||$eqeqeq(inf["$-@"](),$ret_or_1)){$Kernel.$raise($$$("FloatDomainError"),self.$end())}else if($eqeqeq(nil,$ret_or_1)){$Kernel.$raise($$$("RangeError"),"cannot get the last element of endless arithmetic sequence")}else{nil}iter=$rb_minus(self.$end(),$rb_minus(self.$end(),self.$begin())["$%"](self.$step()));if(!$truthy(self["$_lesser_than_end?"](iter))){iter=$rb_minus(iter,self.$step())}if(!$truthy(count)){return $truthy(self["$_greater_than_begin?"](iter))?iter:nil}out=[];while($truthy($truthy($ret_or_1=self["$_greater_than_begin?"](iter))?$rb_gt(count,0):$ret_or_1)){out["$<<"](iter);iter=$rb_minus(iter,self.$step());count=$rb_minus(count,1)}return out.$reverse()}),-1);$def(self,"$size",(function $$size(){var self=this,step_sign=nil,iter=nil;step_sign=$truthy($rb_gt(self.$step(),0))?1:-1;if($not(self["$_lesser_than_end?"](self.$begin()))){return 0}else if($truthy([inf["$-@"](),inf]["$include?"](self.$step()))){return 1}else if($truthy([$rb_times(inf["$-@"](),step_sign),nil]["$include?"](self.$begin()))||$truthy([$rb_times(inf,step_sign),nil]["$include?"](self.$end()))){return inf}else{iter=$rb_minus(self.$end(),$rb_minus(self.$end(),self.$begin())["$%"](self.$step()));if(!$truthy(self["$_lesser_than_end?"](iter))){iter=$rb_minus(iter,self.$step())}return $rb_plus($rb_divide($rb_minus(iter,self.$begin()),self.$step()).$abs().$to_i(),1)}}),0);$def(self,"$==",(function $ArithmeticSequence_$eq_eq$4(other){var self=this,$ret_or_1=nil,$ret_or_2=nil,$ret_or_3=nil,$ret_or_4=nil;if($truthy($ret_or_1=$truthy($ret_or_2=$truthy($ret_or_3=$truthy($ret_or_4=self.$class()["$=="](other.$class()))?self.$begin()["$=="](other.$begin()):$ret_or_4)?self.$end()["$=="](other.$end()):$ret_or_3)?self.$step()["$=="](other.$step()):$ret_or_2)){return self["$exclude_end?"]()["$=="](other["$exclude_end?"]())}else{return $ret_or_1}}),1);$def(self,"$hash",(function $$hash(){var self=this;return[self.$begin(),self.$end(),self.$step(),self["$exclude_end?"]()].$hash()}),0);$def(self,"$inspect",(function $$inspect(){var self=this,args=nil;if($truthy(self.receiver_num)){args=$truthy(self.step_arg2)?"("+self.topfx+self.step_arg1.$inspect()+", "+self.bypfx+self.step_arg2.$inspect()+")":$truthy(self.step_arg1)?"("+self.topfx+self.step_arg1.$inspect()+")":nil;return"("+self.receiver_num.$inspect()+"."+self.creation_method+args+")"}else{args=$truthy(self.skipped_arg)?nil:"("+self.step+")";return"(("+self.range.$inspect()+")."+self.creation_method+args+")"}}),0);$alias(self,"===","==");return $alias(self,"eql?","==")}(self,self,$nesting)}("::",null,$nesting)};Opal.modules["corelib/enumerator/chain"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$def=Opal.def,$send=Opal.send,$to_a=Opal.to_a,$truthy=Opal.truthy,$rb_plus=Opal.rb_plus;Opal.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect");return function($base,$super){var self=$klass($base,$super,"Enumerator");return function($base,$super){var self=$klass($base,$super,"Chain");var $proto=self.$$prototype;$proto.enums=$proto.iterated=nil;$def(self,"$initialize",(function $$initialize($a){var $post_args,enums,self=this;$post_args=Opal.slice.call(arguments);enums=$post_args;self.enums=enums;self.iterated=[];return self.object=self}),-1);$def(self,"$each",(function $$each($a){var block=$$each.$$p||nil,$post_args,args,self=this;delete $$each.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(!(block!==nil)){return $send(self,"to_enum",["each"].concat($to_a(args)),(function $$1(){var self=$$1.$$s==null?this:$$1.$$s;return self.$size()}),{$$arity:0,$$s:self})}$send(self.enums,"each",[],(function $$2(enum$){var self=$$2.$$s==null?this:$$2.$$s;if(self.iterated==null)self.iterated=nil;if(enum$==null)enum$=nil;self.iterated["$<<"](enum$);return $send(enum$,"each",$to_a(args),block.$to_proc())}),{$$arity:1,$$s:self});return self}),-1);$def(self,"$size",(function $$size($a){try{var $post_args,args,self=this,accum=nil;$post_args=Opal.slice.call(arguments);args=$post_args;accum=0;$send(self.enums,"each",[],(function $$3(enum$){var size=nil;if(enum$==null)enum$=nil;size=$send(enum$,"size",$to_a(args));if($truthy([nil,$$$($$$("Float"),"INFINITY")]["$include?"](size))){Opal.ret(size)}return accum=$rb_plus(accum,size)}),1);return accum}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),-1);$def(self,"$rewind",(function $$rewind(){var self=this;$send(self.iterated,"reverse_each",[],(function $$4(enum$){if(enum$==null)enum$=nil;if($truthy(enum$["$respond_to?"]("rewind"))){return enum$.$rewind()}else{return nil}}),1);self.iterated=[];return self}),0);return $def(self,"$inspect",(function $$inspect(){var self=this;return"#<Enumerator::Chain: "+self.enums.$inspect()+">"}),0)}(self,self)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$breaker=Opal.breaker,$klass=Opal.klass,$truthy=Opal.truthy,$Kernel=Opal.Kernel,$def=Opal.def,$send=Opal.send;Opal.add_stubs("include,raise,new,to_proc");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Enumerator");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Generator");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.block=nil;self.$include($$$("Enumerable"));$def(self,"$initialize",(function $$initialize(){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(!$truthy(block)){$Kernel.$raise($$$("LocalJumpError"),"no block given")}return self.block=block}),0);return $def(self,"$each",(function $$each($a){var block=$$each.$$p||nil,$post_args,args,self=this,yielder=nil;delete $$each.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;yielder=$send($$("Yielder"),"new",[],block.$to_proc());try{args.unshift(yielder);Opal.yieldX(self.block,args)}catch(e){if(e===$breaker){return $breaker.$v}else{throw e}}return self}),-1)}($nesting[0],null,$nesting)}($nesting[0],null,$nesting)};Opal.modules["corelib/enumerator/lazy"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$coerce_to=Opal.coerce_to,$yield1=Opal.yield1,$yieldX=Opal.yieldX,$klass=Opal.klass,$send2=Opal.send2,$find_super=Opal.find_super,$to_a=Opal.to_a,$defs=Opal.defs,$Kernel=Opal.Kernel,$send=Opal.send,$def=Opal.def,$return_self=Opal.return_self,$Opal=Opal.Opal,$rb_lt=Opal.rb_lt,$eqeqeq=Opal.eqeqeq,$rb_plus=Opal.rb_plus,$alias=Opal.alias;Opal.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Enumerator");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Lazy");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.enumerator=nil;$klass(self,$$$("Exception"),"StopLazyError");$defs(self,"$for",(function $Lazy_for$1(object,$a){var $post_args,$rest_arg,$yield=$Lazy_for$1.$$p||nil,self=this,lazy=nil;delete $Lazy_for$1.$$p;$post_args=Opal.slice.call(arguments,1);$rest_arg=$post_args;lazy=$send2(self,$find_super(self,"for",$Lazy_for$1,false,true),"for",[object].concat($to_a($rest_arg)),$yield);lazy.enumerator=object;return lazy}),-2);$def(self,"$initialize",(function $$initialize(object,size){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(size==null)size=nil;if(!(block!==nil)){$Kernel.$raise($$$("ArgumentError"),"tried to call lazy new without a block")}self.enumerator=object;return $send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",[size],(function $$2(yielder,$a){var $post_args,each_args;if(yielder==null)yielder=nil;$post_args=Opal.slice.call(arguments,1);each_args=$post_args;try{return $send(object,"each",$to_a(each_args),(function $$3($b){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;args.unshift(yielder);$yieldX(block,args)}),-1)}catch($err){if(Opal.rescue($err,[$$("StopLazyError")])){try{return nil}finally{Opal.pop_exception()}}else{throw $err}}}),-2)}),-2);$def(self,"$lazy",$return_self,0);$def(self,"$collect",(function $$collect(){var block=$$collect.$$p||nil,self=this;delete $$collect.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to call lazy map without a block")}return $send($$("Lazy"),"new",[self,self.$enumerator_size()],(function $$4(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;var value=$yieldX(block,args);enum$.$yield(value)}),-2)}),0);$def(self,"$collect_concat",(function $$collect_concat(){var block=$$collect_concat.$$p||nil,self=this;delete $$collect_concat.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to call lazy map without a block")}return $send($$("Lazy"),"new",[self,nil],(function $$5(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;var value=$yieldX(block,args);if(value["$respond_to?"]("force")&&value["$respond_to?"]("each")){$send(value,"each",[],(function $$6(v){if(v==null)v=nil;return enum$.$yield(v)}),1)}else{var array=$Opal.$try_convert(value,$$$("Array"),"to_ary");if(array===nil){enum$.$yield(value)}else{$send(value,"each",[],(function $$7(v){if(v==null)v=nil;return enum$.$yield(v)}),1)}}}),-2)}),0);$def(self,"$drop",(function $$drop(n){var self=this,current_size=nil,set_size=nil,dropped=nil;n=$coerce_to(n,$$$("Integer"),"to_int");if($truthy($rb_lt(n,0))){$Kernel.$raise($$$("ArgumentError"),"attempt to drop negative size")}current_size=self.$enumerator_size();set_size=$eqeqeq($$$("Integer"),current_size)?$truthy($rb_lt(n,current_size))?n:current_size:current_size;dropped=0;return $send($$("Lazy"),"new",[self,set_size],(function $$8(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;if($truthy($rb_lt(dropped,n))){return dropped=$rb_plus(dropped,1)}else{return $send(enum$,"yield",$to_a(args))}}),-2)}),1);$def(self,"$drop_while",(function $$drop_while(){var block=$$drop_while.$$p||nil,self=this,succeeding=nil;delete $$drop_while.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to call lazy drop_while without a block")}succeeding=true;return $send($$("Lazy"),"new",[self,nil],(function $$9(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;if($truthy(succeeding)){var value=$yieldX(block,args);if(!$truthy(value)){succeeding=false;$send(enum$,"yield",$to_a(args))}}else{return $send(enum$,"yield",$to_a(args))}}),-2)}),0);$def(self,"$enum_for",(function $$enum_for($a,$b){var block=$$enum_for.$$p||nil,$post_args,method,args,self=this;delete $$enum_for.$$p;$post_args=Opal.slice.call(arguments);if($post_args.length>0)method=$post_args.shift();if(method==null)method="each";args=$post_args;return $send(self.$class(),"for",[self,method].concat($to_a(args)),block.$to_proc())}),-1);$def(self,"$find_all",(function $$find_all(){var block=$$find_all.$$p||nil,self=this;delete $$find_all.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to call lazy select without a block")}return $send($$("Lazy"),"new",[self,nil],(function $$10(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;var value=$yieldX(block,args);if($truthy(value)){$send(enum$,"yield",$to_a(args))}}),-2)}),0);$def(self,"$grep",(function $$grep(pattern){var block=$$grep.$$p||nil,self=this;delete $$grep.$$p;if($truthy(block)){return $send($$("Lazy"),"new",[self,nil],(function $$11(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;var param=$Opal.$destructure(args),value=pattern["$==="](param);if($truthy(value)){value=$yield1(block,param);enum$.$yield($yield1(block,param))}}),-2)}else{return $send($$("Lazy"),"new",[self,nil],(function $$12(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;var param=$Opal.$destructure(args),value=pattern["$==="](param);if($truthy(value)){enum$.$yield(param)}}),-2)}}),1);$def(self,"$reject",(function $$reject(){var block=$$reject.$$p||nil,self=this;delete $$reject.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to call lazy reject without a block")}return $send($$("Lazy"),"new",[self,nil],(function $$13(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;var value=$yieldX(block,args);if(!$truthy(value)){$send(enum$,"yield",$to_a(args))}}),-2)}),0);$def(self,"$take",(function $$take(n){var self=this,current_size=nil,set_size=nil,taken=nil;n=$coerce_to(n,$$$("Integer"),"to_int");if($truthy($rb_lt(n,0))){$Kernel.$raise($$$("ArgumentError"),"attempt to take negative size")}current_size=self.$enumerator_size();set_size=$eqeqeq($$$("Integer"),current_size)?$truthy($rb_lt(n,current_size))?n:current_size:current_size;taken=0;return $send($$("Lazy"),"new",[self,set_size],(function $$14(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;if($truthy($rb_lt(taken,n))){$send(enum$,"yield",$to_a(args));return taken=$rb_plus(taken,1)}else{return $Kernel.$raise($$("StopLazyError"))}}),-2)}),1);$def(self,"$take_while",(function $$take_while(){var block=$$take_while.$$p||nil,self=this;delete $$take_while.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to call lazy take_while without a block")}return $send($$("Lazy"),"new",[self,nil],(function $$15(enum$,$a){var $post_args,args;if(enum$==null)enum$=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;var value=$yieldX(block,args);if($truthy(value)){$send(enum$,"yield",$to_a(args))}else{$Kernel.$raise($$("StopLazyError"))}}),-2)}),0);$def(self,"$inspect",(function $$inspect(){var self=this;return"#<"+self.$class()+": "+self.enumerator.$inspect()+">"}),0);$alias(self,"force","to_a");$alias(self,"filter","find_all");$alias(self,"flat_map","collect_concat");$alias(self,"map","collect");$alias(self,"select","find_all");return $alias(self,"to_enum","enum_for")}(self,self,$nesting)}("::",null,$nesting)};Opal.modules["corelib/enumerator/yielder"]=function(Opal){var $nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$klass=Opal.klass,$def=Opal.def,$send=Opal.send,$to_a=Opal.to_a;Opal.add_stubs("yield,proc");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Enumerator");var $nesting=[self].concat($parent_nesting);return function($base,$super){var self=$klass($base,$super,"Yielder");var $proto=self.$$prototype;$proto.block=nil;$def(self,"$initialize",(function $$initialize(){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;self.block=block;return self}),0);$def(self,"$yield",(function $Yielder_yield$1($a){var $post_args,values,self=this;$post_args=Opal.slice.call(arguments);values=$post_args;var value=Opal.yieldX(self.block,values);if(value===$breaker){throw $breaker}return value}),-1);$def(self,"$<<",(function $Yielder_$lt$lt$2(value){var self=this;self.$yield(value);return self}),1);return $def(self,"$to_proc",(function $$to_proc(){var self=this;return $send(self,"proc",[],(function $$3($a){var $post_args,values,self=$$3.$$s==null?this:$$3.$$s;$post_args=Opal.slice.call(arguments);values=$post_args;return $send(self,"yield",$to_a(values))}),{$$arity:-1,$$s:self})}),0)}($nesting[0],null)}($nesting[0],null,$nesting)};Opal.modules["corelib/enumerator"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$slice=Opal.slice,$coerce_to=Opal.coerce_to,$klass=Opal.klass,$defs=Opal.defs,$truthy=Opal.truthy,$send=Opal.send,$not=Opal.not,$def=Opal.def,$rb_plus=Opal.rb_plus,$to_a=Opal.to_a,$Opal=Opal.Opal,$send2=Opal.send2,$find_super=Opal.find_super,$rb_ge=Opal.rb_ge,$Kernel=Opal.Kernel,$rb_le=Opal.rb_le,$alias=Opal.alias;Opal.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload");self.$require("corelib/enumerable");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Enumerator");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.size=$proto.args=$proto.object=$proto.method=$proto.values=$proto.cursor=nil;self.$include($$$("Enumerable"));self.$$prototype.$$is_enumerator=true;$defs(self,"$for",(function $Enumerator_for$1(object,$a,$b){var block=$Enumerator_for$1.$$p||nil,$post_args,method,args,self=this;delete $Enumerator_for$1.$$p;$post_args=Opal.slice.call(arguments,1);if($post_args.length>0)method=$post_args.shift();if(method==null)method="each";args=$post_args;var obj=self.$allocate();obj.object=object;obj.size=block;obj.method=method;obj.args=args;obj.cursor=0;return obj}),-2);$def(self,"$initialize",(function $$initialize($a){var block=$$initialize.$$p||nil,$post_args,$rest_arg,self=this;delete $$initialize.$$p;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;self.cursor=0;if($truthy(block)){self.object=$send($$("Generator"),"new",[],block.$to_proc());self.method="each";self.args=[];self.size=arguments[0]||nil;if($truthy(self.size)&&$not(self.size["$respond_to?"]("call"))){return self.size=$coerce_to(self.size,$$$("Integer"),"to_int")}else{return nil}}else{self.object=arguments[0];self.method=arguments[1]||"each";self.args=$slice.call(arguments,2);return self.size=nil}}),-1);$def(self,"$each",(function $$each($a){var block=$$each.$$p||nil,$post_args,args,self=this;delete $$each.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy(block["$nil?"]())&&$truthy(args["$empty?"]())){return self}args=$rb_plus(self.args,args);if($truthy(block["$nil?"]())){return $send(self.$class(),"new",[self.object,self.method].concat($to_a(args)))}return $send(self.object,"__send__",[self.method].concat($to_a(args)),block.$to_proc())}),-1);$def(self,"$size",(function $$size(){var self=this;if($truthy(self.size["$respond_to?"]("call"))){return $send(self.size,"call",$to_a(self.args))}else{return self.size}}),0);$def(self,"$with_index",(function $$with_index(offset){var block=$$with_index.$$p||nil,self=this;delete $$with_index.$$p;if(offset==null)offset=0;offset=$truthy(offset)?$coerce_to(offset,$$$("Integer"),"to_int"):0;if(!$truthy(block)){return $send(self,"enum_for",["with_index",offset],(function $$2(){var self=$$2.$$s==null?this:$$2.$$s;return self.$size()}),{$$arity:0,$$s:self})}var result,index=offset;self.$each.$$p=function(){var param=$Opal.$destructure(arguments),value=block(param,index);index++;return value};return self.$each()}),-1);$def(self,"$each_with_index",(function $$each_with_index(){var block=$$each_with_index.$$p||nil,self=this;delete $$each_with_index.$$p;if(!(block!==nil)){return $send(self,"enum_for",["each_with_index"],(function $$3(){var self=$$3.$$s==null?this:$$3.$$s;return self.$size()}),{$$arity:0,$$s:self})}$send2(self,$find_super(self,"each_with_index",$$each_with_index,false,true),"each_with_index",[],block);return self.object}),0);$def(self,"$rewind",(function $$rewind(){var self=this;self.cursor=0;return self}),0);$def(self,"$peek_values",(function $$peek_values(){var self=this,$ret_or_1=nil;self.values=$truthy($ret_or_1=self.values)?$ret_or_1:$send(self,"map",[],(function $$4($a){var $post_args,i;$post_args=Opal.slice.call(arguments);i=$post_args;return i}),-1);if($truthy($rb_ge(self.cursor,self.values.$length()))){$Kernel.$raise($$$("StopIteration"),"iteration reached an end")}return self.values["$[]"](self.cursor)}),0);$def(self,"$peek",(function $$peek(){var self=this,values=nil;values=self.$peek_values();if($truthy($rb_le(values.$length(),1))){return values["$[]"](0)}else{return values}}),0);$def(self,"$next_values",(function $$next_values(){var self=this,out=nil;out=self.$peek_values();self.cursor=$rb_plus(self.cursor,1);return out}),0);$def(self,"$next",(function $$next(){var self=this,values=nil;values=self.$next_values();if($truthy($rb_le(values.$length(),1))){return values["$[]"](0)}else{return values}}),0);$def(self,"$feed",(function $$feed(arg){var self=this;return self.$raise($$("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),1);$def(self,"$+",(function $Enumerator_$plus$5(other){var self=this;return $$$($$$("Enumerator"),"Chain").$new(self,other)}),1);$def(self,"$inspect",(function $$inspect(){var self=this,result=nil;result="#<"+self.$class()+": "+self.object.$inspect()+":"+self.method;if($truthy(self.args["$any?"]())){result=$rb_plus(result,"("+self.args.$inspect()["$[]"]($$$("Range").$new(1,-2))+")")}return $rb_plus(result,">")}),0);$alias(self,"with_object","each_with_object");self.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence");self.$autoload("Chain","corelib/enumerator/chain");self.$autoload("Generator","corelib/enumerator/generator");self.$autoload("Lazy","corelib/enumerator/lazy");return self.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,$nesting)};Opal.modules["corelib/numeric"]=function(Opal){var self=Opal.top,nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$truthy=Opal.truthy,$Kernel=Opal.Kernel,$def=Opal.def,$to_ary=Opal.to_ary,$return_self=Opal.return_self,$rb_minus=Opal.rb_minus,$rb_times=Opal.rb_times,$rb_lt=Opal.rb_lt,$eqeq=Opal.eqeq,$rb_divide=Opal.rb_divide,$return_val=Opal.return_val,$Opal=Opal.Opal,$hash2=Opal.hash2,$not=Opal.not,$send=Opal.send,$rb_ge=Opal.rb_ge,$rb_le=Opal.rb_le,$rb_plus=Opal.rb_plus,$rb_gt=Opal.rb_gt,$alias=Opal.alias;Opal.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect");self.$require("corelib/comparable");return function($base,$super){var self=$klass($base,$super,"Numeric");self.$include($$$("Comparable"));$def(self,"$coerce",(function $$coerce(other){var self=this;if($truthy(other["$instance_of?"](self.$class()))){return[other,self]}return[$Kernel.$Float(other),$Kernel.$Float(self)]}),1);$def(self,"$__coerced__",(function $$__coerced__(method,other){var $a,$b,self=this,a=nil,b=nil;if($truthy(other["$respond_to?"]("coerce"))){$b=other.$coerce(self),$a=$to_ary($b),a=$a[0]==null?nil:$a[0],b=$a[1]==null?nil:$a[1],$b;return a.$__send__(method,b)}else switch(method){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return $Kernel.$raise($$$("TypeError"),""+other.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return $Kernel.$raise($$$("ArgumentError"),"comparison of "+self.$class()+" with "+other.$class()+" failed");default:return nil}}),2);$def(self,"$<=>",(function $Numeric_$lt_eq_gt$1(other){var self=this;if($truthy(self["$equal?"](other))){return 0}return nil}),1);$def(self,"$+@",$return_self,0);$def(self,"$-@",(function $Numeric_$minus$$2(){var self=this;return $rb_minus(0,self)}),0);$def(self,"$%",(function $Numeric_$percent$3(other){var self=this;return $rb_minus(self,$rb_times(other,self.$div(other)))}),1);$def(self,"$abs",(function $$abs(){var self=this;if($rb_lt(self,0)){return self["$-@"]()}else{return self}}),0);$def(self,"$abs2",(function $$abs2(){var self=this;return $rb_times(self,self)}),0);$def(self,"$angle",(function $$angle(){var self=this;if($rb_lt(self,0)){return $$$($$$("Math"),"PI")}else{return 0}}),0);$def(self,"$ceil",(function $$ceil(ndigits){var self=this;if(ndigits==null)ndigits=0;return self.$to_f().$ceil(ndigits)}),-1);$def(self,"$conj",$return_self,0);$def(self,"$denominator",(function $$denominator(){var self=this;return self.$to_r().$denominator()}),0);$def(self,"$div",(function $$div(other){var self=this;if($eqeq(other,0)){$Kernel.$raise($$$("ZeroDivisionError"),"divided by o")}return $rb_divide(self,other).$floor()}),1);$def(self,"$divmod",(function $$divmod(other){var self=this;return[self.$div(other),self["$%"](other)]}),1);$def(self,"$fdiv",(function $$fdiv(other){var self=this;return $rb_divide(self.$to_f(),other)}),1);$def(self,"$floor",(function $$floor(ndigits){var self=this;if(ndigits==null)ndigits=0;return self.$to_f().$floor(ndigits)}),-1);$def(self,"$i",(function $$i(){var self=this;return $Kernel.$Complex(0,self)}),0);$def(self,"$imag",$return_val(0),0);$def(self,"$integer?",$return_val(false),0);$def(self,"$nonzero?",(function $Numeric_nonzero$ques$4(){var self=this;if($truthy(self["$zero?"]())){return nil}else{return self}}),0);$def(self,"$numerator",(function $$numerator(){var self=this;return self.$to_r().$numerator()}),0);$def(self,"$polar",(function $$polar(){var self=this;return[self.$abs(),self.$arg()]}),0);$def(self,"$quo",(function $$quo(other){var self=this;return $rb_divide($Opal["$coerce_to!"](self,$$$("Rational"),"to_r"),other)}),1);$def(self,"$real",$return_self,0);$def(self,"$real?",$return_val(true),0);$def(self,"$rect",(function $$rect(){var self=this;return[self,0]}),0);$def(self,"$round",(function $$round(digits){var self=this;return self.$to_f().$round(digits)}),-1);$def(self,"$step",(function $$step($a,$b,$c){var block=$$step.$$p||nil,$post_args,$kwargs,limit,step,to,by,$d,self=this,counter=nil;delete $$step.$$p;$post_args=Opal.slice.call(arguments);$kwargs=Opal.extract_kwargs($post_args);if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if($post_args.length>0)limit=$post_args.shift();if($post_args.length>0)step=$post_args.shift();to=$kwargs.$$smap["to"];by=$kwargs.$$smap["by"];if(limit!==undefined&&to!==undefined){$Kernel.$raise($$$("ArgumentError"),"to is given twice")}if(step!==undefined&&by!==undefined){$Kernel.$raise($$$("ArgumentError"),"step is given twice")}if(to!==undefined){limit=to}if(by!==undefined){step=by}if(limit===undefined){limit=nil}function validateParameters(){if(step===nil){$Kernel.$raise($$$("TypeError"),"step must be numeric")}if(step!=null&&step["$=="](0)){$Kernel.$raise($$$("ArgumentError"),"step can't be 0")}if(step===nil||step==null){step=1}var sign=step["$<=>"](0);if(sign===nil){$Kernel.$raise($$$("ArgumentError"),"0 can't be coerced into "+step.$class())}if(limit===nil||limit==null){limit=sign>0?$$$($$$("Float"),"INFINITY"):$$$($$$("Float"),"INFINITY")["$-@"]()}$Opal.$compare(self,limit)}function stepFloatSize(){if(step>0&&self>limit||step<0&&self<limit){return 0}else if(step===Infinity||step===-Infinity){return 1}else{var abs=Math.abs,floor=Math.floor,err=(abs(self)+abs(limit)+abs(limit-self))/abs(step)*$$$($$$("Float"),"EPSILON");if(err===Infinity||err===-Infinity){return 0}else{if(err>.5){err=.5}return floor((limit-self)/step+err)+1}}}function stepSize(){validateParameters();if(step===0){return Infinity}if(step%1!==0){return stepFloatSize()}else if(step>0&&self>limit||step<0&&self<limit){return 0}else{var ceil=Math.ceil,abs=Math.abs,lhs=abs(self-limit)+1,rhs=abs(step);return ceil(lhs/rhs)}}if(!(block!==nil)){if(($not(limit)||$truthy(limit["$is_a?"]($$$("Numeric"))))&&($not(step)||$truthy(step["$is_a?"]($$$("Numeric"))))){return $$$($$$("Enumerator"),"ArithmeticSequence").$new([limit,step,$truthy(to)?"to: ":nil,$truthy(by)?"by: ":nil],self)}else{return $send(self,"enum_for",["step",limit,step],stepSize.$to_proc())}}validateParameters();var isDesc=step["$negative?"](),isInf=step["$=="](0)||limit===Infinity&&!isDesc||limit===-Infinity&&isDesc;if(self.$$is_number&&step.$$is_number&&limit.$$is_number){if(self%1===0&&(isInf||limit%1===0)&&step%1===0){var value=self;if(isInf){for(;;value+=step){block(value)}}else if(isDesc){for(;value>=limit;value+=step){block(value)}}else{for(;value<=limit;value+=step){block(value)}}return self}else{var begin=self.$to_f().valueOf();step=step.$to_f().valueOf();limit=limit.$to_f().valueOf();var n=stepFloatSize();if(!isFinite(step)){if(n!==0)block(begin)}else if(step===0){while(true){block(begin)}}else{for(var i=0;i<n;i++){var d=i*step+self;if(step>=0?limit<d:limit>d){d=limit}block(d)}}return self}}counter=self;while($truthy(isDesc?$rb_ge(counter,limit):$rb_le(counter,limit))){Opal.yield1(block,counter);counter=$rb_plus(counter,step)}}),-1);$def(self,"$to_c",(function $$to_c(){var self=this;return $Kernel.$Complex(self,0)}),0);$def(self,"$to_int",(function $$to_int(){var self=this;return self.$to_i()}),0);$def(self,"$truncate",(function $$truncate(ndigits){var self=this;if(ndigits==null)ndigits=0;return self.$to_f().$truncate(ndigits)}),-1);$def(self,"$zero?",(function $Numeric_zero$ques$5(){var self=this;return self["$=="](0)}),0);$def(self,"$positive?",(function $Numeric_positive$ques$6(){var self=this;return $rb_gt(self,0)}),0);$def(self,"$negative?",(function $Numeric_negative$ques$7(){var self=this;return $rb_lt(self,0)}),0);$def(self,"$dup",$return_self,0);$def(self,"$clone",(function $$clone($kwargs){var freeze,self=this;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}freeze=$kwargs.$$smap["freeze"];if(freeze==null)freeze=true;return self}),-1);$def(self,"$finite?",$return_val(true),0);$def(self,"$infinite?",$return_val(nil),0);$alias(self,"arg","angle");$alias(self,"conjugate","conj");$alias(self,"imaginary","imag");$alias(self,"magnitude","abs");$alias(self,"modulo","%");$alias(self,"phase","arg");return $alias(self,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$falsy=Opal.falsy,$hash_ids=Opal.hash_ids,$yield1=Opal.yield1,$hash_get=Opal.hash_get,$hash_put=Opal.hash_put,$hash_delete=Opal.hash_delete,$coerce_to=Opal.coerce_to,$respond_to=Opal.respond_to,$klass=Opal.klass,$defs=Opal.defs,$Kernel=Opal.Kernel,$def=Opal.def,$Opal=Opal.Opal,$eqeqeq=Opal.eqeqeq,$hash2=Opal.hash2,$send2=Opal.send2,$find_super=Opal.find_super,$send=Opal.send,$rb_gt=Opal.rb_gt,$rb_times=Opal.rb_times,$eqeq=Opal.eqeq,$rb_minus=Opal.rb_minus,$to_a=Opal.to_a,$to_ary=Opal.to_ary,$gvars=Opal.gvars,$rb_ge=Opal.rb_ge,$assign_ivar=Opal.assign_ivar,$rb_lt=Opal.rb_lt,$return_self=Opal.return_self,$neqeq=Opal.neqeq,$alias=Opal.alias;Opal.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class");self.$require("corelib/enumerable");self.$require("corelib/numeric");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Array");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);self.$include($$$("Enumerable"));Opal.prop(self.$$prototype,"$$is_array",true);function shiftNoArg(list){var r=list[0];var index=1;var length=list.length;for(;index<length;index++){list[index-1]=list[index]}list.pop();return r}function toArraySubclass(obj,klass){if(klass.$$name===Opal.Array){return obj}else{return klass.$allocate().$replace(obj.$to_a())}}function filterIf(self,filter,block){var value,raised=null,updated=new Array(self.length);for(var i=0,i2=0,length=self.length;i<length;i++){if(!raised){try{value=$yield1(block,self[i])}catch(error){raised=error}}if(raised||filter(value)){updated[i2]=self[i];i2+=1}}if(i2!==i){self.splice.apply(self,[0,updated.length].concat(updated));self.splice(i2,updated.length)}if(raised)throw raised}$defs(self,"$[]",(function $Array_$$$1($a){var $post_args,objects,self=this;$post_args=Opal.slice.call(arguments);objects=$post_args;return toArraySubclass(objects,self)}),-1);$def(self,"$initialize",(function $$initialize(size,obj){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(size==null)size=nil;if(obj==null)obj=nil;if(obj!==nil&&block!==nil){$Kernel.$warn("warning: block supersedes default value argument")}if(size>$$$($$$("Integer"),"MAX")){$Kernel.$raise($$$("ArgumentError"),"array size too big")}if(arguments.length>2){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)")}if(arguments.length===0){self.splice(0,self.length);return self}if(arguments.length===1){if(size.$$is_array){self.$replace(size.$to_a());return self}else if(size["$respond_to?"]("to_ary")){self.$replace(size.$to_ary());return self}}size=$coerce_to(size,$$$("Integer"),"to_int");if(size<0){$Kernel.$raise($$$("ArgumentError"),"negative array size")}self.splice(0,self.length);var i,value;if(block===nil){for(i=0;i<size;i++){self.push(obj)}}else{for(i=0,value;i<size;i++){value=block(i);self[i]=value}}return self}),-1);$defs(self,"$try_convert",(function $$try_convert(obj){return $Opal["$coerce_to?"](obj,$$$("Array"),"to_ary")}),1);$def(self,"$&",(function $Array_$$2(other){var self=this;other=$eqeqeq($$$("Array"),other)?other.$to_a():$coerce_to(other,$$$("Array"),"to_ary").$to_a();var result=[],hash=$hash2([],{}),i,length,item;for(i=0,length=other.length;i<length;i++){$hash_put(hash,other[i],true)}for(i=0,length=self.length;i<length;i++){item=self[i];if($hash_delete(hash,item)!==undefined){result.push(item)}}return result}),1);$def(self,"$|",(function $Array_$$3(other){var self=this;other=$eqeqeq($$$("Array"),other)?other.$to_a():$coerce_to(other,$$$("Array"),"to_ary").$to_a();var hash=$hash2([],{}),i,length,item;for(i=0,length=self.length;i<length;i++){$hash_put(hash,self[i],true)}for(i=0,length=other.length;i<length;i++){$hash_put(hash,other[i],true)}return hash.$keys()}),1);$def(self,"$*",(function $Array_$$4(other){var self=this;if($truthy(other["$respond_to?"]("to_str"))){return self.$join(other.$to_str())}other=$coerce_to(other,$$$("Integer"),"to_int");if($truthy(other<0)){$Kernel.$raise($$$("ArgumentError"),"negative argument")}var result=[],converted=self.$to_a();for(var i=0;i<other;i++){result=result.concat(converted)}return result}),1);$def(self,"$+",(function $Array_$plus$5(other){var self=this;other=$eqeqeq($$$("Array"),other)?other.$to_a():$coerce_to(other,$$$("Array"),"to_ary").$to_a();return self.concat(other)}),1);$def(self,"$-",(function $Array_$minus$6(other){var self=this;other=$eqeqeq($$$("Array"),other)?other.$to_a():$coerce_to(other,$$$("Array"),"to_ary").$to_a();if($truthy(self.length===0)){return[]}if($truthy(other.length===0)){return self.slice()}var result=[],hash=$hash2([],{}),i,length,item;for(i=0,length=other.length;i<length;i++){$hash_put(hash,other[i],true)}for(i=0,length=self.length;i<length;i++){item=self[i];if($hash_get(hash,item)===undefined){result.push(item)}}return result}),1);$def(self,"$<<",(function $Array_$lt$lt$7(object){var self=this;self.push(object);return self}),1);$def(self,"$<=>",(function $Array_$lt_eq_gt$8(other){var self=this;if($eqeqeq($$$("Array"),other)){other=other.$to_a()}else if($truthy(other["$respond_to?"]("to_ary"))){other=other.$to_ary().$to_a()}else{return nil}if(self.$hash()===other.$hash()){return 0}var count=Math.min(self.length,other.length);for(var i=0;i<count;i++){var tmp=self[i]["$<=>"](other[i]);if(tmp!==0){return tmp}}return self.length["$<=>"](other.length)}),1);$def(self,"$==",(function $Array_$eq_eq$9(other){var self=this;var recursed={};function _eqeq(array,other){var i,length,a,b;if(array===other)return true;if(!other.$$is_array){if($respond_to(other,"$to_ary")){return other["$=="](array)}else{return false}}if(array.$$constructor!==Array)array=array.$to_a();if(other.$$constructor!==Array)other=other.$to_a();if(array.length!==other.length){return false}recursed[array.$object_id()]=true;for(i=0,length=array.length;i<length;i++){a=array[i];b=other[i];if(a.$$is_array){if(b.$$is_array&&b.length!==a.length){return false}if(!recursed.hasOwnProperty(a.$object_id())){if(!_eqeq(a,b)){return false}}}else{if(!a["$=="](b)){return false}}}return true}return _eqeq(self,other)}),1);function $array_slice_range(self,index){var size=self.length,exclude,from,to,result;exclude=index.excl;from=index.begin===nil?0:$coerce_to(index.begin,Opal.Integer,"to_int");to=index.end===nil?-1:$coerce_to(index.end,Opal.Integer,"to_int");if(from<0){from+=size;if(from<0){return nil}}if(index.excl_rev&&index.begin!==nil){from+=1}if(from>size){return nil}if(to<0){to+=size;if(to<0){return[]}}if(!exclude||index.end===nil){to+=1}result=self.slice(from,to);return result}function $array_slice_arithmetic_seq(self,index){var array,out=[],i=0,pseudorange;if(index.step<0){pseudorange={begin:index.range.end,end:index.range.begin,excl:false,excl_rev:index.range.excl};array=$array_slice_range(self,pseudorange).$reverse()}else{array=$array_slice_range(self,index.range)}while(i<array.length){out.push(array[i]);i+=Math.abs(index.step)}return out}function $array_slice_index_length(self,index,length){var size=self.length,exclude,from,to,result;index=$coerce_to(index,Opal.Integer,"to_int");if(index<0){index+=size;if(index<0){return nil}}if(length===undefined){if(index>=size||index<0){return nil}return self[index]}else{length=$coerce_to(length,Opal.Integer,"to_int");if(length<0||index>size||index<0){return nil}result=self.slice(index,index+length)}return result}$def(self,"$[]",(function $Array_$$$10(index,length){var self=this;if(index.$$is_range){return $array_slice_range(self,index)}else if(index.$$is_arithmetic_seq){return $array_slice_arithmetic_seq(self,index)}else{return $array_slice_index_length(self,index,length)}}),-2);$def(self,"$[]=",(function $Array_$$$eq$11(index,value,extra){var self=this,data=nil,length=nil;data=nil;var i,size=self.length;if(index.$$is_range){if(value.$$is_array)data=value.$to_a();else if(value["$respond_to?"]("to_ary"))data=value.$to_ary().$to_a();else data=[value];var exclude=index.excl,from=index.begin===nil?0:$coerce_to(index.begin,Opal.Integer,"to_int"),to=index.end===nil?-1:$coerce_to(index.end,Opal.Integer,"to_int");if(from<0){from+=size;if(from<0){$Kernel.$raise($$$("RangeError"),""+index.$inspect()+" out of range")}}if(to<0){to+=size}if(!exclude||index.end===nil){to+=1}if(from>size){for(i=size;i<from;i++){self[i]=nil}}if(to<0){self.splice.apply(self,[from,0].concat(data))}else{self.splice.apply(self,[from,to-from].concat(data))}return value}else{if(extra===undefined){length=1}else{length=value;value=extra;if(value.$$is_array)data=value.$to_a();else if(value["$respond_to?"]("to_ary"))data=value.$to_ary().$to_a();else data=[value]}var old;index=$coerce_to(index,$$$("Integer"),"to_int");length=$coerce_to(length,$$$("Integer"),"to_int");if(index<0){old=index;index+=size;if(index<0){$Kernel.$raise($$$("IndexError"),"index "+old+" too small for array; minimum "+-self.length)}}if(length<0){$Kernel.$raise($$$("IndexError"),"negative length ("+length+")")}if(index>size){for(i=size;i<index;i++){self[i]=nil}}if(extra===undefined){self[index]=value}else{self.splice.apply(self,[index,length].concat(data))}return value}}),-3);$def(self,"$any?",(function $Array_any$ques$12(pattern){var block=$Array_any$ques$12.$$p||nil,self=this;delete $Array_any$ques$12.$$p;if(self.length===0)return false;return $send2(self,$find_super(self,"any?",$Array_any$ques$12,false,true),"any?",[pattern],block)}),-1);$def(self,"$assoc",(function $$assoc(object){var self=this;for(var i=0,length=self.length,item;i<length;i++){if(item=self[i],item.length&&item[0]["$=="](object)){return item}}return nil}),1);$def(self,"$at",(function $$at(index){var self=this;index=$coerce_to(index,$$$("Integer"),"to_int");if(index<0){index+=self.length}if(index<0||index>=self.length){return nil}return self[index]}),1);$def(self,"$bsearch_index",(function $$bsearch_index(){var block=$$bsearch_index.$$p||nil,self=this;delete $$bsearch_index.$$p;if(!(block!==nil)){return self.$enum_for("bsearch_index")}var min=0,max=self.length,mid,val,ret,smaller=false,satisfied=nil;while(min<max){mid=min+Math.floor((max-min)/2);val=self[mid];ret=$yield1(block,val);if(ret===true){satisfied=mid;smaller=true}else if(ret===false||ret===nil){smaller=false}else if(ret.$$is_number){if(ret===0){return mid}smaller=ret<0}else{$Kernel.$raise($$$("TypeError"),"wrong argument type "+ret.$class()+" (must be numeric, true, false or nil)")}if(smaller){max=mid}else{min=mid+1}}return satisfied}),0);$def(self,"$bsearch",(function $$bsearch(){var block=$$bsearch.$$p||nil,self=this,index=nil;delete $$bsearch.$$p;if(!(block!==nil)){return self.$enum_for("bsearch")}index=$send(self,"bsearch_index",[],block.$to_proc());if(index!=null&&index.$$is_number){return self[index]}else{return index}}),0);$def(self,"$cycle",(function $$cycle(n){var block=$$cycle.$$p||nil,self=this;delete $$cycle.$$p;if(n==null)n=nil;if(!(block!==nil)){return $send(self,"enum_for",["cycle",n],(function $$13(){var self=$$13.$$s==null?this:$$13.$$s;if($truthy(n["$nil?"]())){return $$$($$$("Float"),"INFINITY")}else{n=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if($truthy($rb_gt(n,0))){return $rb_times(self.$enumerator_size(),n)}else{return 0}}}),{$$arity:0,$$s:self})}if($truthy(self["$empty?"]())||$eqeq(n,0)){return nil}var i,length,value;if(n===nil){while(true){for(i=0,length=self.length;i<length;i++){value=$yield1(block,self[i])}}}else{n=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if(n<=0){return self}while(n>0){for(i=0,length=self.length;i<length;i++){value=$yield1(block,self[i])}n--}}return self}),-1);$def(self,"$clear",(function $$clear(){var self=this;self.splice(0,self.length);return self}),0);$def(self,"$count",(function $$count(object){var block=$$count.$$p||nil,self=this;delete $$count.$$p;if($truthy(object!==undefined)||$truthy(block)){return $send2(self,$find_super(self,"count",$$count,false,true),"count",[object],block)}else{return self.$size()}}),-1);$def(self,"$initialize_copy",(function $$initialize_copy(other){var self=this;return self.$replace(other)}),1);$def(self,"$collect",(function $$collect(){var block=$$collect.$$p||nil,self=this;delete $$collect.$$p;if(!(block!==nil)){return $send(self,"enum_for",["collect"],(function $$14(){var self=$$14.$$s==null?this:$$14.$$s;return self.$size()}),{$$arity:0,$$s:self})}var result=[];for(var i=0,length=self.length;i<length;i++){var value=$yield1(block,self[i]);result.push(value)}return result}),0);$def(self,"$collect!",(function $Array_collect$excl$15(){var block=$Array_collect$excl$15.$$p||nil,self=this;delete $Array_collect$excl$15.$$p;if(!(block!==nil)){return $send(self,"enum_for",["collect!"],(function $$16(){var self=$$16.$$s==null?this:$$16.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,length=self.length;i<length;i++){var value=$yield1(block,self[i]);self[i]=value}return self}),0);function binomial_coefficient(n,k){if(n===k||k===0){return 1}if(k>0&&n>k){return binomial_coefficient(n-1,k-1)+binomial_coefficient(n-1,k)}return 0}$def(self,"$combination",(function $$combination(n){var $yield=$$combination.$$p||nil,self=this,num=nil;delete $$combination.$$p;num=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if(!($yield!==nil)){return $send(self,"enum_for",["combination",num],(function $$17(){var self=$$17.$$s==null?this:$$17.$$s;return binomial_coefficient(self.length,num)}),{$$arity:0,$$s:self})}var i,length,stack,chosen,lev,done,next;if(num===0){Opal.yield1($yield,[])}else if(num===1){for(i=0,length=self.length;i<length;i++){Opal.yield1($yield,[self[i]])}}else if(num===self.length){Opal.yield1($yield,self.slice())}else if(num>=0&&num<self.length){stack=[];for(i=0;i<=num+1;i++){stack.push(0)}chosen=[];lev=0;done=false;stack[0]=-1;while(!done){chosen[lev]=self[stack[lev+1]];while(lev<num-1){lev++;next=stack[lev+1]=stack[lev]+1;chosen[lev]=self[next]}Opal.yield1($yield,chosen.slice());lev++;do{done=lev===0;stack[lev]++;lev--}while(stack[lev+1]+num===self.length+lev+1)}}return self}),1);$def(self,"$repeated_combination",(function $$repeated_combination(n){var $yield=$$repeated_combination.$$p||nil,self=this,num=nil;delete $$repeated_combination.$$p;num=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if(!($yield!==nil)){return $send(self,"enum_for",["repeated_combination",num],(function $$18(){var self=$$18.$$s==null?this:$$18.$$s;return binomial_coefficient(self.length+num-1,num)}),{$$arity:0,$$s:self})}function iterate(max,from,buffer,self){if(buffer.length==max){var copy=buffer.slice();Opal.yield1($yield,copy);return}for(var i=from;i<self.length;i++){buffer.push(self[i]);iterate(max,i,buffer,self);buffer.pop()}}if(num>=0){iterate(num,0,[],self)}return self}),1);$def(self,"$compact",(function $$compact(){var self=this;var result=[];for(var i=0,length=self.length,item;i<length;i++){if((item=self[i])!==nil){result.push(item)}}return result}),0);$def(self,"$compact!",(function $Array_compact$excl$19(){var self=this;var original=self.length;for(var i=0,length=self.length;i<length;i++){if(self[i]===nil){self.splice(i,1);length--;i--}}return self.length===original?nil:self}),0);$def(self,"$concat",(function $$concat($a){var $post_args,others,self=this;$post_args=Opal.slice.call(arguments);others=$post_args;others=$send(others,"map",[],(function $$20(other){var self=$$20.$$s==null?this:$$20.$$s;if(other==null)other=nil;other=$eqeqeq($$$("Array"),other)?other.$to_a():$coerce_to(other,$$$("Array"),"to_ary").$to_a();if($truthy(other["$equal?"](self))){other=other.$dup()}return other}),{$$arity:1,$$s:self});$send(others,"each",[],(function $$21(other){var self=$$21.$$s==null?this:$$21.$$s;if(other==null)other=nil;for(var i=0,length=other.length;i<length;i++){self.push(other[i])}}),{$$arity:1,$$s:self});return self}),-1);$def(self,"$delete",(function $Array_delete$22(object){var $yield=$Array_delete$22.$$p||nil,self=this;delete $Array_delete$22.$$p;var original=self.length;for(var i=0,length=original;i<length;i++){if(self[i]["$=="](object)){self.splice(i,1);length--;i--}}if(self.length===original){if($yield!==nil){return Opal.yieldX($yield,[])}return nil}return object}),1);$def(self,"$delete_at",(function $$delete_at(index){var self=this;index=$coerce_to(index,$$$("Integer"),"to_int");if(index<0){index+=self.length}if(index<0||index>=self.length){return nil}var result=self[index];self.splice(index,1);return result}),1);$def(self,"$delete_if",(function $$delete_if(){var block=$$delete_if.$$p||nil,self=this;delete $$delete_if.$$p;if(!(block!==nil)){return $send(self,"enum_for",["delete_if"],(function $$23(){var self=$$23.$$s==null?this:$$23.$$s;return self.$size()}),{$$arity:0,$$s:self})}filterIf(self,$falsy,block);return self}),0);$def(self,"$difference",(function $$difference($a){var $post_args,arrays,self=this;$post_args=Opal.slice.call(arguments);arrays=$post_args;return $send(arrays,"reduce",[self.$to_a().$dup()],(function $$24(a,b){if(a==null)a=nil;if(b==null)b=nil;return $rb_minus(a,b)}),2)}),-1);$def(self,"$dig",(function $$dig(idx,$a){var $post_args,idxs,self=this,item=nil;$post_args=Opal.slice.call(arguments,1);idxs=$post_args;item=self["$[]"](idx);if(item===nil||idxs.length===0){return item}if(!$truthy(item["$respond_to?"]("dig"))){$Kernel.$raise($$$("TypeError"),""+item.$class()+" does not have #dig method")}return $send(item,"dig",$to_a(idxs))}),-2);$def(self,"$drop",(function $$drop(number){var self=this;number=$coerce_to(number,$$$("Integer"),"to_int");if(number<0){$Kernel.$raise($$$("ArgumentError"))}return self.slice(number)}),1);$def(self,"$dup",(function $$dup(){var $yield=$$dup.$$p||nil,self=this;delete $$dup.$$p;if(self.$$class===Opal.Array&&self.$$class.$allocate.$$pristine&&self.$copy_instance_variables.$$pristine&&self.$initialize_dup.$$pristine){return self.slice(0)}return $send2(self,$find_super(self,"dup",$$dup,false,true),"dup",[],$yield)}),0);$def(self,"$each",(function $$each(){var block=$$each.$$p||nil,self=this;delete $$each.$$p;if(!(block!==nil)){return $send(self,"enum_for",["each"],(function $$25(){var self=$$25.$$s==null?this:$$25.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,length=self.length;i<length;i++){var value=$yield1(block,self[i])}return self}),0);$def(self,"$each_index",(function $$each_index(){var block=$$each_index.$$p||nil,self=this;delete $$each_index.$$p;if(!(block!==nil)){return $send(self,"enum_for",["each_index"],(function $$26(){var self=$$26.$$s==null?this:$$26.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,length=self.length;i<length;i++){var value=$yield1(block,i)}return self}),0);$def(self,"$empty?",(function $Array_empty$ques$27(){var self=this;return self.length===0}),0);$def(self,"$eql?",(function $Array_eql$ques$28(other){var self=this;var recursed={};function _eql(array,other){var i,length,a,b;if(!other.$$is_array){return false}other=other.$to_a();if(array.length!==other.length){return false}recursed[array.$object_id()]=true;for(i=0,length=array.length;i<length;i++){a=array[i];b=other[i];if(a.$$is_array){if(b.$$is_array&&b.length!==a.length){return false}if(!recursed.hasOwnProperty(a.$object_id())){if(!_eql(a,b)){return false}}}else{if(!a["$eql?"](b)){return false}}}return true}return _eql(self,other)}),1);$def(self,"$fetch",(function $$fetch(index,defaults){var block=$$fetch.$$p||nil,self=this;delete $$fetch.$$p;var original=index;index=$coerce_to(index,$$$("Integer"),"to_int");if(index<0){index+=self.length}if(index>=0&&index<self.length){return self[index]}if(block!==nil&&defaults!=null){self.$warn("warning: block supersedes default value argument")}if(block!==nil){return block(original)}if(defaults!=null){return defaults}if(self.length===0){$Kernel.$raise($$$("IndexError"),"index "+original+" outside of array bounds: 0...0")}else{$Kernel.$raise($$$("IndexError"),"index "+original+" outside of array bounds: -"+self.length+"..."+self.length)}}),-2);$def(self,"$fill",(function $$fill($a){var block=$$fill.$$p||nil,$post_args,args,$b,$c,self=this,one=nil,two=nil,obj=nil,left=nil,right=nil;delete $$fill.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;var i,length,value;if($truthy(block)){if($truthy(args.length>2)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+args.$length()+" for 0..2)")}$c=args,$b=$to_ary($c),one=$b[0]==null?nil:$b[0],two=$b[1]==null?nil:$b[1],$c}else{if($truthy(args.length==0)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (0 for 1..3)")}else if($truthy(args.length>3)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+args.$length()+" for 1..3)")}$c=args,$b=$to_ary($c),obj=$b[0]==null?nil:$b[0],one=$b[1]==null?nil:$b[1],two=$b[2]==null?nil:$b[2],$c}if($eqeqeq($$$("Range"),one)){if($truthy(two)){$Kernel.$raise($$$("TypeError"),"length invalid with range")}left=one.begin===nil?0:$coerce_to(one.begin,$$$("Integer"),"to_int");if($truthy(left<0)){left+=this.length}if($truthy(left<0)){$Kernel.$raise($$$("RangeError"),""+one.$inspect()+" out of range")}right=one.end===nil?-1:$coerce_to(one.end,$$$("Integer"),"to_int");if($truthy(right<0)){right+=this.length}if(!$truthy(one["$exclude_end?"]())){right+=1}if($truthy(right<=left)){return self}}else if($truthy(one)){left=$coerce_to(one,$$$("Integer"),"to_int");if($truthy(left<0)){left+=this.length}if($truthy(left<0)){left=0}if($truthy(two)){right=$coerce_to(two,$$$("Integer"),"to_int");if($truthy(right==0)){return self}right+=left}else{right=this.length}}else{left=0;right=this.length}if($truthy(left>this.length)){for(i=this.length;i<right;i++){self[i]=nil}}if($truthy(right>this.length)){this.length=right}if($truthy(block)){for(length=this.length;left<right;left++){value=block(left);self[left]=value}}else{for(length=this.length;left<right;left++){self[left]=obj}}return self}),-1);$def(self,"$first",(function $$first(count){var self=this;if(count==null){return self.length===0?nil:self[0]}count=$coerce_to(count,$$$("Integer"),"to_int");if(count<0){$Kernel.$raise($$$("ArgumentError"),"negative array size")}return self.slice(0,count)}),-1);$def(self,"$flatten",(function $$flatten(level){var self=this;function _flatten(array,level){var result=[],i,length,item,ary;array=array.$to_a();for(i=0,length=array.length;i<length;i++){item=array[i];if(!$respond_to(item,"$to_ary",true)){result.push(item);continue}ary=item.$to_ary();if(ary===nil){result.push(item);continue}if(!ary.$$is_array){$Kernel.$raise($$$("TypeError"))}if(ary===self){$Kernel.$raise($$$("ArgumentError"))}switch(level){case undefined:result=result.concat(_flatten(ary));break;case 0:result.push(ary);break;default:result.push.apply(result,_flatten(ary,level-1))}}return result}if(level!==undefined){level=$coerce_to(level,$$$("Integer"),"to_int")}return _flatten(self,level)}),-1);$def(self,"$flatten!",(function $Array_flatten$excl$29(level){var self=this;var flattened=self.$flatten(level);if(self.length==flattened.length){for(var i=0,length=self.length;i<length;i++){if(self[i]!==flattened[i]){break}}if(i==length){return nil}}self.$replace(flattened);return self}),-1);$def(self,"$hash",(function $$hash(){var self=this;var top=$hash_ids===undefined,result=["A"],hash_id=self.$object_id(),item,i,key;try{if(top){$hash_ids=Object.create(null)}if($hash_ids[hash_id]){return"self"}for(key in $hash_ids){item=$hash_ids[key];if(self["$eql?"](item)){return"self"}}$hash_ids[hash_id]=self;for(i=0;i<self.length;i++){item=self[i];result.push(item.$hash())}return result.join(",")}finally{if(top){$hash_ids=undefined}}}),0);$def(self,"$include?",(function $Array_include$ques$30(member){var self=this;for(var i=0,length=self.length;i<length;i++){if(self[i]["$=="](member)){return true}}return false}),1);$def(self,"$index",(function $$index(object){var block=$$index.$$p||nil,self=this;delete $$index.$$p;var i,length,value;if(object!=null&&block!==nil){self.$warn("warning: given block not used")}if(object!=null){for(i=0,length=self.length;i<length;i++){if(self[i]["$=="](object)){return i}}}else if(block!==nil){for(i=0,length=self.length;i<length;i++){value=block(self[i]);if(value!==false&&value!==nil){return i}}}else{return self.$enum_for("index")}return nil}),-1);$def(self,"$insert",(function $$insert(index,$a){var $post_args,objects,self=this;$post_args=Opal.slice.call(arguments,1);objects=$post_args;index=$coerce_to(index,$$$("Integer"),"to_int");if(objects.length>0){if(index<0){index+=self.length+1;if(index<0){$Kernel.$raise($$$("IndexError"),""+index+" is out of bounds")}}if(index>self.length){for(var i=self.length;i<index;i++){self.push(nil)}}self.splice.apply(self,[index,0].concat(objects))}return self}),-2);var inspect_stack=[];$def(self,"$inspect",(function $$inspect(){var self=this;var result=[],id=self.$__id__(),pushed=true;return function(){try{if(inspect_stack.indexOf(id)!==-1){pushed=false;return"[...]"}inspect_stack.push(id);for(var i=0,length=self.length;i<length;i++){var item=self["$[]"](i);result.push($$("Opal").$inspect(item))}return"["+result.join(", ")+"]";return nil}finally{if(pushed)inspect_stack.pop()}}()}),0);$def(self,"$intersection",(function $$intersection($a){var $post_args,arrays,self=this;$post_args=Opal.slice.call(arguments);arrays=$post_args;return $send(arrays,"reduce",[self.$to_a().$dup()],(function $$31(a,b){if(a==null)a=nil;if(b==null)b=nil;return a["$&"](b)}),2)}),-1);$def(self,"$intersect?",(function $Array_intersect$ques$32(other){var self=this;return self.$intersection(other)["$empty?"]()["$!"]()}),1);$def(self,"$join",(function $$join(sep){var self=this;if($gvars[","]==null)$gvars[","]=nil;if(sep==null)sep=nil;if($truthy(self.length===0)){return""}if($truthy(sep===nil)){sep=$gvars[","]}var result=[];var i,length,item,tmp;for(i=0,length=self.length;i<length;i++){item=self[i];if($respond_to(item,"$to_str")){tmp=item.$to_str();if(tmp!==nil){result.push(tmp.$to_s());continue}}if($respond_to(item,"$to_ary")){tmp=item.$to_ary();if(tmp===self){$Kernel.$raise($$$("ArgumentError"))}if(tmp!==nil){result.push(tmp.$join(sep));continue}}if($respond_to(item,"$to_s")){tmp=item.$to_s();if(tmp!==nil){result.push(tmp);continue}}$Kernel.$raise($$$("NoMethodError").$new(""+$$("Opal").$inspect(self.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}if(sep===nil){return result.join("")}else{return result.join($Opal["$coerce_to!"](sep,$$$("String"),"to_str").$to_s())}}),-1);$def(self,"$keep_if",(function $$keep_if(){var block=$$keep_if.$$p||nil,self=this;delete $$keep_if.$$p;if(!(block!==nil)){return $send(self,"enum_for",["keep_if"],(function $$33(){var self=$$33.$$s==null?this:$$33.$$s;return self.$size()}),{$$arity:0,$$s:self})}filterIf(self,$truthy,block);return self}),0);$def(self,"$last",(function $$last(count){var self=this;if(count==null){return self.length===0?nil:self[self.length-1]}count=$coerce_to(count,$$$("Integer"),"to_int");if(count<0){$Kernel.$raise($$$("ArgumentError"),"negative array size")}if(count>self.length){count=self.length}return self.slice(self.length-count,self.length)}),-1);$def(self,"$length",(function $$length(){var self=this;return self.length}),0);$def(self,"$max",(function $$max(n){var block=$$max.$$p||nil,self=this;delete $$max.$$p;return $send(self.$each(),"max",[n],block.$to_proc())}),-1);$def(self,"$min",(function $$min(){var block=$$min.$$p||nil,self=this;delete $$min.$$p;return $send(self.$each(),"min",[],block.$to_proc())}),0);function descending_factorial(from,how_many){var count=how_many>=0?1:0;while(how_many){count*=from;from--;how_many--}return count}$def(self,"$permutation",(function $$permutation(num){var block=$$permutation.$$p||nil,self=this,perm=nil,used=nil;delete $$permutation.$$p;if(!(block!==nil)){return $send(self,"enum_for",["permutation",num],(function $$34(){var self=$$34.$$s==null?this:$$34.$$s;return descending_factorial(self.length,num===undefined?self.length:num)}),{$$arity:0,$$s:self})}var permute,offensive,output;if(num===undefined){num=self.length}else{num=$coerce_to(num,$$$("Integer"),"to_int")}if(num<0||self.length<num){}else if(num===0){Opal.yield1(block,[])}else if(num===1){for(var i=0;i<self.length;i++){Opal.yield1(block,[self[i]])}}else{perm=$$("Array").$new(num);used=$$("Array").$new(self.length,false);permute=function(num,perm,index,used,blk){self=this;for(var i=0;i<self.length;i++){if(used["$[]"](i)["$!"]()){perm[index]=i;if(index<num-1){used[i]=true;permute.call(self,num,perm,index+1,used,blk);used[i]=false}else{output=[];for(var j=0;j<perm.length;j++){output.push(self[perm[j]])}$yield1(blk,output)}}}};if(block!==nil){offensive=self.slice();permute.call(offensive,num,perm,0,used,block)}else{permute.call(self,num,perm,0,used,block)}}return self}),-1);$def(self,"$repeated_permutation",(function $$repeated_permutation(n){var $yield=$$repeated_permutation.$$p||nil,self=this,num=nil;delete $$repeated_permutation.$$p;num=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if(!($yield!==nil)){return $send(self,"enum_for",["repeated_permutation",num],(function $$35(){var self=$$35.$$s==null?this:$$35.$$s;if($truthy($rb_ge(num,0))){return self.$size()["$**"](num)}else{return 0}}),{$$arity:0,$$s:self})}function iterate(max,buffer,self){if(buffer.length==max){var copy=buffer.slice();Opal.yield1($yield,copy);return}for(var i=0;i<self.length;i++){buffer.push(self[i]);iterate(max,buffer,self);buffer.pop()}}iterate(num,[],self.slice());return self}),1);$def(self,"$pop",(function $$pop(count){var self=this;if($truthy(count===undefined)){if($truthy(self.length===0)){return nil}return self.pop()}count=$coerce_to(count,$$$("Integer"),"to_int");if($truthy(count<0)){$Kernel.$raise($$$("ArgumentError"),"negative array size")}if($truthy(self.length===0)){return[]}if($truthy(count===1)){return[self.pop()]}else if($truthy(count>self.length)){return self.splice(0,self.length)}else{return self.splice(self.length-count,self.length)}}),-1);$def(self,"$product",(function $$product($a){var block=$$product.$$p||nil,$post_args,args,self=this;delete $$product.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;var result=block!==nil?null:[],n=args.length+1,counters=new Array(n),lengths=new Array(n),arrays=new Array(n),i,m,subarray,len,resultlen=1;arrays[0]=self;for(i=1;i<n;i++){arrays[i]=$coerce_to(args[i-1],$$$("Array"),"to_ary")}for(i=0;i<n;i++){len=arrays[i].length;if(len===0){return result||self}resultlen*=len;if(resultlen>2147483647){$Kernel.$raise($$$("RangeError"),"too big to product")}lengths[i]=len;counters[i]=0}outer_loop:for(;;){subarray=[];for(i=0;i<n;i++){subarray.push(arrays[i][counters[i]])}if(result){result.push(subarray)}else{Opal.yield1(block,subarray)}m=n-1;counters[m]++;while(counters[m]===lengths[m]){counters[m]=0;if(--m<0)break outer_loop;counters[m]++}}return result||self}),-1);$def(self,"$push",(function $$push($a){var $post_args,objects,self=this;$post_args=Opal.slice.call(arguments);objects=$post_args;for(var i=0,length=objects.length;i<length;i++){self.push(objects[i])}return self}),-1);$def(self,"$rassoc",(function $$rassoc(object){var self=this;for(var i=0,length=self.length,item;i<length;i++){item=self[i];if(item.length&&item[1]!==undefined){if(item[1]["$=="](object)){return item}}}return nil}),1);$def(self,"$reject",(function $$reject(){var block=$$reject.$$p||nil,self=this;delete $$reject.$$p;if(!(block!==nil)){return $send(self,"enum_for",["reject"],(function $$36(){var self=$$36.$$s==null?this:$$36.$$s;return self.$size()}),{$$arity:0,$$s:self})}var result=[];for(var i=0,length=self.length,value;i<length;i++){value=block(self[i]);if(value===false||value===nil){result.push(self[i])}}return result}),0);$def(self,"$reject!",(function $Array_reject$excl$37(){var block=$Array_reject$excl$37.$$p||nil,self=this,original=nil;delete $Array_reject$excl$37.$$p;if(!(block!==nil)){return $send(self,"enum_for",["reject!"],(function $$38(){var self=$$38.$$s==null?this:$$38.$$s;return self.$size()}),{$$arity:0,$$s:self})}original=self.$length();$send(self,"delete_if",[],block.$to_proc());if($eqeq(self.$length(),original)){return nil}else{return self}}),0);$def(self,"$replace",(function $$replace(other){var self=this;other=$eqeqeq($$$("Array"),other)?other.$to_a():$coerce_to(other,$$$("Array"),"to_ary").$to_a();self.splice(0,self.length);self.push.apply(self,other);return self}),1);$def(self,"$reverse",(function $$reverse(){var self=this;return self.slice(0).reverse()}),0);$def(self,"$reverse!",(function $Array_reverse$excl$39(){var self=this;return self.reverse()}),0);$def(self,"$reverse_each",(function $$reverse_each(){var block=$$reverse_each.$$p||nil,self=this;delete $$reverse_each.$$p;if(!(block!==nil)){return $send(self,"enum_for",["reverse_each"],(function $$40(){var self=$$40.$$s==null?this:$$40.$$s;return self.$size()}),{$$arity:0,$$s:self})}$send(self.$reverse(),"each",[],block.$to_proc());return self}),0);$def(self,"$rindex",(function $$rindex(object){var block=$$rindex.$$p||nil,self=this;delete $$rindex.$$p;var i,value;if(object!=null&&block!==nil){self.$warn("warning: given block not used")}if(object!=null){for(i=self.length-1;i>=0;i--){if(i>=self.length){break}if(self[i]["$=="](object)){return i}}}else if(block!==nil){for(i=self.length-1;i>=0;i--){if(i>=self.length){break}value=block(self[i]);if(value!==false&&value!==nil){return i}}}else if(object==null){return self.$enum_for("rindex")}return nil}),-1);$def(self,"$rotate",(function $$rotate(n){var self=this;if(n==null)n=1;var ary,idx,firstPart,lastPart;n=$coerce_to(n,$$$("Integer"),"to_int");if(self.length===1){return self.slice()}if(self.length===0){return[]}ary=self.slice();idx=n%ary.length;firstPart=ary.slice(idx);lastPart=ary.slice(0,idx);return firstPart.concat(lastPart)}),-1);$def(self,"$rotate!",(function $Array_rotate$excl$41(cnt){var self=this,ary=nil;if(cnt==null)cnt=1;if(self.length===0||self.length===1){return self}cnt=$coerce_to(cnt,$$$("Integer"),"to_int");ary=self.$rotate(cnt);return self.$replace(ary)}),-1);(function($base,$super){var self=$klass($base,$super,"SampleRandom");var $proto=self.$$prototype;$proto.rng=nil;$def(self,"$initialize",$assign_ivar("rng"),0);return $def(self,"$rand",(function $$rand(size){var self=this,random=nil;random=$coerce_to(self.rng.$rand(size),$$$("Integer"),"to_int");if($truthy(random<0)){$Kernel.$raise($$$("RangeError"),"random value must be >= 0")}if(!$truthy(random<size)){$Kernel.$raise($$$("RangeError"),"random value must be less than Array size")}return random}),1)})(self,null);$def(self,"$sample",(function $$sample(count,options){var self=this,o=nil,rng=nil;if($truthy(count===undefined)){return self.$at($Kernel.$rand(self.length))}if($truthy(options===undefined)){if($truthy(o=$Opal["$coerce_to?"](count,$$$("Hash"),"to_hash"))){options=o;count=nil}else{options=nil;count=$coerce_to(count,$$$("Integer"),"to_int")}}else{count=$coerce_to(count,$$$("Integer"),"to_int");options=$coerce_to(options,$$$("Hash"),"to_hash")}if($truthy(count)&&$truthy(count<0)){$Kernel.$raise($$$("ArgumentError"),"count must be greater than 0")}if($truthy(options)){rng=options["$[]"]("random")}rng=$truthy(rng)&&$truthy(rng["$respond_to?"]("rand"))?$$("SampleRandom").$new(rng):$Kernel;if(!$truthy(count)){return self[rng.$rand(self.length)]}var abandon,spin,result,i,j,k,targetIndex,oldValue;if(count>self.length){count=self.length}switch(count){case 0:return[];break;case 1:return[self[rng.$rand(self.length)]];break;case 2:i=rng.$rand(self.length);j=rng.$rand(self.length);if(i===j){j=i===0?i+1:i-1}return[self[i],self[j]];break;default:if(self.length/count>3){abandon=false;spin=0;result=$$("Array").$new(count);i=1;result[0]=rng.$rand(self.length);while(i<count){k=rng.$rand(self.length);j=0;while(j<i){while(k===result[j]){spin++;if(spin>100){abandon=true;break}k=rng.$rand(self.length)}if(abandon){break}j++}if(abandon){break}result[i]=k;i++}if(!abandon){i=0;while(i<count){result[i]=self[result[i]];i++}return result}}result=self.slice();for(var c=0;c<count;c++){targetIndex=rng.$rand(self.length);oldValue=result[c];result[c]=result[targetIndex];result[targetIndex]=oldValue}return count===self.length?result:result["$[]"](0,count)}}),-1);$def(self,"$select",(function $$select(){var block=$$select.$$p||nil,self=this;delete $$select.$$p;if(!(block!==nil)){return $send(self,"enum_for",["select"],(function $$42(){var self=$$42.$$s==null?this:$$42.$$s;return self.$size()}),{$$arity:0,$$s:self})}var result=[];for(var i=0,length=self.length,item,value;i<length;i++){item=self[i];value=$yield1(block,item);if($truthy(value)){result.push(item)}}return result}),0);$def(self,"$select!",(function $Array_select$excl$43(){var block=$Array_select$excl$43.$$p||nil,self=this;delete $Array_select$excl$43.$$p;if(!(block!==nil)){return $send(self,"enum_for",["select!"],(function $$44(){var self=$$44.$$s==null?this:$$44.$$s;return self.$size()}),{$$arity:0,$$s:self})}var original=self.length;$send(self,"keep_if",[],block.$to_proc());return self.length===original?nil:self}),0);$def(self,"$shift",(function $$shift(count){var self=this;if($truthy(count===undefined)){if($truthy(self.length===0)){return nil}return shiftNoArg(self)}count=$coerce_to(count,$$$("Integer"),"to_int");if($truthy(count<0)){$Kernel.$raise($$$("ArgumentError"),"negative array size")}if($truthy(self.length===0)){return[]}return self.splice(0,count)}),-1);$def(self,"$shuffle",(function $$shuffle(rng){var self=this;return self.$dup().$to_a()["$shuffle!"](rng)}),-1);$def(self,"$shuffle!",(function $Array_shuffle$excl$45(rng){var self=this;var randgen,i=self.length,j,tmp;if(rng!==undefined){rng=$Opal["$coerce_to?"](rng,$$$("Hash"),"to_hash");if(rng!==nil){rng=rng["$[]"]("random");if(rng!==nil&&rng["$respond_to?"]("rand")){randgen=rng}}}while(i){if(randgen){j=randgen.$rand(i).$to_int();if(j<0){$Kernel.$raise($$$("RangeError"),"random number too small "+j)}if(j>=i){$Kernel.$raise($$$("RangeError"),"random number too big "+j)}}else{j=self.$rand(i)}tmp=self[--i];self[i]=self[j];self[j]=tmp}return self}),-1);$def(self,"$slice!",(function $Array_slice$excl$46(index,length){var self=this,result=nil,range=nil,range_start=nil,range_end=nil,start=nil;result=nil;if($truthy(length===undefined)){if($eqeqeq($$$("Range"),index)){range=index;result=self["$[]"](range);range_start=range.begin===nil?0:$coerce_to(range.begin,$$$("Integer"),"to_int");range_end=range.end===nil?-1:$coerce_to(range.end,$$$("Integer"),"to_int");if(range_start<0){range_start+=self.length}if(range_end<0){range_end+=self.length}else if(range_end>=self.length){range_end=self.length-1;if(range.excl){range_end+=1}}var range_length=range_end-range_start;if(range.excl&&range.end!==nil){range_end-=1}else{range_length+=1}if(range_start<self.length&&range_start>=0&&range_end<self.length&&range_end>=0&&range_length>0){self.splice(range_start,range_length)}}else{start=$coerce_to(index,$$$("Integer"),"to_int");if(start<0){start+=self.length}if(start<0||start>=self.length){return nil}result=self[start];if(start===0){self.shift()}else{self.splice(start,1)}}}else{start=$coerce_to(index,$$$("Integer"),"to_int");length=$coerce_to(length,$$$("Integer"),"to_int");if(length<0){return nil}var end=start+length;result=self["$[]"](start,length);if(start<0){start+=self.length}if(start+length>self.length){length=self.length-start}if(start<self.length&&start>=0){self.splice(start,length)}}return result}),-2);$def(self,"$sort",(function $$sort(){var block=$$sort.$$p||nil,self=this;delete $$sort.$$p;if(!$truthy(self.length>1)){return self}if(block===nil){block=function(a,b){return a["$<=>"](b)}}return self.slice().sort((function(x,y){var ret=block(x,y);if(ret===nil){$Kernel.$raise($$$("ArgumentError"),"comparison of "+x.$inspect()+" with "+y.$inspect()+" failed")}return $rb_gt(ret,0)?1:$rb_lt(ret,0)?-1:0}))}),0);$def(self,"$sort!",(function $Array_sort$excl$47(){var block=$Array_sort$excl$47.$$p||nil,self=this;delete $Array_sort$excl$47.$$p;var result;if(block!==nil){result=$send(self.slice(),"sort",[],block.$to_proc())}else{result=self.slice().$sort()}self.length=0;for(var i=0,length=result.length;i<length;i++){self.push(result[i])}return self}),0);$def(self,"$sort_by!",(function $Array_sort_by$excl$48(){var block=$Array_sort_by$excl$48.$$p||nil,self=this;delete $Array_sort_by$excl$48.$$p;if(!(block!==nil)){return $send(self,"enum_for",["sort_by!"],(function $$49(){var self=$$49.$$s==null?this:$$49.$$s;return self.$size()}),{$$arity:0,$$s:self})}return self.$replace($send(self,"sort_by",[],block.$to_proc()))}),0);$def(self,"$take",(function $$take(count){var self=this;if(count<0){$Kernel.$raise($$$("ArgumentError"))}return self.slice(0,count)}),1);$def(self,"$take_while",(function $$take_while(){var block=$$take_while.$$p||nil,self=this;delete $$take_while.$$p;var result=[];for(var i=0,length=self.length,item,value;i<length;i++){item=self[i];value=block(item);if(value===false||value===nil){return result}result.push(item)}return result}),0);$def(self,"$to_a",(function $$to_a(){var self=this;if(self.$$class===Opal.Array){return self}else{return Opal.Array.$new(self)}}),0);$def(self,"$to_ary",$return_self,0);$def(self,"$to_h",(function $$to_h(){var block=$$to_h.$$p||nil,self=this,array=nil;delete $$to_h.$$p;array=self;if(block!==nil){array=$send(array,"map",[],block.$to_proc())}var i,len=array.length,ary,key,val,hash=$hash2([],{});for(i=0;i<len;i++){ary=$Opal["$coerce_to?"](array[i],$$$("Array"),"to_ary");if(!ary.$$is_array){$Kernel.$raise($$$("TypeError"),"wrong element type "+ary.$class()+" at "+i+" (expected array)")}if(ary.length!==2){$Kernel.$raise($$$("ArgumentError"),"wrong array length at "+i+" (expected 2, was "+ary.$length()+")")}key=ary[0];val=ary[1];$hash_put(hash,key,val)}return hash}),0);$def(self,"$transpose",(function $$transpose(){var self=this,result=nil,max=nil;if($truthy(self["$empty?"]())){return[]}result=[];max=nil;$send(self,"each",[],(function $$50(row){var $ret_or_1=nil;if(row==null)row=nil;row=$eqeqeq($$$("Array"),row)?row.$to_a():$coerce_to(row,$$$("Array"),"to_ary").$to_a();max=$truthy($ret_or_1=max)?$ret_or_1:row.length;if($neqeq(row.length,max)){$Kernel.$raise($$$("IndexError"),"element size differs ("+row.length+" should be "+max+")")}return $send(row.length,"times",[],(function $$51(i){var $a,entry=nil;if(i==null)i=nil;entry=$truthy($ret_or_1=result["$[]"](i))?$ret_or_1:($a=[i,[]],$send(result,"[]=",$a),$a[$a.length-1]);return entry["$<<"](row.$at(i))}),1)}),1);return result}),0);$def(self,"$union",(function $$union($a){var $post_args,arrays,self=this;$post_args=Opal.slice.call(arguments);arrays=$post_args;return $send(arrays,"reduce",[self.$uniq()],(function $$52(a,b){if(a==null)a=nil;if(b==null)b=nil;return a["$|"](b)}),2)}),-1);$def(self,"$uniq",(function $$uniq(){var block=$$uniq.$$p||nil,self=this;delete $$uniq.$$p;var hash=$hash2([],{}),i,length,item,key;if(block===nil){for(i=0,length=self.length;i<length;i++){item=self[i];if($hash_get(hash,item)===undefined){$hash_put(hash,item,item)}}}else{for(i=0,length=self.length;i<length;i++){item=self[i];key=$yield1(block,item);if($hash_get(hash,key)===undefined){$hash_put(hash,key,item)}}}return hash.$values()}),0);$def(self,"$uniq!",(function $Array_uniq$excl$53(){var block=$Array_uniq$excl$53.$$p||nil,self=this;delete $Array_uniq$excl$53.$$p;var original_length=self.length,hash=$hash2([],{}),i,length,item,key;for(i=0,length=original_length;i<length;i++){item=self[i];key=block===nil?item:$yield1(block,item);if($hash_get(hash,key)===undefined){$hash_put(hash,key,item);continue}self.splice(i,1);length--;i--}return self.length===original_length?nil:self}),0);$def(self,"$unshift",(function $$unshift($a){var $post_args,objects,self=this;$post_args=Opal.slice.call(arguments);objects=$post_args;var selfLength=self.length;var objectsLength=objects.length;if(objectsLength==0)return self;var index=selfLength-objectsLength;for(var i=0;i<objectsLength;i++){self.push(self[index+i])}var len=selfLength-1;while(len-objectsLength>=0){self[len]=self[len-objectsLength];len--}for(var j=0;j<objectsLength;j++){self[j]=objects[j]}return self}),-1);$def(self,"$values_at",(function $$values_at($a){var $post_args,args,self=this,out=nil;$post_args=Opal.slice.call(arguments);args=$post_args;out=[];$send(args,"each",[],(function $$54(elem){var self=$$54.$$s==null?this:$$54.$$s,finish=nil,start=nil,i=nil;if(elem==null)elem=nil;if($truthy(elem["$is_a?"]($$$("Range")))){finish=elem.$end()===nil?-1:$coerce_to(elem.$end(),$$$("Integer"),"to_int");start=elem.$begin()===nil?0:$coerce_to(elem.$begin(),$$$("Integer"),"to_int");if(start<0){start=start+self.length;return nil}if(finish<0){finish=finish+self.length}if(elem["$exclude_end?"]()&&elem.$end()!==nil){finish--}if(finish<start){return nil}return $send(start,"upto",[finish],(function $$55(i){var self=$$55.$$s==null?this:$$55.$$s;if(i==null)i=nil;return out["$<<"](self.$at(i))}),{$$arity:1,$$s:self})}else{i=$coerce_to(elem,$$$("Integer"),"to_int");return out["$<<"](self.$at(i))}}),{$$arity:1,$$s:self});return out}),-1);$def(self,"$zip",(function $$zip($a){var block=$$zip.$$p||nil,$post_args,others,self=this,$ret_or_1=nil;delete $$zip.$$p;$post_args=Opal.slice.call(arguments);others=$post_args;var result=[],size=self.length,part,o,i,j,jj;for(j=0,jj=others.length;j<jj;j++){o=others[j];if(o.$$is_array){continue}if(o.$$is_range||o.$$is_enumerator){others[j]=o.$take(size);continue}others[j]=($truthy($ret_or_1=$Opal["$coerce_to?"](o,$$$("Array"),"to_ary"))?$ret_or_1:$Opal["$coerce_to!"](o,$$$("Enumerator"),"to_enum","each")).$to_a()}for(i=0;i<size;i++){part=[self[i]];for(j=0,jj=others.length;j<jj;j++){o=others[j][i];if(o==null){o=nil}part[j+1]=o}result[i]=part}if(block!==nil){for(i=0;i<size;i++){Opal.yield1(block,result[i])}return nil}return result}),-1);$defs(self,"$inherited",(function $$inherited(klass){klass.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),1);$def(self,"$instance_variables",(function $$instance_variables(){var $yield=$$instance_variables.$$p||nil,self=this;delete $$instance_variables.$$p;return $send($send2(self,$find_super(self,"instance_variables",$$instance_variables,false,true),"instance_variables",[],$yield),"reject",[],(function $$56(ivar){var $ret_or_1=nil;if(ivar==null)ivar=nil;if($truthy($ret_or_1=/^@\d+$/.test(ivar))){return $ret_or_1}else{return ivar["$=="]("@length")}}),1)}),0);$def(self,"$pack",(function $$pack($a){var $post_args,args;$post_args=Opal.slice.call(arguments);args=$post_args;return $Kernel.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")}),-1);$alias(self,"append","push");$alias(self,"filter","select");$alias(self,"filter!","select!");$alias(self,"map","collect");$alias(self,"map!","collect!");$alias(self,"prepend","unshift");$alias(self,"size","length");$alias(self,"slice","[]");$alias(self,"to_s","inspect");$Opal.$pristine(self.$singleton_class(),"allocate");return $Opal.$pristine(self,"copy_instance_variables","initialize_dup")}("::",Array,$nesting)};Opal.modules["corelib/hash"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$yield1=Opal.yield1,$hash=Opal.hash,$hash_init=Opal.hash_init,$hash_get=Opal.hash_get,$hash_put=Opal.hash_put,$hash_delete=Opal.hash_delete,$klass=Opal.klass,$Opal=Opal.Opal,$Kernel=Opal.Kernel,$defs=Opal.defs,$def=Opal.def,$send=Opal.send,$rb_ge=Opal.rb_ge,$rb_gt=Opal.rb_gt,$hash2=Opal.hash2,$truthy=Opal.truthy,$to_a=Opal.to_a,$return_self=Opal.return_self,$alias=Opal.alias;Opal.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?");self.$require("corelib/enumerable");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Hash");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);self.$include($$$("Enumerable"));self.$$prototype.$$is_hash=true;$defs(self,"$[]",(function $Hash_$$$1($a){var $post_args,argv,self=this;$post_args=Opal.slice.call(arguments);argv=$post_args;var hash,argc=argv.length,i;if(argc===1){hash=$Opal["$coerce_to?"](argv["$[]"](0),$$$("Hash"),"to_hash");if(hash!==nil){return self.$allocate()["$merge!"](hash)}argv=$Opal["$coerce_to?"](argv["$[]"](0),$$$("Array"),"to_ary");if(argv===nil){$Kernel.$raise($$$("ArgumentError"),"odd number of arguments for Hash")}argc=argv.length;hash=self.$allocate();for(i=0;i<argc;i++){if(!argv[i].$$is_array)continue;switch(argv[i].length){case 1:hash.$store(argv[i][0],nil);break;case 2:hash.$store(argv[i][0],argv[i][1]);break;default:$Kernel.$raise($$$("ArgumentError"),"invalid number of elements ("+argv[i].length+" for 1..2)")}}return hash}if(argc%2!==0){$Kernel.$raise($$$("ArgumentError"),"odd number of arguments for Hash")}hash=self.$allocate();for(i=0;i<argc;i+=2){hash.$store(argv[i],argv[i+1])}return hash}),-1);$defs(self,"$allocate",(function $$allocate(){var self=this;var hash=new self.$$constructor;$hash_init(hash);hash.$$none=nil;hash.$$proc=nil;return hash}),0);$defs(self,"$try_convert",(function $$try_convert(obj){return $Opal["$coerce_to?"](obj,$$$("Hash"),"to_hash")}),1);$def(self,"$initialize",(function $$initialize(defaults){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(defaults!==undefined&&block!==nil){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (1 for 0)")}self.$$none=defaults===undefined?nil:defaults;self.$$proc=block;return self}),-1);$def(self,"$==",(function $Hash_$eq_eq$2(other){var self=this;if(self===other){return true}if(!other.$$is_hash){return false}if(self.$$keys.length!==other.$$keys.length){return false}for(var i=0,keys=self.$$keys,length=keys.length,key,value,other_value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key];other_value=other.$$smap[key]}else{value=key.value;other_value=$hash_get(other,key.key)}if(other_value===undefined||!value["$eql?"](other_value)){return false}}return true}),1);$def(self,"$>=",(function $Hash_$gt_eq$3(other){var self=this,result=nil;other=$Opal["$coerce_to!"](other,$$$("Hash"),"to_hash");if(self.$$keys.length<other.$$keys.length){return false}result=true;$send(other,"each",[],(function $$4(other_key,other_val){var self=$$4.$$s==null?this:$$4.$$s,val=nil;if(other_key==null)other_key=nil;if(other_val==null)other_val=nil;val=self.$fetch(other_key,null);if(val==null||val!==other_val){result=false;return}}),{$$arity:2,$$s:self});return result}),1);$def(self,"$>",(function $Hash_$gt$5(other){var self=this;other=$Opal["$coerce_to!"](other,$$$("Hash"),"to_hash");if(self.$$keys.length<=other.$$keys.length){return false}return $rb_ge(self,other)}),1);$def(self,"$<",(function $Hash_$lt$6(other){var self=this;other=$Opal["$coerce_to!"](other,$$$("Hash"),"to_hash");return $rb_gt(other,self)}),1);$def(self,"$<=",(function $Hash_$lt_eq$7(other){var self=this;other=$Opal["$coerce_to!"](other,$$$("Hash"),"to_hash");return $rb_ge(other,self)}),1);$def(self,"$[]",(function $Hash_$$$8(key){var self=this;var value=$hash_get(self,key);if(value!==undefined){return value}return self.$default(key)}),1);$def(self,"$[]=",(function $Hash_$$$eq$9(key,value){var self=this;$hash_put(self,key,value);return value}),2);$def(self,"$assoc",(function $$assoc(object){var self=this;for(var i=0,keys=self.$$keys,length=keys.length,key;i<length;i++){key=keys[i];if(key.$$is_string){if(key["$=="](object)){return[key,self.$$smap[key]]}}else{if(key.key["$=="](object)){return[key.key,key.value]}}}return nil}),1);$def(self,"$clear",(function $$clear(){var self=this;$hash_init(self);return self}),0);$def(self,"$clone",(function $$clone(){var self=this;var hash=new self.$$class;$hash_init(hash);Opal.hash_clone(self,hash);return hash}),0);$def(self,"$compact",(function $$compact(){var self=this;var hash=$hash();for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}if(value!==nil){$hash_put(hash,key,value)}}return hash}),0);$def(self,"$compact!",(function $Hash_compact$excl$10(){var self=this;var changes_were_made=false;for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}if(value===nil){if($hash_delete(self,key)!==undefined){changes_were_made=true;length--;i--}}}return changes_were_made?self:nil}),0);$def(self,"$compare_by_identity",(function $$compare_by_identity(){var self=this;var i,ii,key,keys=self.$$keys,identity_hash;if(self.$$by_identity)return self;if(self.$$keys.length===0){self.$$by_identity=true;return self}identity_hash=$hash2([],{}).$compare_by_identity();for(i=0,ii=keys.length;i<ii;i++){key=keys[i];if(!key.$$is_string)key=key.key;$hash_put(identity_hash,key,$hash_get(self,key))}self.$$by_identity=true;self.$$map=identity_hash.$$map;self.$$smap=identity_hash.$$smap;return self}),0);$def(self,"$compare_by_identity?",(function $Hash_compare_by_identity$ques$11(){var self=this;return self.$$by_identity===true}),0);$def(self,"$default",(function $Hash_default$12(key){var self=this;if(key!==undefined&&self.$$proc!==nil&&self.$$proc!==undefined){return self.$$proc.$call(self,key)}if(self.$$none===undefined){return nil}return self.$$none}),-1);$def(self,"$default=",(function $Hash_default$eq$13(object){var self=this;self.$$proc=nil;self.$$none=object;return object}),1);$def(self,"$default_proc",(function $$default_proc(){var self=this;if(self.$$proc!==undefined){return self.$$proc}return nil}),0);$def(self,"$default_proc=",(function $Hash_default_proc$eq$14(default_proc){var self=this;var proc=default_proc;if(proc!==nil){proc=$Opal["$coerce_to!"](proc,$$$("Proc"),"to_proc");if(proc["$lambda?"]()&&proc.$arity().$abs()!==2){$Kernel.$raise($$$("TypeError"),"default_proc takes two arguments")}}self.$$none=nil;self.$$proc=proc;return default_proc}),1);$def(self,"$delete",(function $Hash_delete$15(key){var block=$Hash_delete$15.$$p||nil,self=this;delete $Hash_delete$15.$$p;var value=$hash_delete(self,key);if(value!==undefined){return value}if(block!==nil){return Opal.yield1(block,key)}return nil}),1);$def(self,"$delete_if",(function $$delete_if(){var block=$$delete_if.$$p||nil,self=this;delete $$delete_if.$$p;if(!$truthy(block)){return $send(self,"enum_for",["delete_if"],(function $$16(){var self=$$16.$$s==null?this:$$16.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}obj=block(key,value);if(obj!==false&&obj!==nil){if($hash_delete(self,key)!==undefined){length--;i--}}}return self}),0);$def(self,"$dig",(function $$dig(key,$a){var $post_args,keys,self=this,item=nil;$post_args=Opal.slice.call(arguments,1);keys=$post_args;item=self["$[]"](key);if(item===nil||keys.length===0){return item}if(!$truthy(item["$respond_to?"]("dig"))){$Kernel.$raise($$$("TypeError"),""+item.$class()+" does not have #dig method")}return $send(item,"dig",$to_a(keys))}),-2);$def(self,"$each",(function $$each(){var block=$$each.$$p||nil,self=this;delete $$each.$$p;if(!$truthy(block)){return $send(self,"enum_for",["each"],(function $$17(){var self=$$17.$$s==null?this:$$17.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,keys=self.$$keys.slice(),length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}$yield1(block,[key,value])}return self}),0);$def(self,"$each_key",(function $$each_key(){var block=$$each_key.$$p||nil,self=this;delete $$each_key.$$p;if(!$truthy(block)){return $send(self,"enum_for",["each_key"],(function $$18(){var self=$$18.$$s==null?this:$$18.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,keys=self.$$keys.slice(),length=keys.length,key;i<length;i++){key=keys[i];block(key.$$is_string?key:key.key)}return self}),0);$def(self,"$each_value",(function $$each_value(){var block=$$each_value.$$p||nil,self=this;delete $$each_value.$$p;if(!$truthy(block)){return $send(self,"enum_for",["each_value"],(function $$19(){var self=$$19.$$s==null?this:$$19.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,keys=self.$$keys,length=keys.length,key;i<length;i++){key=keys[i];block(key.$$is_string?self.$$smap[key]:key.value)}return self}),0);$def(self,"$empty?",(function $Hash_empty$ques$20(){var self=this;return self.$$keys.length===0}),0);$def(self,"$except",(function $$except($a){var $post_args,keys,self=this;$post_args=Opal.slice.call(arguments);keys=$post_args;return $send(self.$dup(),"except!",$to_a(keys))}),-1);$def(self,"$except!",(function $Hash_except$excl$21($a){var $post_args,keys,self=this;$post_args=Opal.slice.call(arguments);keys=$post_args;$send(keys,"each",[],(function $$22(key){var self=$$22.$$s==null?this:$$22.$$s;if(key==null)key=nil;return self.$delete(key)}),{$$arity:1,$$s:self});return self}),-1);$def(self,"$fetch",(function $$fetch(key,defaults){var block=$$fetch.$$p||nil,self=this;delete $$fetch.$$p;var value=$hash_get(self,key);if(value!==undefined){return value}if(block!==nil){return block(key)}if(defaults!==undefined){return defaults}return $Kernel.$raise($$$("KeyError").$new("key not found: "+key.$inspect(),$hash2(["key","receiver"],{key:key,receiver:self})))}),-2);$def(self,"$fetch_values",(function $$fetch_values($a){var block=$$fetch_values.$$p||nil,$post_args,keys,self=this;delete $$fetch_values.$$p;$post_args=Opal.slice.call(arguments);keys=$post_args;return $send(keys,"map",[],(function $$23(key){var self=$$23.$$s==null?this:$$23.$$s;if(key==null)key=nil;return $send(self,"fetch",[key],block.$to_proc())}),{$$arity:1,$$s:self})}),-1);$def(self,"$flatten",(function $$flatten(level){var self=this;if(level==null)level=1;level=$Opal["$coerce_to!"](level,$$$("Integer"),"to_int");var result=[];for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}result.push(key);if(value.$$is_array){if(level===1){result.push(value);continue}result=result.concat(value.$flatten(level-2));continue}result.push(value)}return result}),-1);$def(self,"$has_key?",(function $Hash_has_key$ques$24(key){var self=this;return $hash_get(self,key)!==undefined}),1);$def(self,"$has_value?",(function $Hash_has_value$ques$25(value){var self=this;for(var i=0,keys=self.$$keys,length=keys.length,key;i<length;i++){key=keys[i];if((key.$$is_string?self.$$smap[key]:key.value)["$=="](value)){return true}}return false}),1);$def(self,"$hash",(function $$hash(){var self=this;var top=Opal.hash_ids===undefined,hash_id=self.$object_id(),result=["Hash"],key,item;try{if(top){Opal.hash_ids=Object.create(null)}if(Opal[hash_id]){return"self"}for(key in Opal.hash_ids){item=Opal.hash_ids[key];if(self["$eql?"](item)){return"self"}}Opal.hash_ids[hash_id]=self;for(var i=0,keys=self.$$keys,length=keys.length;i<length;i++){key=keys[i];if(key.$$is_string){result.push([key,self.$$smap[key].$hash()])}else{result.push([key.key_hash,key.value.$hash()])}}return result.sort().join()}finally{if(top){Opal.hash_ids=undefined}}}),0);$def(self,"$index",(function $$index(object){var self=this;for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}if(value["$=="](object)){return key}}return nil}),1);$def(self,"$indexes",(function $$indexes($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;var result=[];for(var i=0,length=args.length,key,value;i<length;i++){key=args[i];value=$hash_get(self,key);if(value===undefined){result.push(self.$default());continue}result.push(value)}return result}),-1);var inspect_ids;$def(self,"$inspect",(function $$inspect(){var self=this;var top=inspect_ids===undefined,hash_id=self.$object_id(),result=[];return function(){try{if(top){inspect_ids={}}if(inspect_ids.hasOwnProperty(hash_id)){return"{...}"}inspect_ids[hash_id]=true;for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}key=$$("Opal").$inspect(key);value=$$("Opal").$inspect(value);result.push(key+"=>"+value)}return"{"+result.join(", ")+"}";return nil}finally{if(top)inspect_ids=undefined}}()}),0);$def(self,"$invert",(function $$invert(){var self=this;var hash=$hash();for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}$hash_put(hash,value,key)}return hash}),0);$def(self,"$keep_if",(function $$keep_if(){var block=$$keep_if.$$p||nil,self=this;delete $$keep_if.$$p;if(!$truthy(block)){return $send(self,"enum_for",["keep_if"],(function $$26(){var self=$$26.$$s==null?this:$$26.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}obj=block(key,value);if(obj===false||obj===nil){if($hash_delete(self,key)!==undefined){length--;i--}}}return self}),0);$def(self,"$keys",(function $$keys(){var self=this;var result=[];for(var i=0,keys=self.$$keys,length=keys.length,key;i<length;i++){key=keys[i];if(key.$$is_string){result.push(key)}else{result.push(key.key)}}return result}),0);$def(self,"$length",(function $$length(){var self=this;return self.$$keys.length}),0);$def(self,"$merge",(function $$merge($a){var block=$$merge.$$p||nil,$post_args,others,self=this;delete $$merge.$$p;$post_args=Opal.slice.call(arguments);others=$post_args;return $send(self.$dup(),"merge!",$to_a(others),block.$to_proc())}),-1);$def(self,"$merge!",(function $Hash_merge$excl$27($a){var block=$Hash_merge$excl$27.$$p||nil,$post_args,others,self=this;delete $Hash_merge$excl$27.$$p;$post_args=Opal.slice.call(arguments);others=$post_args;var i,j,other,other_keys,length,key,value,other_value;for(i=0;i<others.length;++i){other=$Opal["$coerce_to!"](others[i],$$$("Hash"),"to_hash");other_keys=other.$$keys,length=other_keys.length;if(block===nil){for(j=0;j<length;j++){key=other_keys[j];if(key.$$is_string){other_value=other.$$smap[key]}else{other_value=key.value;key=key.key}$hash_put(self,key,other_value)}}else{for(j=0;j<length;j++){key=other_keys[j];if(key.$$is_string){other_value=other.$$smap[key]}else{other_value=key.value;key=key.key}value=$hash_get(self,key);if(value===undefined){$hash_put(self,key,other_value);continue}$hash_put(self,key,block(key,value,other_value))}}}return self}),-1);$def(self,"$rassoc",(function $$rassoc(object){var self=this;for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}if(value["$=="](object)){return[key,value]}}return nil}),1);$def(self,"$rehash",(function $$rehash(){var self=this;Opal.hash_rehash(self);return self}),0);$def(self,"$reject",(function $$reject(){var block=$$reject.$$p||nil,self=this;delete $$reject.$$p;if(!$truthy(block)){return $send(self,"enum_for",["reject"],(function $$28(){var self=$$28.$$s==null?this:$$28.$$s;return self.$size()}),{$$arity:0,$$s:self})}var hash=$hash();for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}obj=block(key,value);if(obj===false||obj===nil){$hash_put(hash,key,value)}}return hash}),0);$def(self,"$reject!",(function $Hash_reject$excl$29(){var block=$Hash_reject$excl$29.$$p||nil,self=this;delete $Hash_reject$excl$29.$$p;if(!$truthy(block)){return $send(self,"enum_for",["reject!"],(function $$30(){var self=$$30.$$s==null?this:$$30.$$s;return self.$size()}),{$$arity:0,$$s:self})}var changes_were_made=false;for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}obj=block(key,value);if(obj!==false&&obj!==nil){if($hash_delete(self,key)!==undefined){changes_were_made=true;length--;i--}}}return changes_were_made?self:nil}),0);$def(self,"$replace",(function $$replace(other){var self=this;other=$Opal["$coerce_to!"](other,$$$("Hash"),"to_hash");$hash_init(self);for(var i=0,other_keys=other.$$keys,length=other_keys.length,key,value,other_value;i<length;i++){key=other_keys[i];if(key.$$is_string){other_value=other.$$smap[key]}else{other_value=key.value;key=key.key}$hash_put(self,key,other_value)}if($truthy(other.$default_proc())){self["$default_proc="](other.$default_proc())}else{self["$default="](other.$default())}return self}),1);$def(self,"$select",(function $$select(){var block=$$select.$$p||nil,self=this;delete $$select.$$p;if(!$truthy(block)){return $send(self,"enum_for",["select"],(function $$31(){var self=$$31.$$s==null?this:$$31.$$s;return self.$size()}),{$$arity:0,$$s:self})}var hash=$hash();for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}obj=block(key,value);if(obj!==false&&obj!==nil){$hash_put(hash,key,value)}}return hash}),0);$def(self,"$select!",(function $Hash_select$excl$32(){var block=$Hash_select$excl$32.$$p||nil,self=this;delete $Hash_select$excl$32.$$p;if(!$truthy(block)){return $send(self,"enum_for",["select!"],(function $$33(){var self=$$33.$$s==null?this:$$33.$$s;return self.$size()}),{$$arity:0,$$s:self})}var result=nil;for(var i=0,keys=self.$$keys,length=keys.length,key,value,obj;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}obj=block(key,value);if(obj===false||obj===nil){if($hash_delete(self,key)!==undefined){length--;i--}result=self}}return result}),0);$def(self,"$shift",(function $$shift(){var self=this;var keys=self.$$keys,key;if(keys.length>0){key=keys[0];key=key.$$is_string?key:key.key;return[key,$hash_delete(self,key)]}return self.$default(nil)}),0);$def(self,"$slice",(function $$slice($a){var $post_args,keys,self=this;$post_args=Opal.slice.call(arguments);keys=$post_args;var result=$hash();for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=$hash_get(self,key);if(value!==undefined){$hash_put(result,key,value)}}return result}),-1);$def(self,"$to_a",(function $$to_a(){var self=this;var result=[];for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}result.push([key,value])}return result}),0);$def(self,"$to_h",(function $$to_h(){var block=$$to_h.$$p||nil,self=this;delete $$to_h.$$p;if(block!==nil){return $send(self,"map",[],block.$to_proc()).$to_h()}if(self.$$class===Opal.Hash){return self}var hash=new Opal.Hash;$hash_init(hash);Opal.hash_clone(self,hash);return hash}),0);$def(self,"$to_hash",$return_self,0);$def(self,"$to_proc",(function $$to_proc(){var self=this;return $send(self,"proc",[],(function $$34(key){var self=$$34.$$s==null?this:$$34.$$s;if(key==null){$Kernel.$raise($$$("ArgumentError"),"no key given")}return self["$[]"](key)}),{$$arity:-1,$$s:self})}),0);$def(self,"$transform_keys",(function $$transform_keys(){var block=$$transform_keys.$$p||nil,self=this;delete $$transform_keys.$$p;if(!$truthy(block)){return $send(self,"enum_for",["transform_keys"],(function $$35(){var self=$$35.$$s==null?this:$$35.$$s;return self.$size()}),{$$arity:0,$$s:self})}var result=$hash();for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}key=$yield1(block,key);$hash_put(result,key,value)}return result}),0);$def(self,"$transform_keys!",(function $Hash_transform_keys$excl$36(){var block=$Hash_transform_keys$excl$36.$$p||nil,self=this;delete $Hash_transform_keys$excl$36.$$p;if(!$truthy(block)){return $send(self,"enum_for",["transform_keys!"],(function $$37(){var self=$$37.$$s==null?this:$$37.$$s;return self.$size()}),{$$arity:0,$$s:self})}var keys=Opal.slice.call(self.$$keys),i,length=keys.length,key,value,new_key;for(i=0;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}new_key=$yield1(block,key);$hash_delete(self,key);$hash_put(self,new_key,value)}return self}),0);$def(self,"$transform_values",(function $$transform_values(){var block=$$transform_values.$$p||nil,self=this;delete $$transform_values.$$p;if(!$truthy(block)){return $send(self,"enum_for",["transform_values"],(function $$38(){var self=$$38.$$s==null?this:$$38.$$s;return self.$size()}),{$$arity:0,$$s:self})}var result=$hash();for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}value=$yield1(block,value);$hash_put(result,key,value)}return result}),0);$def(self,"$transform_values!",(function $Hash_transform_values$excl$39(){var block=$Hash_transform_values$excl$39.$$p||nil,self=this;delete $Hash_transform_values$excl$39.$$p;if(!$truthy(block)){return $send(self,"enum_for",["transform_values!"],(function $$40(){var self=$$40.$$s==null?this:$$40.$$s;return self.$size()}),{$$arity:0,$$s:self})}for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}value=$yield1(block,value);$hash_put(self,key,value)}return self}),0);$def(self,"$values",(function $$values(){var self=this;var result=[];for(var i=0,keys=self.$$keys,length=keys.length,key;i<length;i++){key=keys[i];if(key.$$is_string){result.push(self.$$smap[key])}else{result.push(key.value)}}return result}),0);$alias(self,"dup","clone");$alias(self,"each_pair","each");$alias(self,"eql?","==");$alias(self,"filter","select");$alias(self,"filter!","select!");$alias(self,"include?","has_key?");$alias(self,"indices","indexes");$alias(self,"key","index");$alias(self,"key?","has_key?");$alias(self,"member?","has_key?");$alias(self,"size","length");$alias(self,"store","[]=");$alias(self,"to_s","inspect");$alias(self,"update","merge!");$alias(self,"value?","has_value?");return $alias(self,"values_at","indexes")}("::",null,$nesting)};Opal.modules["corelib/number"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$Opal=Opal.Opal,$Kernel=Opal.Kernel,$def=Opal.def,$eqeqeq=Opal.eqeqeq,$truthy=Opal.truthy,$rb_gt=Opal.rb_gt,$not=Opal.not,$rb_lt=Opal.rb_lt,$alias=Opal.alias,$send2=Opal.send2,$find_super=Opal.find_super,$send=Opal.send,$rb_plus=Opal.rb_plus,$rb_minus=Opal.rb_minus,$eqeq=Opal.eqeq,$return_self=Opal.return_self,$rb_divide=Opal.rb_divide,$to_ary=Opal.to_ary,$rb_times=Opal.rb_times,$rb_le=Opal.rb_le,$rb_ge=Opal.rb_ge,$return_val=Opal.return_val,$const_set=Opal.const_set;Opal.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?");self.$require("corelib/numeric");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Number");var $nesting=[self].concat($parent_nesting);$Opal.$bridge(Number,self);Opal.prop(self.$$prototype,"$$is_number",true);self.$$is_number_class=true;(function(self,$parent_nesting){$def(self,"$allocate",(function $$allocate(){var self=this;return $Kernel.$raise($$$("TypeError"),"allocator undefined for "+self.$name())}),0);Opal.udef(self,"$"+"new");return nil})(Opal.get_singleton_class(self),$nesting);$def(self,"$coerce",(function $$coerce(other){var self=this;if(other===nil){$Kernel.$raise($$$("TypeError"),"can't convert "+other.$class()+" into Float")}else if(other.$$is_string){return[$Kernel.$Float(other),self]}else if(other["$respond_to?"]("to_f")){return[$Opal["$coerce_to!"](other,$$$("Float"),"to_f"),self]}else if(other.$$is_number){return[other,self]}else{$Kernel.$raise($$$("TypeError"),"can't convert "+other.$class()+" into Float")}}),1);$def(self,"$__id__",(function $$__id__(){var self=this;return self*2+1}),0);$def(self,"$+",(function $Number_$plus$1(other){var self=this;if(other.$$is_number){return self+other}else{return self.$__coerced__("+",other)}}),1);$def(self,"$-",(function $Number_$minus$2(other){var self=this;if(other.$$is_number){return self-other}else{return self.$__coerced__("-",other)}}),1);$def(self,"$*",(function $Number_$$3(other){var self=this;if(other.$$is_number){return self*other}else{return self.$__coerced__("*",other)}}),1);$def(self,"$/",(function $Number_$slash$4(other){var self=this;if(other.$$is_number){return self/other}else{return self.$__coerced__("/",other)}}),1);$def(self,"$%",(function $Number_$percent$5(other){var self=this;if(other.$$is_number){if(other==-Infinity){return other}else if(other==0){$Kernel.$raise($$$("ZeroDivisionError"),"divided by 0")}else if(other<0||self<0){return(self%other+other)%other}else{return self%other}}else{return self.$__coerced__("%",other)}}),1);$def(self,"$&",(function $Number_$$6(other){var self=this;if(other.$$is_number){return self&other}else{return self.$__coerced__("&",other)}}),1);$def(self,"$|",(function $Number_$$7(other){var self=this;if(other.$$is_number){return self|other}else{return self.$__coerced__("|",other)}}),1);$def(self,"$^",(function $Number_$$8(other){var self=this;if(other.$$is_number){return self^other}else{return self.$__coerced__("^",other)}}),1);$def(self,"$<",(function $Number_$lt$9(other){var self=this;if(other.$$is_number){return self<other}else{return self.$__coerced__("<",other)}}),1);$def(self,"$<=",(function $Number_$lt_eq$10(other){var self=this;if(other.$$is_number){return self<=other}else{return self.$__coerced__("<=",other)}}),1);$def(self,"$>",(function $Number_$gt$11(other){var self=this;if(other.$$is_number){return self>other}else{return self.$__coerced__(">",other)}}),1);$def(self,"$>=",(function $Number_$gt_eq$12(other){var self=this;if(other.$$is_number){return self>=other}else{return self.$__coerced__(">=",other)}}),1);var spaceship_operator=function(self,other){if(other.$$is_number){if(isNaN(self)||isNaN(other)){return nil}if(self>other){return 1}else if(self<other){return-1}else{return 0}}else{return self.$__coerced__("<=>",other)}};$def(self,"$<=>",(function $Number_$lt_eq_gt$13(other){var self=this;try{return spaceship_operator(self,other)}catch($err){if(Opal.rescue($err,[$$$("ArgumentError")])){try{return nil}finally{Opal.pop_exception()}}else{throw $err}}}),1);$def(self,"$<<",(function $Number_$lt$lt$14(count){var self=this;count=$Opal["$coerce_to!"](count,$$$("Integer"),"to_int");return count>0?self<<count:self>>-count}),1);$def(self,"$>>",(function $Number_$gt$gt$15(count){var self=this;count=$Opal["$coerce_to!"](count,$$$("Integer"),"to_int");return count>0?self>>count:self<<-count}),1);$def(self,"$[]",(function $Number_$$$16(bit){var self=this;bit=$Opal["$coerce_to!"](bit,$$$("Integer"),"to_int");if(bit<0){return 0}if(bit>=32){return self<0?1:0}return self>>bit&1}),1);$def(self,"$+@",(function $Number_$plus$$17(){var self=this;return+self}),0);$def(self,"$-@",(function $Number_$minus$$18(){var self=this;return-self}),0);$def(self,"$~",(function $Number_$$19(){var self=this;return~self}),0);$def(self,"$**",(function $Number_$$$20(other){var self=this;if($eqeqeq($$$("Integer"),other)){if($not($$$("Integer")["$==="](self))||$truthy($rb_gt(other,0))){return Math.pow(self,other)}else{return $$$("Rational").$new(self,1)["$**"](other)}}else if($rb_lt(self,0)&&($eqeqeq($$$("Float"),other)||$eqeqeq($$$("Rational"),other))){return $$$("Complex").$new(self,0)["$**"](other.$to_f())}else if($truthy(other.$$is_number!=null)){return Math.pow(self,other)}else{return self.$__coerced__("**",other)}}),1);$def(self,"$==",(function $Number_$eq_eq$21(other){var self=this;if(other.$$is_number){return self.valueOf()===other.valueOf()}else if(other["$respond_to?"]("==")){return other["$=="](self)}else{return false}}),1);$alias(self,"===","==");$def(self,"$abs",(function $$abs(){var self=this;return Math.abs(self)}),0);$def(self,"$abs2",(function $$abs2(){var self=this;return Math.abs(self*self)}),0);$def(self,"$allbits?",(function $Number_allbits$ques$22(mask){var self=this;mask=$Opal["$coerce_to!"](mask,$$$("Integer"),"to_int");return(self&mask)==mask}),1);$def(self,"$anybits?",(function $Number_anybits$ques$23(mask){var self=this;mask=$Opal["$coerce_to!"](mask,$$$("Integer"),"to_int");return(self&mask)!==0}),1);$def(self,"$angle",(function $$angle(){var self=this;if($truthy(self["$nan?"]())){return self}if(self==0){if(1/self>0){return 0}else{return Math.PI}}else if(self<0){return Math.PI}else{return 0}}),0);$def(self,"$bit_length",(function $$bit_length(){var self=this;if(!$eqeqeq($$$("Integer"),self)){$Kernel.$raise($$$("NoMethodError").$new("undefined method `bit_length` for "+self+":Float","bit_length"))}if(self===0||self===-1){return 0}var result=0,value=self<0?~self:self;while(value!=0){result+=1;value>>>=1}return result}),0);$def(self,"$ceil",(function $$ceil(ndigits){var self=this;if(ndigits==null)ndigits=0;var f=self.$to_f();if(f%1===0&&ndigits>=0){return f}var factor=Math.pow(10,ndigits),result=Math.ceil(f*factor)/factor;if(f%1===0){result=Math.round(result)}return result}),-1);$def(self,"$chr",(function $$chr(encoding){var self=this;return Opal.enc(String.fromCharCode(self),encoding||"BINARY")}),-1);$def(self,"$denominator",(function $$denominator(){var $yield=$$denominator.$$p||nil,self=this;delete $$denominator.$$p;if($truthy(self["$nan?"]())||$truthy(self["$infinite?"]())){return 1}else{return $send2(self,$find_super(self,"denominator",$$denominator,false,true),"denominator",[],$yield)}}),0);$def(self,"$downto",(function $$downto(stop){var block=$$downto.$$p||nil,self=this;delete $$downto.$$p;if(!(block!==nil)){return $send(self,"enum_for",["downto",stop],(function $$24(){var self=$$24.$$s==null?this:$$24.$$s;if(!$eqeqeq($$$("Numeric"),stop)){$Kernel.$raise($$$("ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed")}if($truthy($rb_gt(stop,self))){return 0}else{return $rb_plus($rb_minus(self,stop),1)}}),{$$arity:0,$$s:self})}if(!stop.$$is_number){$Kernel.$raise($$$("ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed")}for(var i=self;i>=stop;i--){block(i)}return self}),1);$def(self,"$equal?",(function $Number_equal$ques$25(other){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self["$=="](other))){return $ret_or_1}else{return isNaN(self)&&isNaN(other)}}),1);$def(self,"$even?",(function $Number_even$ques$26(){var self=this;return self%2===0}),0);$def(self,"$floor",(function $$floor(ndigits){var self=this;if(ndigits==null)ndigits=0;var f=self.$to_f();if(f%1===0&&ndigits>=0){return f}var factor=Math.pow(10,ndigits),result=Math.floor(f*factor)/factor;if(f%1===0){result=Math.round(result)}return result}),-1);$def(self,"$gcd",(function $$gcd(other){var self=this;if(!$eqeqeq($$$("Integer"),other)){$Kernel.$raise($$$("TypeError"),"not an integer")}var min=Math.abs(self),max=Math.abs(other);while(min>0){var tmp=min;min=max%min;max=tmp}return max}),1);$def(self,"$gcdlcm",(function $$gcdlcm(other){var self=this;return[self.$gcd(other),self.$lcm(other)]}),1);$def(self,"$integer?",(function $Number_integer$ques$27(){var self=this;return self%1===0}),0);$def(self,"$is_a?",(function $Number_is_a$ques$28(klass){var $yield=$Number_is_a$ques$28.$$p||nil,self=this;delete $Number_is_a$ques$28.$$p;if($eqeq(klass,$$$("Integer"))&&$eqeqeq($$$("Integer"),self)){return true}if($eqeq(klass,$$$("Integer"))&&$eqeqeq($$$("Integer"),self)){return true}if($eqeq(klass,$$$("Float"))&&$eqeqeq($$$("Float"),self)){return true}return $send2(self,$find_super(self,"is_a?",$Number_is_a$ques$28,false,true),"is_a?",[klass],$yield)}),1);$def(self,"$instance_of?",(function $Number_instance_of$ques$29(klass){var $yield=$Number_instance_of$ques$29.$$p||nil,self=this;delete $Number_instance_of$ques$29.$$p;if($eqeq(klass,$$$("Integer"))&&$eqeqeq($$$("Integer"),self)){return true}if($eqeq(klass,$$$("Integer"))&&$eqeqeq($$$("Integer"),self)){return true}if($eqeq(klass,$$$("Float"))&&$eqeqeq($$$("Float"),self)){return true}return $send2(self,$find_super(self,"instance_of?",$Number_instance_of$ques$29,false,true),"instance_of?",[klass],$yield)}),1);$def(self,"$lcm",(function $$lcm(other){var self=this;if(!$eqeqeq($$$("Integer"),other)){$Kernel.$raise($$$("TypeError"),"not an integer")}if(self==0||other==0){return 0}else{return Math.abs(self*other/self.$gcd(other))}}),1);$def(self,"$next",(function $$next(){var self=this;return self+1}),0);$def(self,"$nobits?",(function $Number_nobits$ques$30(mask){var self=this;mask=$Opal["$coerce_to!"](mask,$$$("Integer"),"to_int");return(self&mask)==0}),1);$def(self,"$nonzero?",(function $Number_nonzero$ques$31(){var self=this;return self==0?nil:self}),0);$def(self,"$numerator",(function $$numerator(){var $yield=$$numerator.$$p||nil,self=this;delete $$numerator.$$p;if($truthy(self["$nan?"]())||$truthy(self["$infinite?"]())){return self}else{return $send2(self,$find_super(self,"numerator",$$numerator,false,true),"numerator",[],$yield)}}),0);$def(self,"$odd?",(function $Number_odd$ques$32(){var self=this;return self%2!==0}),0);$def(self,"$ord",$return_self,0);$def(self,"$pow",(function $$pow(b,m){var self=this;if(self==0){$Kernel.$raise($$$("ZeroDivisionError"),"divided by 0")}if(m===undefined){return self["$**"](b)}else{if(!$$$("Integer")["$==="](b)){$Kernel.$raise($$$("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer")}if(b<0){$Kernel.$raise($$$("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified")}if(!$$$("Integer")["$==="](m)){$Kernel.$raise($$$("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers")}if(m===0){$Kernel.$raise($$$("ZeroDivisionError"),"divided by 0")}return self["$**"](b)["$%"](m)}}),-2);$def(self,"$pred",(function $$pred(){var self=this;return self-1}),0);$def(self,"$quo",(function $$quo(other){var $yield=$$quo.$$p||nil,self=this;delete $$quo.$$p;if($eqeqeq($$$("Integer"),self)){return $send2(self,$find_super(self,"quo",$$quo,false,true),"quo",[other],$yield)}else{return $rb_divide(self,other)}}),1);$def(self,"$rationalize",(function $$rationalize(eps){var $a,$b,self=this,f=nil,n=nil;if(arguments.length>1){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)")}if($eqeqeq($$$("Integer"),self)){return $$$("Rational").$new(self,1)}else if($truthy(self["$infinite?"]())){return $Kernel.$raise($$$("FloatDomainError"),"Infinity")}else if($truthy(self["$nan?"]())){return $Kernel.$raise($$$("FloatDomainError"),"NaN")}else if($truthy(eps==null)){$b=$$$("Math").$frexp(self),$a=$to_ary($b),f=$a[0]==null?nil:$a[0],n=$a[1]==null?nil:$a[1],$b;f=$$$("Math").$ldexp(f,$$$($$$("Float"),"MANT_DIG")).$to_i();n=$rb_minus(n,$$$($$$("Float"),"MANT_DIG"));return $$$("Rational").$new($rb_times(2,f),1["$<<"]($rb_minus(1,n))).$rationalize($$$("Rational").$new(1,1["$<<"]($rb_minus(1,n))))}else{return self.$to_r().$rationalize(eps)}}),-1);$def(self,"$remainder",(function $$remainder(y){var self=this;return $rb_minus(self,$rb_times(y,$rb_divide(self,y).$truncate()))}),1);$def(self,"$round",(function $$round(ndigits){var $a,$b,self=this,_=nil,exp=nil;if($eqeqeq($$$("Integer"),self)){if($truthy(ndigits==null)){return self}if($eqeqeq($$$("Float"),ndigits)&&$truthy(ndigits["$infinite?"]())){$Kernel.$raise($$$("RangeError"),"Infinity")}ndigits=$Opal["$coerce_to!"](ndigits,$$$("Integer"),"to_int");if($truthy($rb_lt(ndigits,$$$($$$("Integer"),"MIN")))){$Kernel.$raise($$$("RangeError"),"out of bounds")}if($truthy(ndigits>=0)){return self}ndigits=ndigits["$-@"]();if(.415241*ndigits-.125>self.$size()){return 0}var f=Math.pow(10,ndigits),x=Math.floor((Math.abs(self)+f/2)/f)*f;return self<0?-x:x}else{if($truthy(self["$nan?"]())&&$truthy(ndigits==null)){$Kernel.$raise($$$("FloatDomainError"),"NaN")}ndigits=$Opal["$coerce_to!"](ndigits||0,$$$("Integer"),"to_int");if($truthy($rb_le(ndigits,0))){if($truthy(self["$nan?"]())){$Kernel.$raise($$$("RangeError"),"NaN")}else if($truthy(self["$infinite?"]())){$Kernel.$raise($$$("FloatDomainError"),"Infinity")}}else if($eqeq(ndigits,0)){return Math.round(self)}else if($truthy(self["$nan?"]())||$truthy(self["$infinite?"]())){return self}$b=$$$("Math").$frexp(self),$a=$to_ary($b),_=$a[0]==null?nil:$a[0],exp=$a[1]==null?nil:$a[1],$b;if($truthy($rb_ge(ndigits,$rb_minus($rb_plus($$$($$$("Float"),"DIG"),2),$truthy($rb_gt(exp,0))?$rb_divide(exp,4):$rb_minus($rb_divide(exp,3),1))))){return self}if($truthy($rb_lt(ndigits,($truthy($rb_gt(exp,0))?$rb_plus($rb_divide(exp,3),1):$rb_divide(exp,4))["$-@"]()))){return 0}return Math.round(self*Math.pow(10,ndigits))/Math.pow(10,ndigits)}}),-1);$def(self,"$times",(function $$times(){var block=$$times.$$p||nil,self=this;delete $$times.$$p;if(!$truthy(block)){return $send(self,"enum_for",["times"],(function $$33(){var self=$$33.$$s==null?this:$$33.$$s;return self}),{$$arity:0,$$s:self})}for(var i=0;i<self;i++){block(i)}return self}),0);$def(self,"$to_f",$return_self,0);$def(self,"$to_i",(function $$to_i(){var self=this;return self<0?Math.ceil(self):Math.floor(self)}),0);$def(self,"$to_r",(function $$to_r(){var $a,$b,self=this,f=nil,e=nil;if($eqeqeq($$$("Integer"),self)){return $$$("Rational").$new(self,1)}else{$b=$$$("Math").$frexp(self),$a=$to_ary($b),f=$a[0]==null?nil:$a[0],e=$a[1]==null?nil:$a[1],$b;f=$$$("Math").$ldexp(f,$$$($$$("Float"),"MANT_DIG")).$to_i();e=$rb_minus(e,$$$($$$("Float"),"MANT_DIG"));return $rb_times(f,$$$($$$("Float"),"RADIX")["$**"](e)).$to_r()}}),0);$def(self,"$to_s",(function $$to_s(base){var self=this;if(base==null)base=10;base=$Opal["$coerce_to!"](base,$$$("Integer"),"to_int");if($truthy($rb_lt(base,2))||$truthy($rb_gt(base,36))){$Kernel.$raise($$$("ArgumentError"),"invalid radix "+base)}if($eqeq(self,0)&&$truthy(1/self===-Infinity)){return"-0.0"}return self.toString(base)}),-1);$def(self,"$truncate",(function $$truncate(ndigits){var self=this;if(ndigits==null)ndigits=0;var f=self.$to_f();if(f%1===0&&ndigits>=0){return f}var factor=Math.pow(10,ndigits),result=parseInt(f*factor,10)/factor;if(f%1===0){result=Math.round(result)}return result}),-1);$def(self,"$digits",(function $$digits(base){var self=this;if(base==null)base=10;if($rb_lt(self,0)){$Kernel.$raise($$$($$$("Math"),"DomainError"),"out of domain")}base=$Opal["$coerce_to!"](base,$$$("Integer"),"to_int");if($truthy($rb_lt(base,2))){$Kernel.$raise($$$("ArgumentError"),"invalid radix "+base)}if(self!=parseInt(self))$Kernel.$raise($$$("NoMethodError"),"undefined method `digits' for "+self.$inspect());var value=self,result=[];if(self==0){return[0]}while(value!=0){result.push(value%base);value=parseInt(value/base,10)}return result}),-1);$def(self,"$divmod",(function $$divmod(other){var $yield=$$divmod.$$p||nil,self=this;delete $$divmod.$$p;if($truthy(self["$nan?"]())||$truthy(other["$nan?"]())){return $Kernel.$raise($$$("FloatDomainError"),"NaN")}else if($truthy(self["$infinite?"]())){return $Kernel.$raise($$$("FloatDomainError"),"Infinity")}else{return $send2(self,$find_super(self,"divmod",$$divmod,false,true),"divmod",[other],$yield)}}),1);$def(self,"$upto",(function $$upto(stop){var block=$$upto.$$p||nil,self=this;delete $$upto.$$p;if(!(block!==nil)){return $send(self,"enum_for",["upto",stop],(function $$34(){var self=$$34.$$s==null?this:$$34.$$s;if(!$eqeqeq($$$("Numeric"),stop)){$Kernel.$raise($$$("ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed")}if($truthy($rb_lt(stop,self))){return 0}else{return $rb_plus($rb_minus(stop,self),1)}}),{$$arity:0,$$s:self})}if(!stop.$$is_number){$Kernel.$raise($$$("ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed")}for(var i=self;i<=stop;i++){block(i)}return self}),1);$def(self,"$zero?",(function $Number_zero$ques$35(){var self=this;return self==0}),0);$def(self,"$size",$return_val(4),0);$def(self,"$nan?",(function $Number_nan$ques$36(){var self=this;return isNaN(self)}),0);$def(self,"$finite?",(function $Number_finite$ques$37(){var self=this;return self!=Infinity&&self!=-Infinity&&!isNaN(self)}),0);$def(self,"$infinite?",(function $Number_infinite$ques$38(){var self=this;if(self==Infinity){return+1}else if(self==-Infinity){return-1}else{return nil}}),0);$def(self,"$positive?",(function $Number_positive$ques$39(){var self=this;return self!=0&&(self==Infinity||1/self>0)}),0);$def(self,"$negative?",(function $Number_negative$ques$40(){var self=this;return self==-Infinity||1/self<0}),0);function numberToUint8Array(num){var uint8array=new Uint8Array(8);new DataView(uint8array.buffer).setFloat64(0,num,true);return uint8array}function uint8ArrayToNumber(arr){return new DataView(arr.buffer).getFloat64(0,true)}function incrementNumberBit(num){var arr=numberToUint8Array(num);for(var i=0;i<arr.length;i++){if(arr[i]===255){arr[i]=0}else{arr[i]++;break}}return uint8ArrayToNumber(arr)}function decrementNumberBit(num){var arr=numberToUint8Array(num);for(var i=0;i<arr.length;i++){if(arr[i]===0){arr[i]=255}else{arr[i]--;break}}return uint8ArrayToNumber(arr)}$def(self,"$next_float",(function $$next_float(){var self=this;if($eqeq(self,$$$($$$("Float"),"INFINITY"))){return $$$($$$("Float"),"INFINITY")}if($truthy(self["$nan?"]())){return $$$($$$("Float"),"NAN")}if($rb_ge(self,0)){return incrementNumberBit(Math.abs(self))}else{return decrementNumberBit(self)}}),0);$def(self,"$prev_float",(function $$prev_float(){var self=this;if($eqeq(self,$$$($$$("Float"),"INFINITY")["$-@"]())){return $$$($$$("Float"),"INFINITY")["$-@"]()}if($truthy(self["$nan?"]())){return $$$($$$("Float"),"NAN")}if($rb_gt(self,0)){return decrementNumberBit(self)}else{return-incrementNumberBit(Math.abs(self))}}),0);$alias(self,"arg","angle");$alias(self,"eql?","==");$alias(self,"fdiv","/");$alias(self,"inspect","to_s");$alias(self,"kind_of?","is_a?");$alias(self,"magnitude","abs");$alias(self,"modulo","%");$alias(self,"object_id","__id__");$alias(self,"phase","angle");$alias(self,"succ","next");return $alias(self,"to_int","to_i")})("::",$$$("Numeric"),$nesting);$const_set("::","Fixnum",$$$("Number"));(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Integer");var $nesting=[self].concat($parent_nesting);self.$$is_number_class=true;self.$$is_integer_class=true;(function(self,$parent_nesting){var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$allocate",(function $$allocate(){var self=this;return $Kernel.$raise($$$("TypeError"),"allocator undefined for "+self.$name())}),0);Opal.udef(self,"$"+"new");$def(self,"$sqrt",(function $$sqrt(n){n=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");if(n<0){$Kernel.$raise($$$($$$("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"')}return parseInt(Math.sqrt(n),10)}),1);return $def(self,"$try_convert",(function $$try_convert(object){var self=this;return $$("Opal")["$coerce_to?"](object,self,"to_int")}),1)})(Opal.get_singleton_class(self),$nesting);$const_set(self,"MAX",Math.pow(2,30)-1);return $const_set(self,"MIN",-Math.pow(2,30))})("::",$$$("Numeric"),$nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Float");var $nesting=[self].concat($parent_nesting);self.$$is_number_class=true;(function(self,$parent_nesting){$def(self,"$allocate",(function $$allocate(){var self=this;return $Kernel.$raise($$$("TypeError"),"allocator undefined for "+self.$name())}),0);Opal.udef(self,"$"+"new");return $def(self,"$===",(function $eq_eq_eq$41(other){return!!other.$$is_number}),1)})(Opal.get_singleton_class(self),$nesting);$const_set(self,"INFINITY",Infinity);$const_set(self,"MAX",Number.MAX_VALUE);$const_set(self,"MIN",Number.MIN_VALUE);$const_set(self,"NAN",NaN);$const_set(self,"DIG",15);$const_set(self,"MANT_DIG",53);$const_set(self,"RADIX",2);return $const_set(self,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",$$$("Numeric"),$nesting)};Opal.modules["corelib/range"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$truthy=Opal.truthy,$Kernel=Opal.Kernel,$def=Opal.def,$not=Opal.not,$send2=Opal.send2,$find_super=Opal.find_super,$rb_lt=Opal.rb_lt,$rb_le=Opal.rb_le,$send=Opal.send,$eqeq=Opal.eqeq,$eqeqeq=Opal.eqeqeq,$return_ivar=Opal.return_ivar,$rb_gt=Opal.rb_gt,$rb_minus=Opal.rb_minus,$Opal=Opal.Opal,$rb_divide=Opal.rb_divide,$rb_plus=Opal.rb_plus,$rb_times=Opal.rb_times,$rb_ge=Opal.rb_ge,$alias=Opal.alias;Opal.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?");self.$require("corelib/enumerable");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Range");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.begin=$proto.end=$proto.excl=nil;self.$include($$$("Enumerable"));self.$$prototype.$$is_range=true;self.$attr_reader("begin","end");$def(self,"$initialize",(function $$initialize(first,last,exclude){var self=this;if(exclude==null)exclude=false;if($truthy(self.begin)){$Kernel.$raise($$$("NameError"),"'initialize' called twice")}if(!($truthy(first["$<=>"](last))||$truthy(first["$nil?"]())||$truthy(last["$nil?"]()))){$Kernel.$raise($$$("ArgumentError"),"bad value for range")}self.begin=first;self.end=last;return self.excl=exclude}),-3);$def(self,"$===",(function $Range_$eq_eq_eq$1(value){var self=this;return self["$include?"](value)}),1);function is_infinite(self){if(self.begin===nil||self.end===nil||self.begin===-Infinity||self.end===Infinity||self.begin===Infinity||self.end===-Infinity)return true;return false}$def(self,"$count",(function $$count(){var block=$$count.$$p||nil,self=this;delete $$count.$$p;if($not(block!==nil)&&$truthy(is_infinite(self))){return $$$($$$("Float"),"INFINITY")}return $send2(self,$find_super(self,"count",$$count,false,true),"count",[],block)}),0);$def(self,"$to_a",(function $$to_a(){var $yield=$$to_a.$$p||nil,self=this;delete $$to_a.$$p;if($truthy(is_infinite(self))){$Kernel.$raise($$$("TypeError"),"cannot convert endless range to an array")}return $send2(self,$find_super(self,"to_a",$$to_a,false,true),"to_a",[],$yield)}),0);$def(self,"$cover?",(function $Range_cover$ques$2(value){var self=this,beg_cmp=nil,$ret_or_1=nil,$ret_or_2=nil,$ret_or_3=nil,end_cmp=nil;beg_cmp=$truthy($ret_or_1=$truthy($ret_or_2=$truthy($ret_or_3=self.begin["$nil?"]())?-1:$ret_or_3)?$ret_or_2:self.begin["$<=>"](value))&&$ret_or_1;end_cmp=$truthy($ret_or_1=$truthy($ret_or_2=$truthy($ret_or_3=self.end["$nil?"]())?-1:$ret_or_3)?$ret_or_2:value["$<=>"](self.end))&&$ret_or_1;if($truthy($ret_or_1=$truthy($ret_or_2=$truthy(self.excl)?$truthy($ret_or_3=end_cmp)?$rb_lt(end_cmp,0):$ret_or_3:$truthy($ret_or_3=end_cmp)?$rb_le(end_cmp,0):$ret_or_3)?beg_cmp:$ret_or_2)){return $rb_le(beg_cmp,0)}else{return $ret_or_1}}),1);$def(self,"$each",(function $$each(){var block=$$each.$$p||nil,$a,self=this,current=nil,last=nil,$ret_or_1=nil;delete $$each.$$p;if(!(block!==nil)){return $send(self,"enum_for",["each"],(function $$3(){var self=$$3.$$s==null?this:$$3.$$s;return self.$size()}),{$$arity:0,$$s:self})}var i,limit;if(self.begin.$$is_number&&self.end.$$is_number){if(self.begin%1!==0||self.end%1!==0){$Kernel.$raise($$$("TypeError"),"can't iterate from Float")}for(i=self.begin,limit=self.end+($truthy(self.excl)?0:1);i<limit;i++){block(i)}return self}if(self.begin.$$is_string&&self.end.$$is_string){$send(self.begin,"upto",[self.end,self.excl],block.$to_proc());return self}current=self.begin;last=self.end;if(!$truthy(current["$respond_to?"]("succ"))){$Kernel.$raise($$$("TypeError"),"can't iterate from "+current.$class())}while($truthy($truthy($ret_or_1=self.end["$nil?"]())?$ret_or_1:$rb_lt(current["$<=>"](last),0))){Opal.yield1(block,current);current=current.$succ()}if($not(self.excl)&&$eqeq(current,last)){Opal.yield1(block,current)}return self}),0);$def(self,"$eql?",(function $Range_eql$ques$4(other){var self=this,$ret_or_1=nil,$ret_or_2=nil;if(!$eqeqeq($$$("Range"),other)){return false}if($truthy($ret_or_1=$truthy($ret_or_2=self.excl["$==="](other["$exclude_end?"]()))?self.begin["$eql?"](other.$begin()):$ret_or_2)){return self.end["$eql?"](other.$end())}else{return $ret_or_1}}),1);$def(self,"$exclude_end?",$return_ivar("excl"),0);$def(self,"$first",(function $$first(n){var $yield=$$first.$$p||nil,self=this;delete $$first.$$p;if($truthy(self.begin["$nil?"]())){$Kernel.$raise($$$("RangeError"),"cannot get the minimum of beginless range")}if($truthy(n==null)){return self.begin}return $send2(self,$find_super(self,"first",$$first,false,true),"first",[n],$yield)}),-1);$def(self,"$last",(function $$last(n){var self=this;if($truthy(self.end["$nil?"]())){$Kernel.$raise($$$("RangeError"),"cannot get the maximum of endless range")}if($truthy(n==null)){return self.end}return self.$to_a().$last(n)}),-1);$def(self,"$max",(function $$max(){var $yield=$$max.$$p||nil,self=this;delete $$max.$$p;if($truthy(self.end["$nil?"]())){return $Kernel.$raise($$$("RangeError"),"cannot get the maximum of endless range")}else if($yield!==nil){return $send2(self,$find_super(self,"max",$$max,false,true),"max",[],$yield)}else if($not(self.begin["$nil?"]())&&($truthy($rb_gt(self.begin,self.end))||$truthy(self.excl)&&$eqeq(self.begin,self.end))){return nil}else{return self.excl?self.end-1:self.end}}),0);$def(self,"$min",(function $$min(){var $yield=$$min.$$p||nil,self=this;delete $$min.$$p;if($truthy(self.begin["$nil?"]())){return $Kernel.$raise($$$("RangeError"),"cannot get the minimum of beginless range")}else if($yield!==nil){return $send2(self,$find_super(self,"min",$$min,false,true),"min",[],$yield)}else if($not(self.end["$nil?"]())&&($truthy($rb_gt(self.begin,self.end))||$truthy(self.excl)&&$eqeq(self.begin,self.end))){return nil}else{return self.begin}}),0);$def(self,"$size",(function $$size(){var self=this,infinity=nil,range_begin=nil,range_end=nil;infinity=$$$($$$("Float"),"INFINITY");if($eqeq(self.begin,infinity)&&$not(self.end["$nil?"]())||$eqeq(self.end,infinity["$-@"]())&&$not(self.begin["$nil?"]())){return 0}if($truthy(is_infinite(self))){return infinity}if(!($eqeqeq($$$("Numeric"),self.begin)&&$eqeqeq($$$("Numeric"),self.end))){return nil}range_begin=self.begin;range_end=self.end;if($truthy(self.excl)){range_end=$rb_minus(range_end,1)}if($truthy($rb_lt(range_end,range_begin))){return 0}return(Math.abs(range_end-range_begin)+1).$to_i()}),0);$def(self,"$step",(function $$step(n){var $yield=$$step.$$p||nil,self=this,$ret_or_1=nil,i=nil;delete $$step.$$p;function coerceStepSize(){if(n==null){n=1}else if(!n.$$is_number){n=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int")}if(n<0){$Kernel.$raise($$$("ArgumentError"),"step can't be negative")}else if(n===0){$Kernel.$raise($$$("ArgumentError"),"step can't be 0")}}function enumeratorSize(){if(!self.begin["$respond_to?"]("succ")){return nil}if(self.begin.$$is_string&&self.end.$$is_string){return nil}if(n%1===0){return $rb_divide(self.$size(),n).$ceil()}else{var begin=self.begin,end=self.end,abs=Math.abs,floor=Math.floor,err=(abs(begin)+abs(end)+abs(end-begin))/abs(n)*$$$($$$("Float"),"EPSILON"),size;if(err>.5){err=.5}if(self.excl){size=floor((end-begin)/n-err);if(size*n+begin<end){size++}}else{size=floor((end-begin)/n+err)+1}return size}}if(!($yield!==nil)){if(($truthy(self.begin["$is_a?"]($$("Numeric")))||$truthy(self.begin["$nil?"]()))&&($truthy(self.end["$is_a?"]($$("Numeric")))||$truthy(self.end["$nil?"]()))&&$not($truthy($ret_or_1=self.begin["$nil?"]())?self.end["$nil?"]():$ret_or_1)){return $$$($$$("Enumerator"),"ArithmeticSequence").$new(self,n,"step")}else{return $send(self,"enum_for",["step",n],(function $$5(){coerceStepSize();return enumeratorSize()}),0)}}coerceStepSize();if($truthy(self.begin.$$is_number&&self.end.$$is_number)){i=0;(function(){var $brk=Opal.new_brk();try{return $send(self,"loop",[],(function $$6(){var self=$$6.$$s==null?this:$$6.$$s,current=nil;if(self.begin==null)self.begin=nil;if(self.excl==null)self.excl=nil;if(self.end==null)self.end=nil;current=$rb_plus(self.begin,$rb_times(i,n));if($truthy(self.excl)){if($truthy($rb_ge(current,self.end))){Opal.brk(nil,$brk)}}else if($truthy($rb_gt(current,self.end))){Opal.brk(nil,$brk)}Opal.yield1($yield,current);return i=$rb_plus(i,1)}),{$$arity:0,$$s:self,$$brk:$brk})}catch(err){if(err===$brk){return err.$v}else{throw err}}})()}else{if(self.begin.$$is_string&&self.end.$$is_string&&n%1!==0){$Kernel.$raise($$$("TypeError"),"no implicit conversion to float from string")}$send(self,"each_with_index",[],(function $$7(value,idx){if(value==null)value=nil;if(idx==null)idx=nil;if($eqeq(idx["$%"](n),0)){return Opal.yield1($yield,value)}else{return nil}}),2)}return self}),-1);$def(self,"$%",(function $Range_$percent$8(n){var self=this;if($truthy(self.begin["$is_a?"]($$("Numeric")))&&$truthy(self.end["$is_a?"]($$("Numeric")))){return $$$($$$("Enumerator"),"ArithmeticSequence").$new(self,n,"%")}else{return self.$step(n)}}),1);$def(self,"$bsearch",(function $$bsearch(){var block=$$bsearch.$$p||nil,self=this;delete $$bsearch.$$p;if(!(block!==nil)){return self.$enum_for("bsearch")}if($truthy(is_infinite(self)&&(self.begin.$$is_number||self.end.$$is_number))){$Kernel.$raise($$$("NotImplementedError"),"Can't #bsearch an infinite range")}if(!$truthy(self.begin.$$is_number&&self.end.$$is_number)){$Kernel.$raise($$$("TypeError"),"can't do binary search for "+self.begin.$class())}return $send(self.$to_a(),"bsearch",[],block.$to_proc())}),0);$def(self,"$to_s",(function $$to_s(){var self=this,$ret_or_1=nil;return""+($truthy($ret_or_1=self.begin)?$ret_or_1:"")+($truthy(self.excl)?"...":"..")+($truthy($ret_or_1=self.end)?$ret_or_1:"")}),0);$def(self,"$inspect",(function $$inspect(){var self=this,$ret_or_1=nil;return""+($truthy($ret_or_1=self.begin)?self.begin.$inspect():$ret_or_1)+($truthy(self.excl)?"...":"..")+($truthy($ret_or_1=self.end)?self.end.$inspect():$ret_or_1)}),0);$def(self,"$marshal_load",(function $$marshal_load(args){var self=this;self.begin=args["$[]"]("begin");self.end=args["$[]"]("end");return self.excl=args["$[]"]("excl")}),1);$def(self,"$hash",(function $$hash(){var self=this;return[self.begin,self.end,self.excl].$hash()}),0);$alias(self,"==","eql?");$alias(self,"include?","cover?");return $alias(self,"member?","cover?")}("::",null,$nesting)};Opal.modules["corelib/proc"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$Kernel=Opal.Kernel,$defs=Opal.defs,$def=Opal.def,$send=Opal.send,$to_a=Opal.to_a,$return_self=Opal.return_self,$Opal=Opal.Opal,$alias=Opal.alias;Opal.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup");return function($base,$super){var self=$klass($base,$super,"Proc");Opal.prop(self.$$prototype,"$$is_proc",true);Opal.prop(self.$$prototype,"$$is_lambda",false);$defs(self,"$new",(function $Proc_new$1(){var block=$Proc_new$1.$$p||nil;delete $Proc_new$1.$$p;if(!$truthy(block)){$Kernel.$raise($$$("ArgumentError"),"tried to create a Proc object without a block")}return block}),0);$def(self,"$call",(function $$call($a){var block=$$call.$$p||nil,$post_args,args,self=this;delete $$call.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(block!==nil){self.$$p=block}var result,$brk=self.$$brk;if($brk){try{if(self.$$is_lambda){result=self.apply(null,args)}else{result=Opal.yieldX(self,args)}}catch(err){if(err===$brk){return $brk.$v}else{throw err}}}else{if(self.$$is_lambda){result=self.apply(null,args)}else{result=Opal.yieldX(self,args)}}return result}),-1);$def(self,"$>>",(function $Proc_$gt$gt$2(other){var $yield=$Proc_$gt$gt$2.$$p||nil,self=this;delete $Proc_$gt$gt$2.$$p;return $send($Kernel,"proc",[],(function $$3($a){var block=$$3.$$p||nil,$post_args,args,self=$$3.$$s==null?this:$$3.$$s,out=nil;delete $$3.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;out=$send(self,"call",$to_a(args),block.$to_proc());return other.$call(out)}),{$$arity:-1,$$s:self})}),1);$def(self,"$<<",(function $Proc_$lt$lt$4(other){var $yield=$Proc_$lt$lt$4.$$p||nil,self=this;delete $Proc_$lt$lt$4.$$p;return $send($Kernel,"proc",[],(function $$5($a){var block=$$5.$$p||nil,$post_args,args,self=$$5.$$s==null?this:$$5.$$s,out=nil;delete $$5.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;out=$send(other,"call",$to_a(args),block.$to_proc());return self.$call(out)}),{$$arity:-1,$$s:self})}),1);$def(self,"$to_proc",$return_self,0);$def(self,"$lambda?",(function $Proc_lambda$ques$6(){var self=this;return!!self.$$is_lambda}),0);$def(self,"$arity",(function $$arity(){var self=this;if(self.$$is_curried){return-1}else{return self.$$arity}}),0);$def(self,"$source_location",(function $$source_location(){var self=this;if(self.$$is_curried){return nil}return nil}),0);$def(self,"$binding",(function $$binding(){var $a,self=this;if(self.$$is_curried){$Kernel.$raise($$$("ArgumentError"),"Can't create Binding")}if($truthy(($a=$$$("::","Binding","skip_raise"))?"constant":nil)){return $$$("Binding").$new(nil,[],self.$$s,self.$source_location())}else{return nil}}),0);$def(self,"$parameters",(function $$parameters(){var self=this;if(self.$$is_curried){return[["rest"]]}else if(self.$$parameters){if(self.$$is_lambda){return self.$$parameters}else{var result=[],i,length;for(i=0,length=self.$$parameters.length;i<length;i++){var parameter=self.$$parameters[i];if(parameter[0]==="req"){parameter=["opt",parameter[1]]}result.push(parameter)}return result}}else{return[]}}),0);$def(self,"$curry",(function $$curry(arity){var self=this;if(arity===undefined){arity=self.length}else{arity=$Opal["$coerce_to!"](arity,$$$("Integer"),"to_int");if(self.$$is_lambda&&arity!==self.length){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arity+" for "+self.length+")")}}function curried(){var args=$slice.call(arguments),length=args.length,result;if(length>arity&&self.$$is_lambda&&!self.$$is_curried){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+length+" for "+arity+")")}if(length>=arity){return self.$call.apply(self,args)}result=function(){return curried.apply(null,args.concat($slice.call(arguments)))};result.$$is_lambda=self.$$is_lambda;result.$$is_curried=true;return result}curried.$$is_lambda=self.$$is_lambda;curried.$$is_curried=true;return curried}),-1);$def(self,"$dup",(function $$dup(){var self=this;var original_proc=self.$$original_proc||self,proc=function(){return original_proc.apply(this,arguments)};for(var prop in self){if(self.hasOwnProperty(prop)){proc[prop]=self[prop]}}return proc}),0);$alias(self,"===","call");$alias(self,"clone","dup");$alias(self,"yield","call");return $alias(self,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$def=Opal.def,$truthy=Opal.truthy,$alias=Opal.alias,$Kernel=Opal.Kernel,$send=Opal.send,$to_a=Opal.to_a;Opal.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc");(function($base,$super){var self=$klass($base,$super,"Method");var $proto=self.$$prototype;$proto.method=$proto.receiver=$proto.owner=$proto.name=nil;self.$attr_reader("owner","receiver","name");$def(self,"$initialize",(function $$initialize(receiver,owner,method,name){var self=this;self.receiver=receiver;self.owner=owner;self.name=name;return self.method=method}),4);$def(self,"$arity",(function $$arity(){var self=this;return self.method.$arity()}),0);$def(self,"$parameters",(function $$parameters(){var self=this;return self.method.$$parameters}),0);$def(self,"$source_location",(function $$source_location(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.method.$$source_location)){return $ret_or_1}else{return["(eval)",0]}}),0);$def(self,"$comments",(function $$comments(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.method.$$comments)){return $ret_or_1}else{return[]}}),0);$def(self,"$call",(function $$call($a){var block=$$call.$$p||nil,$post_args,args,self=this;delete $$call.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;self.method.$$p=block;return self.method.apply(self.receiver,args)}),-1);$def(self,"$curry",(function $$curry(arity){var self=this;return self.method.$curry(arity)}),-1);$def(self,"$>>",(function $Method_$gt$gt$1(other){var self=this;return self.method["$>>"](other)}),1);$def(self,"$<<",(function $Method_$lt$lt$2(other){var self=this;return self.method["$<<"](other)}),1);$def(self,"$unbind",(function $$unbind(){var self=this;return $$$("UnboundMethod").$new(self.receiver.$class(),self.owner,self.method,self.name)}),0);$def(self,"$to_proc",(function $$to_proc(){var self=this;var proc=self.$call.bind(self);proc.$$unbound=self.method;proc.$$is_lambda=true;proc.$$arity=self.method.$$arity;proc.$$parameters=self.method.$$parameters;return proc}),0);$def(self,"$inspect",(function $$inspect(){var self=this;return"#<"+self.$class()+": "+self.receiver.$class()+"#"+self.name+" (defined in "+self.owner+" in "+self.$source_location().$join(":")+")>"}),0);$alias(self,"[]","call");return $alias(self,"===","call")})("::",null);return function($base,$super){var self=$klass($base,$super,"UnboundMethod");var $proto=self.$$prototype;$proto.method=$proto.owner=$proto.name=$proto.source=nil;self.$attr_reader("source","owner","name");$def(self,"$initialize",(function $$initialize(source,owner,method,name){var self=this;self.source=source;self.owner=owner;self.method=method;return self.name=name}),4);$def(self,"$arity",(function $$arity(){var self=this;return self.method.$arity()}),0);$def(self,"$parameters",(function $$parameters(){var self=this;return self.method.$$parameters}),0);$def(self,"$source_location",(function $$source_location(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.method.$$source_location)){return $ret_or_1}else{return["(eval)",0]}}),0);$def(self,"$comments",(function $$comments(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.method.$$comments)){return $ret_or_1}else{return[]}}),0);$def(self,"$bind",(function $$bind(object){var self=this;if(self.owner.$$is_module||Opal.is_a(object,self.owner)){return $$$("Method").$new(object,self.owner,self.method,self.name)}else{$Kernel.$raise($$$("TypeError"),"can't bind singleton method to a different class (expected "+object+".kind_of?("+self.owner+" to be true)")}}),1);$def(self,"$bind_call",(function $$bind_call(object,$a){var block=$$bind_call.$$p||nil,$post_args,args,self=this;delete $$bind_call.$$p;$post_args=Opal.slice.call(arguments,1);args=$post_args;return $send(self.$bind(object),"call",$to_a(args),block.$to_proc())}),-2);return $def(self,"$inspect",(function $$inspect(){var self=this;return"#<"+self.$class()+": "+self.source+"#"+self.name+" (defined in "+self.owner+" in "+self.$source_location().$join(":")+")>"}),0)}("::",null)};Opal.modules["corelib/variables"]=function(Opal){var nil=Opal.nil,$gvars=Opal.gvars,$const_set=Opal.const_set,$Object=Opal.Object,$hash2=Opal.hash2;Opal.add_stubs("new");$gvars["&"]=$gvars["~"]=$gvars["`"]=$gvars["'"]=nil;$gvars.LOADED_FEATURES=$gvars['"']=Opal.loaded_features;$gvars.LOAD_PATH=$gvars[":"]=[];$gvars["/"]="\n";$gvars[","]=nil;$const_set("::","ARGV",[]);$const_set("::","ARGF",$Object.$new());$const_set("::","ENV",$hash2([],{}));$gvars.VERBOSE=false;$gvars.DEBUG=false;return $gvars.SAFE=0};Opal.modules["corelib/io"]=function(Opal){var $a,nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$const_set=Opal.const_set,$not=Opal.not,$truthy=Opal.truthy,$def=Opal.def,$return_ivar=Opal.return_ivar,$return_val=Opal.return_val,$Kernel=Opal.Kernel,$gvars=Opal.gvars,$send=Opal.send,$to_a=Opal.to_a,$rb_plus=Opal.rb_plus,$neqeq=Opal.neqeq,$range=Opal.range,$hash2=Opal.hash2,$eqeq=Opal.eqeq,$to_ary=Opal.to_ary,$rb_gt=Opal.rb_gt,$assign_ivar_val=Opal.assign_ivar_val,$alias=Opal.alias;Opal.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc=");(function($base,$super){var self=$klass($base,$super,"IO");var $proto=self.$$prototype;$proto.read_buffer=$proto.closed=nil;$const_set(self,"SEEK_SET",0);$const_set(self,"SEEK_CUR",1);$const_set(self,"SEEK_END",2);$const_set(self,"SEEK_DATA",3);$const_set(self,"SEEK_HOLE",4);$const_set(self,"READABLE",1);$const_set(self,"WRITABLE",4);self.$attr_reader("eof");self.$attr_accessor("read_proc","sync","tty","write_proc");$def(self,"$initialize",(function $$initialize(fd,flags){var self=this;if(flags==null)flags="r";self.fd=fd;self.flags=flags;self.eof=false;if($truthy(flags["$include?"]("r"))&&$not(flags["$match?"](/[wa+]/))){return self.closed="write"}else if($truthy(flags["$match?"](/[wa]/))&&$not(flags["$match?"](/[r+]/))){return self.closed="read"}else{return nil}}),-2);$def(self,"$fileno",$return_ivar("fd"),0);$def(self,"$tty?",(function $IO_tty$ques$1(){var self=this;return self.tty==true}),0);$def(self,"$write",(function $$write(string){var self=this;self.write_proc(string);return string.$size()}),1);$def(self,"$flush",$return_val(nil),0);$def(self,"$<<",(function $IO_$lt$lt$2(string){var self=this;self.$write(string);return self}),1);$def(self,"$print",(function $$print($a){var $post_args,args,self=this;if($gvars[","]==null)$gvars[","]=nil;$post_args=Opal.slice.call(arguments);args=$post_args;for(var i=0,ii=args.length;i<ii;i++){args[i]=$Kernel.$String(args[i])}self.$write(args.join($gvars[","]));return nil}),-1);$def(self,"$puts",(function $$puts($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;var line;if(args.length===0){self.$write("\n");return nil}else{for(var i=0,ii=args.length;i<ii;i++){if(args[i].$$is_array){var ary=args[i].$flatten();if(ary.length>0)$send(self,"puts",$to_a(ary))}else{if(args[i].$$is_string){line=args[i].valueOf()}else{line=$Kernel.$String(args[i])}if(!line.endsWith("\n"))line+="\n";self.$write(line)}}}return nil}),-1);$def(self,"$getc",(function $$getc(){var $a,self=this,$ret_or_1=nil,parts=nil,ret=nil;self.read_buffer=$truthy($ret_or_1=self.read_buffer)?$ret_or_1:"";parts="";do{self.read_buffer=$rb_plus(self.read_buffer,parts);if($neqeq(self.read_buffer,"")){ret=self.read_buffer["$[]"](0);self.read_buffer=self.read_buffer["$[]"]($range(1,-1,false));return ret}}while($truthy(parts=self.$sysread_noraise(1)));return nil}),0);$def(self,"$getbyte",(function $$getbyte(){var $a,self=this;return $a=self.$getc(),$a===nil||$a==null?nil:self.$getc().$ord()}),0);$def(self,"$readbyte",(function $$readbyte(){var self=this;return self.$readchar().$ord()}),0);$def(self,"$readchar",(function $$readchar(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.$getc())){return $ret_or_1}else{return $Kernel.$raise($$$("EOFError"),"end of file reached")}}),0);$def(self,"$readline",(function $$readline($a){var $post_args,args,self=this,$ret_or_1=nil;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy($ret_or_1=$send(self,"gets",$to_a(args)))){return $ret_or_1}else{return $Kernel.$raise($$$("EOFError"),"end of file reached")}}),-1);$def(self,"$gets",(function $$gets(sep,limit,opts){var $a,$b,$c,self=this,orig_sep=nil,$ret_or_1=nil,seplen=nil,data=nil,ret=nil,orig_buffer=nil;if($gvars["/"]==null)$gvars["/"]=nil;if(sep==null)sep=false;if(limit==null)limit=nil;if(opts==null)opts=$hash2([],{});if($truthy(sep.$$is_number)&&$not(limit)){$a=[false,sep,limit],sep=$a[0],limit=$a[1],opts=$a[2],$a}if($truthy(sep.$$is_hash)&&$not(limit)&&$eqeq(opts,$hash2([],{}))){$a=[false,nil,sep],sep=$a[0],limit=$a[1],opts=$a[2],$a}else if($truthy(limit.$$is_hash)&&$eqeq(opts,$hash2([],{}))){$a=[sep,nil,limit],sep=$a[0],limit=$a[1],opts=$a[2],$a}orig_sep=sep;if($eqeq(sep,false)){sep=$gvars["/"]}if($eqeq(sep,"")){sep=/\r?\n\r?\n/}sep=$truthy($ret_or_1=sep)?$ret_or_1:"";if(!$eqeq(orig_sep,"")){sep=sep.$to_str()}seplen=$eqeq(orig_sep,"")?2:sep.$length();if($eqeq(sep," ")){sep=/ /}self.read_buffer=$truthy($ret_or_1=self.read_buffer)?$ret_or_1:"";data="";ret=nil;do{self.read_buffer=$rb_plus(self.read_buffer,data);if($neqeq(sep,"")&&$truthy($truthy(sep.$$is_regexp)?self.read_buffer["$match?"](sep):self.read_buffer["$include?"](sep))){orig_buffer=self.read_buffer;$c=self.read_buffer.$split(sep,2),$b=$to_ary($c),ret=$b[0]==null?nil:$b[0],self.read_buffer=$b[1]==null?nil:$b[1],$c;if($neqeq(ret,orig_buffer)){ret=$rb_plus(ret,orig_buffer["$[]"](ret.$length(),seplen))}break}}while($truthy(data=self.$sysread_noraise($eqeq(sep,"")?65536:1)));if(!$truthy(ret)){$a=[$truthy($ret_or_1=self.read_buffer)?$ret_or_1:"",""],ret=$a[0],self.read_buffer=$a[1],$a;if($eqeq(ret,"")){ret=nil}}if($truthy(ret)){if($truthy(limit)){ret=ret["$[]"](Opal.Range.$new(0,limit,true));self.read_buffer=$rb_plus(ret["$[]"](Opal.Range.$new(limit,-1,false)),self.read_buffer)}if($truthy(opts["$[]"]("chomp"))){ret=ret.$sub(/\r?\n$/,"")}if($eqeq(orig_sep,"")){ret=ret.$sub(/^[\r\n]+/,"")}}if($eqeq(orig_sep,false)){$gvars._=ret}return ret}),-1);$def(self,"$sysread",(function $$sysread(integer){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.read_proc(integer))){return $ret_or_1}else{self.eof=true;return $Kernel.$raise($$$("EOFError"),"end of file reached")}}),1);$def(self,"$sysread_noraise",(function $$sysread_noraise(integer){var self=this;try{return self.$sysread(integer)}catch($err){if(Opal.rescue($err,[$$$("EOFError")])){try{return nil}finally{Opal.pop_exception()}}else{throw $err}}}),1);$def(self,"$readpartial",(function $$readpartial(integer){var $a,self=this,$ret_or_1=nil,part=nil,ret=nil;self.read_buffer=$truthy($ret_or_1=self.read_buffer)?$ret_or_1:"";part=self.$sysread(integer);$a=[$rb_plus(self.read_buffer,$truthy($ret_or_1=part)?$ret_or_1:""),""],ret=$a[0],self.read_buffer=$a[1],$a;if($eqeq(ret,"")){ret=nil}return ret}),1);$def(self,"$read",(function $$read(integer){var $a,$b,self=this,$ret_or_1=nil,parts=nil,ret=nil;if(integer==null)integer=nil;self.read_buffer=$truthy($ret_or_1=self.read_buffer)?$ret_or_1:"";parts="";ret=nil;do{self.read_buffer=$rb_plus(self.read_buffer,parts);if($truthy(integer)&&$truthy($rb_gt(self.read_buffer.$length(),integer))){$b=[self.read_buffer["$[]"](Opal.Range.$new(0,integer,true)),self.read_buffer["$[]"](Opal.Range.$new(integer,-1,false))],ret=$b[0],self.read_buffer=$b[1],$b;return ret}}while($truthy(parts=self.$sysread_noraise($truthy($ret_or_1=integer)?$ret_or_1:65536)));$a=[self.read_buffer,""],ret=$a[0],self.read_buffer=$a[1],$a;return ret}),-1);$def(self,"$readlines",(function $$readlines(separator){var self=this;if($gvars["/"]==null)$gvars["/"]=nil;if(separator==null)separator=$gvars["/"];return self.$each_line(separator).$to_a()}),-1);$def(self,"$each",(function $$each($a,$b){var block=$$each.$$p||nil,$post_args,sep,args,$c,self=this,s=nil;if($gvars["/"]==null)$gvars["/"]=nil;delete $$each.$$p;$post_args=Opal.slice.call(arguments);if($post_args.length>0)sep=$post_args.shift();if(sep==null)sep=$gvars["/"];args=$post_args;if(!(block!==nil)){return $send(self,"enum_for",["each",sep].concat($to_a(args)))}while($truthy(s=$send(self,"gets",[sep].concat($to_a(args))))){Opal.yield1(block,s)}return self}),-1);$def(self,"$each_byte",(function $$each_byte(){var block=$$each_byte.$$p||nil,$a,self=this,s=nil;delete $$each_byte.$$p;if(!(block!==nil)){return self.$enum_for("each_byte")}while($truthy(s=self.$getbyte())){Opal.yield1(block,s)}return self}),0);$def(self,"$each_char",(function $$each_char(){var block=$$each_char.$$p||nil,$a,self=this,s=nil;delete $$each_char.$$p;if(!(block!==nil)){return self.$enum_for("each_char")}while($truthy(s=self.$getc())){Opal.yield1(block,s)}return self}),0);$def(self,"$close",$assign_ivar_val("closed","both"),0);$def(self,"$close_read",(function $$close_read(){var self=this;if($eqeq(self.closed,"write")){return self.closed="both"}else{return self.closed="read"}}),0);$def(self,"$close_write",(function $$close_write(){var self=this;if($eqeq(self.closed,"read")){return self.closed="both"}else{return self.closed="write"}}),0);$def(self,"$closed?",(function $IO_closed$ques$3(){var self=this;return self.closed["$=="]("both")}),0);$def(self,"$closed_read?",(function $IO_closed_read$ques$4(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.closed["$=="]("read"))){return $ret_or_1}else{return self.closed["$=="]("both")}}),0);$def(self,"$closed_write?",(function $IO_closed_write$ques$5(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.closed["$=="]("write"))){return $ret_or_1}else{return self.closed["$=="]("both")}}),0);$def(self,"$check_writable",(function $$check_writable(){var self=this;if($truthy(self["$closed_write?"]())){return $Kernel.$raise($$$("IOError"),"not opened for writing")}else{return nil}}),0);$def(self,"$check_readable",(function $$check_readable(){var self=this;if($truthy(self["$closed_read?"]())){return $Kernel.$raise($$$("IOError"),"not opened for reading")}else{return nil}}),0);$alias(self,"each_line","each");return $alias(self,"eof?","eof")})("::",null);$const_set("::","STDIN",$gvars.stdin=$$$("IO").$new(0,"r"));$const_set("::","STDOUT",$gvars.stdout=$$$("IO").$new(1,"w"));$const_set("::","STDERR",$gvars.stderr=$$$("IO").$new(2,"w"));var console=Opal.global.console;$$$("STDOUT")["$write_proc="](typeof process==="object"&&typeof process.stdout==="object"?function(s){process.stdout.write(s)}:function(s){console.log(s)});$$$("STDERR")["$write_proc="](typeof process==="object"&&typeof process.stderr==="object"?function(s){process.stderr.write(s)}:function(s){console.warn(s)});return $a=[function(s){var p=prompt();if(p!==null)return p+"\n";return nil}],$send($$$("STDIN"),"read_proc=",$a),$a[$a.length-1]};Opal.modules["opal/regexp_anchors"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$const_set=Opal.const_set;Opal.add_stubs("new");return function($base,$parent_nesting){var self=$module($base,"Opal");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$const_set(self,"REGEXP_START","^");$const_set(self,"REGEXP_END","$");$const_set(self,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");$const_set(self,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");$const_set(self,"INLINE_IDENTIFIER_REGEXP",$$("Regexp").$new("[^"+$$$(self,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+$$$(self,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));$const_set(self,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");return $const_set(self,"CONST_NAME_REGEXP",$$("Regexp").$new(""+$$$(self,"REGEXP_START")+"(::)?[A-Z][^"+$$$(self,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+$$$(self,"REGEXP_END")))}($nesting[0],$nesting)};Opal.modules["opal/mini"]=function(Opal){var nil=Opal.nil,$Object=Opal.Object;Opal.add_stubs("require");$Object.$require("opal/base");$Object.$require("corelib/nil");$Object.$require("corelib/boolean");$Object.$require("corelib/string");$Object.$require("corelib/comparable");$Object.$require("corelib/enumerable");$Object.$require("corelib/enumerator");$Object.$require("corelib/array");$Object.$require("corelib/hash");$Object.$require("corelib/number");$Object.$require("corelib/range");$Object.$require("corelib/proc");$Object.$require("corelib/method");$Object.$require("corelib/regexp");$Object.$require("corelib/variables");$Object.$require("corelib/io");return $Object.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$coerce_to=Opal.coerce_to,$module=Opal.module,$truthy=Opal.truthy,$eqeq=Opal.eqeq,$Opal=Opal.Opal,$Kernel=Opal.Kernel,$gvars=Opal.gvars,$def=Opal.def,$alias=Opal.alias;Opal.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format");return function($base){var self=$module($base,"Kernel");$def(self,"$format",(function $$format(format_string,$a){var $post_args,args,ary=nil;if($gvars.DEBUG==null)$gvars.DEBUG=nil;$post_args=Opal.slice.call(arguments,1);args=$post_args;if($eqeq(args.$length(),1)&&$truthy(args["$[]"](0)["$respond_to?"]("to_ary"))){ary=$Opal["$coerce_to?"](args["$[]"](0),$$$("Array"),"to_ary");if(!$truthy(ary["$nil?"]())){args=ary.$to_a()}}var result="",begin_slice=0,end_slice,i,len=format_string.length,arg,str,exponent,width,precision,tmp_num,hash_parameter_key,closing_brace_char,base_number,base_prefix,base_neg_zero_regex,base_neg_zero_digit,next_arg,seq_arg_num=1,pos_arg_num=0,flags,FNONE=0,FSHARP=1,FMINUS=2,FPLUS=4,FZERO=8,FSPACE=16,FWIDTH=32,FPREC=64,FPREC0=128;function CHECK_FOR_FLAGS(){if(flags&FWIDTH){$Kernel.$raise($$$("ArgumentError"),"flag after width")}if(flags&FPREC0){$Kernel.$raise($$$("ArgumentError"),"flag after precision")}}function CHECK_FOR_WIDTH(){if(flags&FWIDTH){$Kernel.$raise($$$("ArgumentError"),"width given twice")}if(flags&FPREC0){$Kernel.$raise($$$("ArgumentError"),"width after precision")}}function GET_NTH_ARG(num){if(num>=args.length){$Kernel.$raise($$$("ArgumentError"),"too few arguments")}return args[num]}function GET_NEXT_ARG(){switch(pos_arg_num){case-1:$Kernel.$raise($$$("ArgumentError"),"unnumbered("+seq_arg_num+") mixed with numbered");case-2:$Kernel.$raise($$$("ArgumentError"),"unnumbered("+seq_arg_num+") mixed with named")}pos_arg_num=seq_arg_num++;return GET_NTH_ARG(pos_arg_num-1)}function GET_POS_ARG(num){if(pos_arg_num>0){$Kernel.$raise($$$("ArgumentError"),"numbered("+num+") after unnumbered("+pos_arg_num+")")}if(pos_arg_num===-2){$Kernel.$raise($$$("ArgumentError"),"numbered("+num+") after named")}if(num<1){$Kernel.$raise($$$("ArgumentError"),"invalid index - "+num+"$")}pos_arg_num=-1;return GET_NTH_ARG(num-1)}function GET_ARG(){return next_arg===undefined?GET_NEXT_ARG():next_arg}function READ_NUM(label){var num,str="";for(;;i++){if(i===len){$Kernel.$raise($$$("ArgumentError"),"malformed format string - %*[0-9]")}if(format_string.charCodeAt(i)<48||format_string.charCodeAt(i)>57){i--;num=parseInt(str,10)||0;if(num>2147483647){$Kernel.$raise($$$("ArgumentError"),""+label+" too big")}return num}str+=format_string.charAt(i)}}function READ_NUM_AFTER_ASTER(label){var arg,num=READ_NUM(label);if(format_string.charAt(i+1)==="$"){i++;arg=GET_POS_ARG(num)}else{arg=GET_NEXT_ARG()}return arg.$to_int()}for(i=format_string.indexOf("%");i!==-1;i=format_string.indexOf("%",i)){str=undefined;flags=FNONE;width=-1;precision=-1;next_arg=undefined;end_slice=i;i++;switch(format_string.charAt(i)){case"%":begin_slice=i;case"":case"\n":case"\0":i++;continue}format_sequence:for(;i<len;i++){switch(format_string.charAt(i)){case" ":CHECK_FOR_FLAGS();flags|=FSPACE;continue format_sequence;case"#":CHECK_FOR_FLAGS();flags|=FSHARP;continue format_sequence;case"+":CHECK_FOR_FLAGS();flags|=FPLUS;continue format_sequence;case"-":CHECK_FOR_FLAGS();flags|=FMINUS;continue format_sequence;case"0":CHECK_FOR_FLAGS();flags|=FZERO;continue format_sequence;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":tmp_num=READ_NUM("width");if(format_string.charAt(i+1)==="$"){if(i+2===len){str="%";i++;break format_sequence}if(next_arg!==undefined){$Kernel.$raise($$$("ArgumentError"),"value given twice - %"+tmp_num+"$")}next_arg=GET_POS_ARG(tmp_num);i++}else{CHECK_FOR_WIDTH();flags|=FWIDTH;width=tmp_num}continue format_sequence;case"<":case"{":closing_brace_char=format_string.charAt(i)==="<"?">":"}";hash_parameter_key="";i++;for(;;i++){if(i===len){$Kernel.$raise($$$("ArgumentError"),"malformed name - unmatched parenthesis")}if(format_string.charAt(i)===closing_brace_char){if(pos_arg_num>0){$Kernel.$raise($$$("ArgumentError"),"named "+hash_parameter_key+" after unnumbered("+pos_arg_num+")")}if(pos_arg_num===-1){$Kernel.$raise($$$("ArgumentError"),"named "+hash_parameter_key+" after numbered")}pos_arg_num=-2;if(args[0]===undefined||!args[0].$$is_hash){$Kernel.$raise($$$("ArgumentError"),"one hash required")}next_arg=args[0].$fetch(hash_parameter_key);if(closing_brace_char===">"){continue format_sequence}else{str=next_arg.toString();if(precision!==-1){str=str.slice(0,precision)}if(flags&FMINUS){while(str.length<width){str=str+" "}}else{while(str.length<width){str=" "+str}}break format_sequence}}hash_parameter_key+=format_string.charAt(i)}case"*":i++;CHECK_FOR_WIDTH();flags|=FWIDTH;width=READ_NUM_AFTER_ASTER("width");if(width<0){flags|=FMINUS;width=-width}continue format_sequence;case".":if(flags&FPREC0){$Kernel.$raise($$$("ArgumentError"),"precision given twice")}flags|=FPREC|FPREC0;precision=0;i++;if(format_string.charAt(i)==="*"){i++;precision=READ_NUM_AFTER_ASTER("precision");if(precision<0){flags&=~FPREC}continue format_sequence}precision=READ_NUM("precision");continue format_sequence;case"d":case"i":case"u":arg=$Kernel.$Integer(GET_ARG());if(arg>=0){str=arg.toString();while(str.length<precision){str="0"+str}if(flags&FMINUS){if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}while(str.length<width){str=str+" "}}else{if(flags&FZERO&&precision===-1){while(str.length<width-(flags&FPLUS||flags&FSPACE?1:0)){str="0"+str}if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}}else{if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}while(str.length<width){str=" "+str}}}}else{str=(-arg).toString();while(str.length<precision){str="0"+str}if(flags&FMINUS){str="-"+str;while(str.length<width){str=str+" "}}else{if(flags&FZERO&&precision===-1){while(str.length<width-1){str="0"+str}str="-"+str}else{str="-"+str;while(str.length<width){str=" "+str}}}}break format_sequence;case"b":case"B":case"o":case"x":case"X":switch(format_string.charAt(i)){case"b":case"B":base_number=2;base_prefix="0b";base_neg_zero_regex=/^1+/;base_neg_zero_digit="1";break;case"o":base_number=8;base_prefix="0";base_neg_zero_regex=/^3?7+/;base_neg_zero_digit="7";break;case"x":case"X":base_number=16;base_prefix="0x";base_neg_zero_regex=/^f+/;base_neg_zero_digit="f";break}arg=$Kernel.$Integer(GET_ARG());if(arg>=0){str=arg.toString(base_number);while(str.length<precision){str="0"+str}if(flags&FMINUS){if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}if(flags&FSHARP&&arg!==0){str=base_prefix+str}while(str.length<width){str=str+" "}}else{if(flags&FZERO&&precision===-1){while(str.length<width-(flags&FPLUS||flags&FSPACE?1:0)-(flags&FSHARP&&arg!==0?base_prefix.length:0)){str="0"+str}if(flags&FSHARP&&arg!==0){str=base_prefix+str}if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}}else{if(flags&FSHARP&&arg!==0){str=base_prefix+str}if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}while(str.length<width){str=" "+str}}}}else{if(flags&FPLUS||flags&FSPACE){str=(-arg).toString(base_number);while(str.length<precision){str="0"+str}if(flags&FMINUS){if(flags&FSHARP){str=base_prefix+str}str="-"+str;while(str.length<width){str=str+" "}}else{if(flags&FZERO&&precision===-1){while(str.length<width-1-(flags&FSHARP?2:0)){str="0"+str}if(flags&FSHARP){str=base_prefix+str}str="-"+str}else{if(flags&FSHARP){str=base_prefix+str}str="-"+str;while(str.length<width){str=" "+str}}}}else{str=(arg>>>0).toString(base_number).replace(base_neg_zero_regex,base_neg_zero_digit);while(str.length<precision-2){str=base_neg_zero_digit+str}if(flags&FMINUS){str=".."+str;if(flags&FSHARP){str=base_prefix+str}while(str.length<width){str=str+" "}}else{if(flags&FZERO&&precision===-1){while(str.length<width-2-(flags&FSHARP?base_prefix.length:0)){str=base_neg_zero_digit+str}str=".."+str;if(flags&FSHARP){str=base_prefix+str}}else{str=".."+str;if(flags&FSHARP){str=base_prefix+str}while(str.length<width){str=" "+str}}}}}if(format_string.charAt(i)===format_string.charAt(i).toUpperCase()){str=str.toUpperCase()}break format_sequence;case"f":case"e":case"E":case"g":case"G":arg=$Kernel.$Float(GET_ARG());if(arg>=0||isNaN(arg)){if(arg===Infinity){str="Inf"}else{switch(format_string.charAt(i)){case"f":str=arg.toFixed(precision===-1?6:precision);break;case"e":case"E":str=arg.toExponential(precision===-1?6:precision);break;case"g":case"G":str=arg.toExponential();exponent=parseInt(str.split("e")[1],10);if(!(exponent<-4||exponent>=(precision===-1?6:precision))){str=arg.toPrecision(precision===-1?flags&FSHARP?6:undefined:precision)}break}}if(flags&FMINUS){if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}while(str.length<width){str=str+" "}}else{if(flags&FZERO&&arg!==Infinity&&!isNaN(arg)){while(str.length<width-(flags&FPLUS||flags&FSPACE?1:0)){str="0"+str}if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}}else{if(flags&FPLUS||flags&FSPACE){str=(flags&FPLUS?"+":" ")+str}while(str.length<width){str=" "+str}}}}else{if(arg===-Infinity){str="Inf"}else{switch(format_string.charAt(i)){case"f":str=(-arg).toFixed(precision===-1?6:precision);break;case"e":case"E":str=(-arg).toExponential(precision===-1?6:precision);break;case"g":case"G":str=(-arg).toExponential();exponent=parseInt(str.split("e")[1],10);if(!(exponent<-4||exponent>=(precision===-1?6:precision))){str=(-arg).toPrecision(precision===-1?flags&FSHARP?6:undefined:precision)}break}}if(flags&FMINUS){str="-"+str;while(str.length<width){str=str+" "}}else{if(flags&FZERO&&arg!==-Infinity){while(str.length<width-1){str="0"+str}str="-"+str}else{str="-"+str;while(str.length<width){str=" "+str}}}}if(format_string.charAt(i)===format_string.charAt(i).toUpperCase()&&arg!==Infinity&&arg!==-Infinity&&!isNaN(arg)){str=str.toUpperCase()}str=str.replace(/([eE][-+]?)([0-9])$/,"$10$2");break format_sequence;case"a":case"A":$Kernel.$raise($$$("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":arg=GET_ARG();if(arg["$respond_to?"]("to_ary")){arg=arg.$to_ary()[0]}if(arg["$respond_to?"]("to_str")){str=arg.$to_str()}else{str=String.fromCharCode($coerce_to(arg,$$$("Integer"),"to_int"))}if(str.length!==1){$Kernel.$raise($$$("ArgumentError"),"%c requires a character")}if(flags&FMINUS){while(str.length<width){str=str+" "}}else{while(str.length<width){str=" "+str}}break format_sequence;case"p":str=GET_ARG().$inspect();if(precision!==-1){str=str.slice(0,precision)}if(flags&FMINUS){while(str.length<width){str=str+" "}}else{while(str.length<width){str=" "+str}}break format_sequence;case"s":str=GET_ARG().$to_s();if(precision!==-1){str=str.slice(0,precision)}if(flags&FMINUS){while(str.length<width){str=str+" "}}else{while(str.length<width){str=" "+str}}break format_sequence;default:$Kernel.$raise($$$("ArgumentError"),"malformed format string - %"+format_string.charAt(i))}}if(str===undefined){$Kernel.$raise($$$("ArgumentError"),"malformed format string - %")}result+=format_string.slice(begin_slice,end_slice)+str;begin_slice=i+1}if($gvars.DEBUG&&pos_arg_num>=0&&seq_arg_num<args.length){$Kernel.$raise($$$("ArgumentError"),"too many arguments for format string")}return result+format_string.slice(begin_slice)}),-2);return $alias(self,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(Opal){var $a,self=Opal.top,$nesting=[],$$=Opal.$r($nesting),nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$hash2=Opal.hash2,$rb_plus=Opal.rb_plus,$truthy=Opal.truthy,$send=Opal.send,$defs=Opal.defs,$eqeq=Opal.eqeq,$def=Opal.def,$return_ivar=Opal.return_ivar,$return_val=Opal.return_val,$Kernel=Opal.Kernel,$Opal=Opal.Opal,$rb_lt=Opal.rb_lt,$alias=Opal.alias;Opal.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external=");self.$require("corelib/string");(function($base,$super){var self=$klass($base,$super,"Encoding");var $proto=self.$$prototype;$proto.name=$proto.dummy=nil;$defs(self,"$register",(function $$register(name,options){var block=$$register.$$p||nil,self=this,names=nil,$ret_or_1=nil,ascii=nil,dummy=nil,encoding=nil,register=nil;delete $$register.$$p;if(options==null)options=$hash2([],{});names=$rb_plus([name],$truthy($ret_or_1=options["$[]"]("aliases"))?$ret_or_1:[]);ascii=$truthy($ret_or_1=options["$[]"]("ascii"))&&$ret_or_1;dummy=$truthy($ret_or_1=options["$[]"]("dummy"))&&$ret_or_1;if($truthy(options["$[]"]("inherits"))){encoding=options["$[]"]("inherits").$clone();encoding.$initialize(name,names,ascii,dummy)}else{encoding=self.$new(name,names,ascii,dummy)}if(block!==nil){$send(encoding,"instance_eval",[],block.$to_proc())}register=Opal.encodings;return $send(names,"each",[],(function $$1(encoding_name){var self=$$1.$$s==null?this:$$1.$$s;if(encoding_name==null)encoding_name=nil;self.$const_set(encoding_name.$tr("-","_"),encoding);return register[encoding_name]=encoding}),{$$arity:1,$$s:self})}),-2);$defs(self,"$find",(function $$find(name){var self=this;if($eqeq(name,"default_external")){return self.$default_external()}return Opal.find_encoding(name)}),1);self.$singleton_class().$attr_accessor("default_external");self.$attr_reader("name","names");$def(self,"$initialize",(function $$initialize(name,names,ascii,dummy){var self=this;self.name=name;self.names=names;self.ascii=ascii;return self.dummy=dummy}),4);$def(self,"$ascii_compatible?",$return_ivar("ascii"),0);$def(self,"$dummy?",$return_ivar("dummy"),0);$def(self,"$binary?",$return_val(false),0);$def(self,"$to_s",$return_ivar("name"),0);$def(self,"$inspect",(function $$inspect(){var self=this;return"#<Encoding:"+self.name+($truthy(self.dummy)?" (dummy)":nil)+">"}),0);$def(self,"$charsize",(function $$charsize(string){var len=0;for(var i=0,length=string.length;i<length;i++){var charcode=string.charCodeAt(i);if(!(charcode>=55296&&charcode<=56319)){len++}}return len}),1);$def(self,"$each_char",(function $$each_char(string){var block=$$each_char.$$p||nil;delete $$each_char.$$p;var low_surrogate="";for(var i=0,length=string.length;i<length;i++){var charcode=string.charCodeAt(i);var chr=string.charAt(i);if(charcode>=56320&&charcode<=57343){low_surrogate=chr;continue}else if(charcode>=55296&&charcode<=56319){chr=low_surrogate+chr}if(string.encoding.name!="UTF-8"){chr=new String(chr);chr.encoding=string.encoding}Opal.yield1(block,chr)}}),1);$def(self,"$each_byte",(function $$each_byte($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return $Kernel.$raise($$$("NotImplementedError"))}),-1);$def(self,"$bytesize",(function $$bytesize($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return $Kernel.$raise($$$("NotImplementedError"))}),-1);$klass("::",$$$("StandardError"),"EncodingError");return $klass("::",$$$("EncodingError"),"CompatibilityError"),nil})("::",null);$send($$$("Encoding"),"register",["UTF-8",$hash2(["aliases","ascii"],{aliases:["CP65001"],ascii:true})],(function $$2(){var self=$$2.$$s==null?this:$$2.$$s;$def(self,"$each_byte",(function $$each_byte(string){var block=$$each_byte.$$p||nil;delete $$each_byte.$$p;var units=Infinity;var codePoint;var length=string.length;var leadSurrogate=null;for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1){Opal.yield1(block,239);Opal.yield1(block,191);Opal.yield1(block,189)}continue}else if(i+1===length){if((units-=3)>-1){Opal.yield1(block,239);Opal.yield1(block,191);Opal.yield1(block,189)}continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1){Opal.yield1(block,239);Opal.yield1(block,191);Opal.yield1(block,189)}leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1){Opal.yield1(block,239);Opal.yield1(block,191);Opal.yield1(block,189)}}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;Opal.yield1(block,codePoint)}else if(codePoint<2048){if((units-=2)<0)break;Opal.yield1(block,codePoint>>6|192);Opal.yield1(block,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;Opal.yield1(block,codePoint>>12|224);Opal.yield1(block,codePoint>>6&63|128);Opal.yield1(block,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;Opal.yield1(block,codePoint>>18|240);Opal.yield1(block,codePoint>>12&63|128);Opal.yield1(block,codePoint>>6&63|128);Opal.yield1(block,codePoint&63|128)}else{}}}),1);return $def(self,"$bytesize",(function $$bytesize(string){return string.$bytes().$length()}),1)}),{$$arity:0,$$s:self});$send($$$("Encoding"),"register",["UTF-16LE"],(function $$3(){var self=$$3.$$s==null?this:$$3.$$s;$def(self,"$each_byte",(function $$each_byte(string){var block=$$each_byte.$$p||nil;delete $$each_byte.$$p;for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,code&255);Opal.yield1(block,code>>8)}}),1);return $def(self,"$bytesize",(function $$bytesize(string){return string.length*2}),1)}),{$$arity:0,$$s:self});$send($$$("Encoding"),"register",["UTF-16BE",$hash2(["inherits"],{inherits:$$$($$$("Encoding"),"UTF_16LE")})],(function $$4(){var self=$$4.$$s==null?this:$$4.$$s;return $def(self,"$each_byte",(function $$each_byte(string){var block=$$each_byte.$$p||nil;delete $$each_byte.$$p;for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,code>>8);Opal.yield1(block,code&255)}}),1)}),{$$arity:0,$$s:self});$send($$$("Encoding"),"register",["UTF-32LE"],(function $$5(){var self=$$5.$$s==null?this:$$5.$$s;$def(self,"$each_byte",(function $$each_byte(string){var block=$$each_byte.$$p||nil;delete $$each_byte.$$p;for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,code&255);Opal.yield1(block,code>>8);Opal.yield1(block,0);Opal.yield1(block,0)}}),1);return $def(self,"$bytesize",(function $$bytesize(string){return string.length*4}),1)}),{$$arity:0,$$s:self});$send($$$("Encoding"),"register",["UTF-32BE",$hash2(["inherits"],{inherits:$$$($$$("Encoding"),"UTF_32LE")})],(function $$6(){var self=$$6.$$s==null?this:$$6.$$s;return $def(self,"$each_byte",(function $$each_byte(string){var block=$$each_byte.$$p||nil;delete $$each_byte.$$p;for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,0);Opal.yield1(block,0);Opal.yield1(block,code>>8);Opal.yield1(block,code&255)}}),1)}),{$$arity:0,$$s:self});$send($$$("Encoding"),"register",["ASCII-8BIT",$hash2(["aliases","ascii"],{aliases:["BINARY"],ascii:true})],(function $$7(){var self=$$7.$$s==null?this:$$7.$$s;$def(self,"$each_char",(function $$each_char(string){var block=$$each_char.$$p||nil;delete $$each_char.$$p;for(var i=0,length=string.length;i<length;i++){var chr=new String(string.charAt(i));chr.encoding=string.encoding;Opal.yield1(block,chr)}}),1);$def(self,"$charsize",(function $$charsize(string){return string.length}),1);$def(self,"$each_byte",(function $$each_byte(string){var block=$$each_byte.$$p||nil;delete $$each_byte.$$p;for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,code&255)}}),1);$def(self,"$bytesize",(function $$bytesize(string){return string.length}),1);return $def(self,"$binary?",$return_val(true),0)}),{$$arity:0,$$s:self});$$$("Encoding").$register("ISO-8859-1",$hash2(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:true,inherits:$$$($$$("Encoding"),"ASCII_8BIT")}));$$$("Encoding").$register("US-ASCII",$hash2(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:true,inherits:$$$($$$("Encoding"),"ASCII_8BIT")}));(function($base,$super){var self=$klass($base,$super,"String");var $proto=self.$$prototype;$proto.internal_encoding=$proto.bytes=$proto.encoding=nil;self.$attr_reader("encoding");self.$attr_reader("internal_encoding");Opal.prop(String.prototype,"bytes",nil);Opal.prop(String.prototype,"encoding",$$$($$$("Encoding"),"UTF_8"));Opal.prop(String.prototype,"internal_encoding",$$$($$$("Encoding"),"UTF_8"));$def(self,"$b",(function $$b(){var self=this;return self.$dup().$force_encoding("binary")}),0);$def(self,"$bytesize",(function $$bytesize(){var self=this;return self.internal_encoding.$bytesize(self)}),0);$def(self,"$each_byte",(function $$each_byte(){var block=$$each_byte.$$p||nil,self=this;delete $$each_byte.$$p;if(!(block!==nil)){return $send(self,"enum_for",["each_byte"],(function $$8(){var self=$$8.$$s==null?this:$$8.$$s;return self.$bytesize()}),{$$arity:0,$$s:self})}$send(self.internal_encoding,"each_byte",[self],block.$to_proc());return self}),0);$def(self,"$bytes",(function $$bytes(){var self=this,$ret_or_1=nil;if(typeof self==="string"){return new String(self).$each_byte().$to_a()}self.bytes=$truthy($ret_or_1=self.bytes)?$ret_or_1:self.$each_byte().$to_a();return self.bytes.$dup()}),0);$def(self,"$each_char",(function $$each_char(){var block=$$each_char.$$p||nil,self=this;delete $$each_char.$$p;if(!(block!==nil)){return $send(self,"enum_for",["each_char"],(function $$9(){var self=$$9.$$s==null?this:$$9.$$s;return self.$length()}),{$$arity:0,$$s:self})}$send(self.encoding,"each_char",[self],block.$to_proc());return self}),0);$def(self,"$chars",(function $$chars(){var block=$$chars.$$p||nil,self=this;delete $$chars.$$p;if(!$truthy(block)){return self.$each_char().$to_a()}return $send(self,"each_char",[],block.$to_proc())}),0);$def(self,"$each_codepoint",(function $$each_codepoint(){var block=$$each_codepoint.$$p||nil,self=this;delete $$each_codepoint.$$p;if(!(block!==nil)){return self.$enum_for("each_codepoint")}for(var i=0,length=self.length;i<length;i++){Opal.yield1(block,self.codePointAt(i))}return self}),0);$def(self,"$codepoints",(function $$codepoints(){var block=$$codepoints.$$p||nil,self=this;delete $$codepoints.$$p;if(block!==nil){return $send(self,"each_codepoint",[],block.$to_proc())}return self.$each_codepoint().$to_a()}),0);$def(self,"$encode",(function $$encode(encoding){var self=this;return Opal.enc(self,encoding)}),1);$def(self,"$force_encoding",(function $$force_encoding(encoding){var self=this;var str=self;if(encoding===str.encoding){return str}encoding=$Opal["$coerce_to!"](encoding,$$$("String"),"to_s");encoding=$$$("Encoding").$find(encoding);if(encoding===str.encoding){return str}str=Opal.set_encoding(str,encoding);return str}),1);$def(self,"$getbyte",(function $$getbyte(idx){var self=this,string_bytes=nil;string_bytes=self.$bytes();idx=$Opal["$coerce_to!"](idx,$$$("Integer"),"to_int");if($truthy($rb_lt(string_bytes.$length(),idx))){return nil}return string_bytes["$[]"](idx)}),1);$def(self,"$initialize_copy",(function $$initialize_copy(other){return"\n"+"      self.encoding = other.encoding;\n"+"      self.internal_encoding = other.internal_encoding;\n"+"    "}),1);$def(self,"$length",(function $$length(){var self=this;return self.length}),0);$alias(self,"size","length");return $def(self,"$valid_encoding?",$return_val(true),0)})("::",null);return $a=[$$$($$("Encoding"),"UTF_8")],$send($$$("Encoding"),"default_external=",$a),$a[$a.length-1]};Opal.modules["corelib/math"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$type_error=Opal.type_error,$module=Opal.module,$const_set=Opal.const_set,$Class=Opal.Class,$Kernel=Opal.Kernel,$defs=Opal.defs,$truthy=Opal.truthy,$send=Opal.send,$def=Opal.def,$rb_minus=Opal.rb_minus,$eqeqeq=Opal.eqeqeq,$rb_divide=Opal.rb_divide;Opal.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?");return function($base,$parent_nesting){var self=$module($base,"Math");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$const_set(self,"E",Math.E);$const_set(self,"PI",Math.PI);$const_set(self,"DomainError",$Class.$new($$$("StandardError")));$defs(self,"$checked",(function $$checked(method,$a){var $post_args,args;$post_args=Opal.slice.call(arguments,1);args=$post_args;if(isNaN(args[0])||args.length==2&&isNaN(args[1])){return NaN}var result=Math[method].apply(null,args);if(isNaN(result)){$Kernel.$raise($$("DomainError"),'Numerical argument is out of domain - "'+method+'"')}return result}),-2);$defs(self,"$float!",(function $Math_float$excl$1(value){try{return $Kernel.$Float(value)}catch($err){if(Opal.rescue($err,[$$$("ArgumentError")])){try{return $Kernel.$raise($type_error(value,$$$("Float")))}finally{Opal.pop_exception()}}else{throw $err}}}),1);$defs(self,"$integer!",(function $Math_integer$excl$2(value){try{return $Kernel.$Integer(value)}catch($err){if(Opal.rescue($err,[$$$("ArgumentError")])){try{return $Kernel.$raise($type_error(value,$$$("Integer")))}finally{Opal.pop_exception()}}else{throw $err}}}),1);self.$module_function();if(!$truthy(typeof Math.erf!=="undefined")){Opal.prop(Math,"erf",(function(x){var A1=.254829592,A2=-.284496736,A3=1.421413741,A4=-1.453152027,A5=1.061405429,P=.3275911;var sign=1;if(x<0){sign=-1}x=Math.abs(x);var t=1/(1+P*x);var y=1-((((A5*t+A4)*t+A3)*t+A2)*t+A1)*t*Math.exp(-x*x);return sign*y}))}if(!$truthy(typeof Math.erfc!=="undefined")){Opal.prop(Math,"erfc",(function(x){var z=Math.abs(x),t=1/(.5*z+1);var A1=t*.17087277+-.82215223,A2=t*A1+1.48851587,A3=t*A2+-1.13520398,A4=t*A3+.27886807,A5=t*A4+-.18628806,A6=t*A5+.09678418,A7=t*A6+.37409196,A8=t*A7+1.00002368,A9=t*A8,A10=-z*z-1.26551223+A9;var a=t*Math.exp(A10);if(x<0){return 2-a}else{return a}}))}$send(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],(function $Math$3(method){var self=$Math$3.$$s==null?this:$Math$3.$$s;if(method==null)method=nil;return $send(self,"define_method",[method],(function $$4(x){if(x==null)x=nil;return $$$("Math").$checked(method,$$$("Math")["$float!"](x))}),1)}),{$$arity:1,$$s:self});$def(self,"$atan2",(function $$atan2(y,x){return $$$("Math").$checked("atan2",$$$("Math")["$float!"](y),$$$("Math")["$float!"](x))}),2);$def(self,"$hypot",(function $$hypot(x,y){return $$$("Math").$checked("hypot",$$$("Math")["$float!"](x),$$$("Math")["$float!"](y))}),2);$def(self,"$frexp",(function $$frexp(x){x=$$("Math")["$float!"](x);if(isNaN(x)){return[NaN,0]}var ex=Math.floor(Math.log(Math.abs(x))/Math.log(2))+1,frac=x/Math.pow(2,ex);return[frac,ex]}),1);$def(self,"$gamma",(function $$gamma(n){n=$$("Math")["$float!"](n);var i,t,x,value,result,twoN,threeN,fourN,fiveN;var G=4.7421875;var P=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(n)){return NaN}if(n===0&&1/n<0){return-Infinity}if(n===-1||n===-Infinity){$Kernel.$raise($$("DomainError"),'Numerical argument is out of domain - "gamma"')}if($$("Integer")["$==="](n)){if(n<=0){return isFinite(n)?Infinity:NaN}if(n>171){return Infinity}value=n-2;result=n-1;while(value>1){result*=value;value--}if(result==0){result=1}return result}if(n<.5){return Math.PI/(Math.sin(Math.PI*n)*$$$("Math").$gamma($rb_minus(1,n)))}if(n>=171.35){return Infinity}if(n>85){twoN=n*n;threeN=twoN*n;fourN=threeN*n;fiveN=fourN*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*twoN)-139/(51840*threeN)-571/(2488320*fourN)+163879/(209018880*fiveN)+5246819/(75246796800*fiveN*n))}n-=1;x=P[0];for(i=1;i<P.length;++i){x+=P[i]/(n+i)}t=n+G+.5;return Math.sqrt(2*Math.PI)*Math.pow(t,n+.5)*Math.exp(-t)*x}),1);$def(self,"$ldexp",(function $$ldexp(mantissa,exponent){mantissa=$$("Math")["$float!"](mantissa);exponent=$$("Math")["$integer!"](exponent);if(isNaN(exponent)){$Kernel.$raise($$$("RangeError"),"float NaN out of range of integer")}return mantissa*Math.pow(2,exponent)}),2);$def(self,"$lgamma",(function $$lgamma(n){if(n==-1){return[Infinity,1]}else{return[Math.log(Math.abs($$$("Math").$gamma(n))),$$$("Math").$gamma(n)<0?-1:1]}}),1);$def(self,"$log",(function $$log(x,base){if($eqeqeq($$$("String"),x)){$Kernel.$raise($type_error(x,$$$("Float")))}if($truthy(base==null)){return $$$("Math").$checked("log",$$$("Math")["$float!"](x))}else{if($eqeqeq($$$("String"),base)){$Kernel.$raise($type_error(base,$$$("Float")))}return $rb_divide($$$("Math").$checked("log",$$$("Math")["$float!"](x)),$$$("Math").$checked("log",$$$("Math")["$float!"](base)))}}),-2);$def(self,"$log10",(function $$log10(x){if($eqeqeq($$$("String"),x)){$Kernel.$raise($type_error(x,$$$("Float")))}return $$$("Math").$checked("log10",$$$("Math")["$float!"](x))}),1);$def(self,"$log2",(function $$log2(x){if($eqeqeq($$$("String"),x)){$Kernel.$raise($type_error(x,$$$("Float")))}return $$$("Math").$checked("log2",$$$("Math")["$float!"](x))}),1);return $def(self,"$tan",(function $$tan(x){x=$$$("Math")["$float!"](x);if($truthy(x["$infinite?"]())){return $$$($$$("Float"),"NAN")}return $$$("Math").$checked("tan",$$$("Math")["$float!"](x))}),1)}("::",$nesting)};Opal.modules["corelib/complex/base"]=function(Opal){var $nesting=[],nil=Opal.nil,$module=Opal.module,$truthy=Opal.truthy,$def=Opal.def,$klass=Opal.klass;Opal.add_stubs("new,from_string");(function($base,$parent_nesting){var self=$module($base,"Kernel");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$Complex",(function $$Complex(real,imag){if(imag==null)imag=nil;if($truthy(imag)){return $$("Complex").$new(real,imag)}else{return $$("Complex").$new(real,0)}}),-2)})("::",$nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"String");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$to_c",(function $$to_c(){var self=this;return $$("Complex").$from_string(self)}),0)}("::",null,$nesting)};Opal.modules["corelib/complex"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$truthy=Opal.truthy,$eqeqeq=Opal.eqeqeq,$Kernel=Opal.Kernel,$defs=Opal.defs,$rb_times=Opal.rb_times,$def=Opal.def,$rb_plus=Opal.rb_plus,$rb_minus=Opal.rb_minus,$rb_divide=Opal.rb_divide,$eqeq=Opal.eqeq,$to_ary=Opal.to_ary,$rb_gt=Opal.rb_gt,$neqeq=Opal.neqeq,$return_val=Opal.return_val,$const_set=Opal.const_set,$alias=Opal.alias;Opal.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle");self.$require("corelib/numeric");self.$require("corelib/complex/base");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Complex");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.real=$proto.imag=nil;$defs(self,"$rect",(function $$rect(real,imag){var self=this;if(imag==null)imag=0;if(!($eqeqeq($$$("Numeric"),real)&&$truthy(real["$real?"]())&&$eqeqeq($$$("Numeric"),imag)&&$truthy(imag["$real?"]()))){$Kernel.$raise($$$("TypeError"),"not a real")}return self.$new(real,imag)}),-2);$defs(self,"$polar",(function $$polar(r,theta){var self=this;if(theta==null)theta=0;if(!($eqeqeq($$$("Numeric"),r)&&$truthy(r["$real?"]())&&$eqeqeq($$$("Numeric"),theta)&&$truthy(theta["$real?"]()))){$Kernel.$raise($$$("TypeError"),"not a real")}return self.$new($rb_times(r,$$$("Math").$cos(theta)),$rb_times(r,$$$("Math").$sin(theta)))}),-2);self.$attr_reader("real","imag");$def(self,"$initialize",(function $$initialize(real,imag){var self=this;if(imag==null)imag=0;self.real=real;return self.imag=imag}),-2);$def(self,"$coerce",(function $$coerce(other){var self=this;if($eqeqeq($$$("Complex"),other)){return[other,self]}else if($eqeqeq($$$("Numeric"),other)&&$truthy(other["$real?"]())){return[$$$("Complex").$new(other,0),self]}else{return $Kernel.$raise($$$("TypeError"),""+other.$class()+" can't be coerced into Complex")}}),1);$def(self,"$==",(function $Complex_$eq_eq$1(other){var self=this,$ret_or_1=nil;if($eqeqeq($$$("Complex"),other)){if($truthy($ret_or_1=self.real["$=="](other.$real()))){return self.imag["$=="](other.$imag())}else{return $ret_or_1}}else if($eqeqeq($$$("Numeric"),other)&&$truthy(other["$real?"]())){if($truthy($ret_or_1=self.real["$=="](other))){return self.imag["$=="](0)}else{return $ret_or_1}}else{return other["$=="](self)}}),1);$def(self,"$-@",(function $Complex_$minus$$2(){var self=this;return $Kernel.$Complex(self.real["$-@"](),self.imag["$-@"]())}),0);$def(self,"$+",(function $Complex_$plus$3(other){var self=this;if($eqeqeq($$$("Complex"),other)){return $Kernel.$Complex($rb_plus(self.real,other.$real()),$rb_plus(self.imag,other.$imag()))}else if($eqeqeq($$$("Numeric"),other)&&$truthy(other["$real?"]())){return $Kernel.$Complex($rb_plus(self.real,other),self.imag)}else{return self.$__coerced__("+",other)}}),1);$def(self,"$-",(function $Complex_$minus$4(other){var self=this;if($eqeqeq($$$("Complex"),other)){return $Kernel.$Complex($rb_minus(self.real,other.$real()),$rb_minus(self.imag,other.$imag()))}else if($eqeqeq($$$("Numeric"),other)&&$truthy(other["$real?"]())){return $Kernel.$Complex($rb_minus(self.real,other),self.imag)}else{return self.$__coerced__("-",other)}}),1);$def(self,"$*",(function $Complex_$$5(other){var self=this;if($eqeqeq($$$("Complex"),other)){return $Kernel.$Complex($rb_minus($rb_times(self.real,other.$real()),$rb_times(self.imag,other.$imag())),$rb_plus($rb_times(self.real,other.$imag()),$rb_times(self.imag,other.$real())))}else if($eqeqeq($$$("Numeric"),other)&&$truthy(other["$real?"]())){return $Kernel.$Complex($rb_times(self.real,other),$rb_times(self.imag,other))}else{return self.$__coerced__("*",other)}}),1);$def(self,"$/",(function $Complex_$slash$6(other){var self=this;if($eqeqeq($$$("Complex"),other)){if($eqeqeq($$$("Number"),self.real)&&$truthy(self.real["$nan?"]())||$eqeqeq($$$("Number"),self.imag)&&$truthy(self.imag["$nan?"]())||$eqeqeq($$$("Number"),other.$real())&&$truthy(other.$real()["$nan?"]())||$eqeqeq($$$("Number"),other.$imag())&&$truthy(other.$imag()["$nan?"]())){return $$$("Complex").$new($$$($$$("Float"),"NAN"),$$$($$$("Float"),"NAN"))}else{return $rb_divide($rb_times(self,other.$conj()),other.$abs2())}}else if($eqeqeq($$$("Numeric"),other)&&$truthy(other["$real?"]())){return $Kernel.$Complex(self.real.$quo(other),self.imag.$quo(other))}else{return self.$__coerced__("/",other)}}),1);$def(self,"$**",(function $Complex_$$$7(other){var $a,$b,$c,$d,self=this,r=nil,theta=nil,ore=nil,oim=nil,nr=nil,ntheta=nil,x=nil,z=nil,n=nil,div=nil,mod=nil;if($eqeq(other,0)){return $$$("Complex").$new(1,0)}if($eqeqeq($$$("Complex"),other)){$b=self.$polar(),$a=$to_ary($b),r=$a[0]==null?nil:$a[0],theta=$a[1]==null?nil:$a[1],$b;ore=other.$real();oim=other.$imag();nr=$$$("Math").$exp($rb_minus($rb_times(ore,$$$("Math").$log(r)),$rb_times(oim,theta)));ntheta=$rb_plus($rb_times(theta,ore),$rb_times(oim,$$$("Math").$log(r)));return $$$("Complex").$polar(nr,ntheta)}else if($eqeqeq($$$("Integer"),other)){if($truthy($rb_gt(other,0))){x=self;z=x;n=$rb_minus(other,1);while($neqeq(n,0)){$c=n.$divmod(2),$b=$to_ary($c),div=$b[0]==null?nil:$b[0],mod=$b[1]==null?nil:$b[1],$c;while($eqeq(mod,0)){x=$Kernel.$Complex($rb_minus($rb_times(x.$real(),x.$real()),$rb_times(x.$imag(),x.$imag())),$rb_times($rb_times(2,x.$real()),x.$imag()));n=div;$d=n.$divmod(2),$c=$to_ary($d),div=$c[0]==null?nil:$c[0],mod=$c[1]==null?nil:$c[1],$d}z=$rb_times(z,x);n=$rb_minus(n,1)}return z}else{return $rb_divide($$$("Rational").$new(1,1),self)["$**"](other["$-@"]())}}else if($eqeqeq($$$("Float"),other)||$eqeqeq($$$("Rational"),other)){$b=self.$polar(),$a=$to_ary($b),r=$a[0]==null?nil:$a[0],theta=$a[1]==null?nil:$a[1],$b;return $$$("Complex").$polar(r["$**"](other),$rb_times(theta,other))}else{return self.$__coerced__("**",other)}}),1);$def(self,"$abs",(function $$abs(){var self=this;return $$$("Math").$hypot(self.real,self.imag)}),0);$def(self,"$abs2",(function $$abs2(){var self=this;return $rb_plus($rb_times(self.real,self.real),$rb_times(self.imag,self.imag))}),0);$def(self,"$angle",(function $$angle(){var self=this;return $$$("Math").$atan2(self.imag,self.real)}),0);$def(self,"$conj",(function $$conj(){var self=this;return $Kernel.$Complex(self.real,self.imag["$-@"]())}),0);$def(self,"$denominator",(function $$denominator(){var self=this;return self.real.$denominator().$lcm(self.imag.$denominator())}),0);$def(self,"$eql?",(function $Complex_eql$ques$8(other){var self=this,$ret_or_1=nil,$ret_or_2=nil;if($truthy($ret_or_1=$truthy($ret_or_2=$$("Complex")["$==="](other))?self.real.$class()["$=="](self.imag.$class()):$ret_or_2)){return self["$=="](other)}else{return $ret_or_1}}),1);$def(self,"$fdiv",(function $$fdiv(other){var self=this;if(!$eqeqeq($$$("Numeric"),other)){$Kernel.$raise($$$("TypeError"),""+other.$class()+" can't be coerced into Complex")}return $rb_divide(self,other)}),1);$def(self,"$finite?",(function $Complex_finite$ques$9(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.real["$finite?"]())){return self.imag["$finite?"]()}else{return $ret_or_1}}),0);$def(self,"$hash",(function $$hash(){var self=this;return"Complex:"+self.real+":"+self.imag}),0);$def(self,"$infinite?",(function $Complex_infinite$ques$10(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.real["$infinite?"]())){return $ret_or_1}else{return self.imag["$infinite?"]()}}),0);$def(self,"$inspect",(function $$inspect(){var self=this;return"("+self+")"}),0);$def(self,"$numerator",(function $$numerator(){var self=this,d=nil;d=self.$denominator();return $Kernel.$Complex($rb_times(self.real.$numerator(),$rb_divide(d,self.real.$denominator())),$rb_times(self.imag.$numerator(),$rb_divide(d,self.imag.$denominator())))}),0);$def(self,"$polar",(function $$polar(){var self=this;return[self.$abs(),self.$arg()]}),0);$def(self,"$rationalize",(function $$rationalize(eps){var self=this;if(arguments.length>1){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)")}if($neqeq(self.imag,0)){$Kernel.$raise($$$("RangeError"),"can't convert "+self+" into Rational")}return self.$real().$rationalize(eps)}),-1);$def(self,"$real?",$return_val(false),0);$def(self,"$rect",(function $$rect(){var self=this;return[self.real,self.imag]}),0);$def(self,"$to_f",(function $$to_f(){var self=this;if(!$eqeq(self.imag,0)){$Kernel.$raise($$$("RangeError"),"can't convert "+self+" into Float")}return self.real.$to_f()}),0);$def(self,"$to_i",(function $$to_i(){var self=this;if(!$eqeq(self.imag,0)){$Kernel.$raise($$$("RangeError"),"can't convert "+self+" into Integer")}return self.real.$to_i()}),0);$def(self,"$to_r",(function $$to_r(){var self=this;if(!$eqeq(self.imag,0)){$Kernel.$raise($$$("RangeError"),"can't convert "+self+" into Rational")}return self.real.$to_r()}),0);$def(self,"$to_s",(function $$to_s(){var self=this,result=nil;result=self.real.$inspect();result=$rb_plus(result,$eqeqeq($$$("Number"),self.imag)&&$truthy(self.imag["$nan?"]())||$truthy(self.imag["$positive?"]())||$truthy(self.imag["$zero?"]())?"+":"-");result=$rb_plus(result,self.imag.$abs().$inspect());if($eqeqeq($$$("Number"),self.imag)&&($truthy(self.imag["$nan?"]())||$truthy(self.imag["$infinite?"]()))){result=$rb_plus(result,"*")}return $rb_plus(result,"i")}),0);$const_set($nesting[0],"I",self.$new(0,1));$defs(self,"$from_string",(function $$from_string(str){var re=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/,match=str.match(re),real,imag,denominator;function isFloat(){return re.test(str)}function cutFloat(){var match=str.match(re);var number=match[0];str=str.slice(number.length);return number.replace(/_/g,"")}function cutNumber(){if(isFloat()){var numerator=parseFloat(cutFloat());if(str[0]==="/"){str=str.slice(1);if(isFloat()){var denominator=parseFloat(cutFloat());return $Kernel.$Rational(numerator,denominator)}else{str="/"+str;return numerator}}else{return numerator}}else{return null}}real=cutNumber();if(!real){if(str[0]==="i"){return $Kernel.$Complex(0,1)}if(str[0]==="-"&&str[1]==="i"){return $Kernel.$Complex(0,-1)}if(str[0]==="+"&&str[1]==="i"){return $Kernel.$Complex(0,1)}return $Kernel.$Complex(0,0)}imag=cutNumber();if(!imag){if(str[0]==="i"){return $Kernel.$Complex(0,real)}else{return $Kernel.$Complex(real,0)}}else{return $Kernel.$Complex(real,imag)}}),1);(function(self,$parent_nesting){return $alias(self,"rectangular","rect")})(Opal.get_singleton_class(self),$nesting);$alias(self,"arg","angle");$alias(self,"conjugate","conj");$alias(self,"divide","/");$alias(self,"imaginary","imag");$alias(self,"magnitude","abs");$alias(self,"phase","arg");$alias(self,"quo","/");$alias(self,"rectangular","rect");Opal.udef(self,"$"+"negative?");Opal.udef(self,"$"+"positive?");Opal.udef(self,"$"+"step");return nil}("::",$$$("Numeric"),$nesting)};Opal.modules["corelib/rational/base"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$def=Opal.def,$klass=Opal.klass;Opal.add_stubs("convert,from_string");(function($base){var self=$module($base,"Kernel");return $def(self,"$Rational",(function $$Rational(numerator,denominator){if(denominator==null)denominator=1;return $$$("Rational").$convert(numerator,denominator)}),-2)})("::");return function($base,$super){var self=$klass($base,$super,"String");return $def(self,"$to_r",(function $$to_r(){var self=this;return $$$("Rational").$from_string(self)}),0)}("::",null)};Opal.modules["corelib/rational"]=function(Opal){var self=Opal.top,nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$eqeq=Opal.eqeq,$Kernel=Opal.Kernel,$truthy=Opal.truthy,$rb_lt=Opal.rb_lt,$rb_divide=Opal.rb_divide,$defs=Opal.defs,$eqeqeq=Opal.eqeqeq,$not=Opal.not,$Opal=Opal.Opal,$def=Opal.def,$return_ivar=Opal.return_ivar,$rb_minus=Opal.rb_minus,$rb_times=Opal.rb_times,$rb_plus=Opal.rb_plus,$rb_gt=Opal.rb_gt,$rb_le=Opal.rb_le,$return_self=Opal.return_self,$alias=Opal.alias;Opal.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send");self.$require("corelib/numeric");self.$require("corelib/rational/base");return function($base,$super){var self=$klass($base,$super,"Rational");var $proto=self.$$prototype;$proto.num=$proto.den=nil;$defs(self,"$reduce",(function $$reduce(num,den){var self=this,gcd=nil;num=num.$to_i();den=den.$to_i();if($eqeq(den,0)){$Kernel.$raise($$$("ZeroDivisionError"),"divided by 0")}else if($truthy($rb_lt(den,0))){num=num["$-@"]();den=den["$-@"]()}else if($eqeq(den,1)){return self.$new(num,den)}gcd=num.$gcd(den);return self.$new($rb_divide(num,gcd),$rb_divide(den,gcd))}),2);$defs(self,"$convert",(function $$convert(num,den){var self=this;if($truthy(num["$nil?"]())||$truthy(den["$nil?"]())){$Kernel.$raise($$$("TypeError"),"cannot convert nil into Rational")}if($eqeqeq($$$("Integer"),num)&&$eqeqeq($$$("Integer"),den)){return self.$reduce(num,den)}if($eqeqeq($$$("Float"),num)||$eqeqeq($$$("String"),num)||$eqeqeq($$$("Complex"),num)){num=num.$to_r()}if($eqeqeq($$$("Float"),den)||$eqeqeq($$$("String"),den)||$eqeqeq($$$("Complex"),den)){den=den.$to_r()}if($truthy(den["$equal?"](1))&&$not($$$("Integer")["$==="](num))){return $Opal["$coerce_to!"](num,$$$("Rational"),"to_r")}else if($eqeqeq($$$("Numeric"),num)&&$eqeqeq($$$("Numeric"),den)){return $rb_divide(num,den)}else{return self.$reduce(num,den)}}),2);$def(self,"$initialize",(function $$initialize(num,den){var self=this;self.num=num;return self.den=den}),2);$def(self,"$numerator",$return_ivar("num"),0);$def(self,"$denominator",$return_ivar("den"),0);$def(self,"$coerce",(function $$coerce(other){var self=this,$ret_or_1=nil;if($eqeqeq($$$("Rational"),$ret_or_1=other)){return[other,self]}else if($eqeqeq($$$("Integer"),$ret_or_1)){return[other.$to_r(),self]}else if($eqeqeq($$$("Float"),$ret_or_1)){return[other,self.$to_f()]}else{return nil}}),1);$def(self,"$==",(function $Rational_$eq_eq$1(other){var self=this,$ret_or_1=nil,$ret_or_2=nil;if($eqeqeq($$$("Rational"),$ret_or_1=other)){if($truthy($ret_or_2=self.num["$=="](other.$numerator()))){return self.den["$=="](other.$denominator())}else{return $ret_or_2}}else if($eqeqeq($$$("Integer"),$ret_or_1)){if($truthy($ret_or_2=self.num["$=="](other))){return self.den["$=="](1)}else{return $ret_or_2}}else if($eqeqeq($$$("Float"),$ret_or_1)){return self.$to_f()["$=="](other)}else{return other["$=="](self)}}),1);$def(self,"$<=>",(function $Rational_$lt_eq_gt$2(other){var self=this,$ret_or_1=nil;if($eqeqeq($$$("Rational"),$ret_or_1=other)){return $rb_minus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator()))["$<=>"](0)}else if($eqeqeq($$$("Integer"),$ret_or_1)){return $rb_minus(self.num,$rb_times(self.den,other))["$<=>"](0)}else if($eqeqeq($$$("Float"),$ret_or_1)){return self.$to_f()["$<=>"](other)}else{return self.$__coerced__("<=>",other)}}),1);$def(self,"$+",(function $Rational_$plus$3(other){var self=this,$ret_or_1=nil,num=nil,den=nil;if($eqeqeq($$$("Rational"),$ret_or_1=other)){num=$rb_plus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator()));den=$rb_times(self.den,other.$denominator());return $Kernel.$Rational(num,den)}else if($eqeqeq($$$("Integer"),$ret_or_1)){return $Kernel.$Rational($rb_plus(self.num,$rb_times(other,self.den)),self.den)}else if($eqeqeq($$$("Float"),$ret_or_1)){return $rb_plus(self.$to_f(),other)}else{return self.$__coerced__("+",other)}}),1);$def(self,"$-",(function $Rational_$minus$4(other){var self=this,$ret_or_1=nil,num=nil,den=nil;if($eqeqeq($$$("Rational"),$ret_or_1=other)){num=$rb_minus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator()));den=$rb_times(self.den,other.$denominator());return $Kernel.$Rational(num,den)}else if($eqeqeq($$$("Integer"),$ret_or_1)){return $Kernel.$Rational($rb_minus(self.num,$rb_times(other,self.den)),self.den)}else if($eqeqeq($$$("Float"),$ret_or_1)){return $rb_minus(self.$to_f(),other)}else{return self.$__coerced__("-",other)}}),1);$def(self,"$*",(function $Rational_$$5(other){var self=this,$ret_or_1=nil,num=nil,den=nil;if($eqeqeq($$$("Rational"),$ret_or_1=other)){num=$rb_times(self.num,other.$numerator());den=$rb_times(self.den,other.$denominator());return $Kernel.$Rational(num,den)}else if($eqeqeq($$$("Integer"),$ret_or_1)){return $Kernel.$Rational($rb_times(self.num,other),self.den)}else if($eqeqeq($$$("Float"),$ret_or_1)){return $rb_times(self.$to_f(),other)}else{return self.$__coerced__("*",other)}}),1);$def(self,"$/",(function $Rational_$slash$6(other){var self=this,$ret_or_1=nil,num=nil,den=nil;if($eqeqeq($$$("Rational"),$ret_or_1=other)){num=$rb_times(self.num,other.$denominator());den=$rb_times(self.den,other.$numerator());return $Kernel.$Rational(num,den)}else if($eqeqeq($$$("Integer"),$ret_or_1)){if($eqeq(other,0)){return $rb_divide(self.$to_f(),0)}else{return $Kernel.$Rational(self.num,$rb_times(self.den,other))}}else if($eqeqeq($$$("Float"),$ret_or_1)){return $rb_divide(self.$to_f(),other)}else{return self.$__coerced__("/",other)}}),1);$def(self,"$**",(function $Rational_$$$7(other){var self=this,$ret_or_1=nil;if($eqeqeq($$$("Integer"),$ret_or_1=other)){if($eqeq(self,0)&&$truthy($rb_lt(other,0))){return $$$($$$("Float"),"INFINITY")}else if($truthy($rb_gt(other,0))){return $Kernel.$Rational(self.num["$**"](other),self.den["$**"](other))}else if($truthy($rb_lt(other,0))){return $Kernel.$Rational(self.den["$**"](other["$-@"]()),self.num["$**"](other["$-@"]()))}else{return $Kernel.$Rational(1,1)}}else if($eqeqeq($$$("Float"),$ret_or_1)){return self.$to_f()["$**"](other)}else if($eqeqeq($$$("Rational"),$ret_or_1)){if($eqeq(other,0)){return $Kernel.$Rational(1,1)}else if($eqeq(other.$denominator(),1)){if($truthy($rb_lt(other,0))){return $Kernel.$Rational(self.den["$**"](other.$numerator().$abs()),self.num["$**"](other.$numerator().$abs()))}else{return $Kernel.$Rational(self.num["$**"](other.$numerator()),self.den["$**"](other.$numerator()))}}else if($eqeq(self,0)&&$truthy($rb_lt(other,0))){return $Kernel.$raise($$$("ZeroDivisionError"),"divided by 0")}else{return self.$to_f()["$**"](other)}}else{return self.$__coerced__("**",other)}}),1);$def(self,"$abs",(function $$abs(){var self=this;return $Kernel.$Rational(self.num.$abs(),self.den.$abs())}),0);$def(self,"$ceil",(function $$ceil(precision){var self=this;if(precision==null)precision=0;if($eqeq(precision,0)){return $rb_divide(self.num["$-@"](),self.den)["$-@"]().$ceil()}else{return self.$with_precision("ceil",precision)}}),-1);$def(self,"$floor",(function $$floor(precision){var self=this;if(precision==null)precision=0;if($eqeq(precision,0)){return $rb_divide(self.num["$-@"](),self.den)["$-@"]().$floor()}else{return self.$with_precision("floor",precision)}}),-1);$def(self,"$hash",(function $$hash(){var self=this;return"Rational:"+self.num+":"+self.den}),0);$def(self,"$inspect",(function $$inspect(){var self=this;return"("+self+")"}),0);$def(self,"$rationalize",(function $$rationalize(eps){var self=this;if(arguments.length>1){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)")}if(eps==null){return self}var e=eps.$abs(),a=$rb_minus(self,e),b=$rb_plus(self,e);var p0=0,p1=1,q0=1,q1=0,p2,q2;var c,k,t;while(true){c=a.$ceil();if($rb_le(c,b)){break}k=c-1;p2=k*p1+p0;q2=k*q1+q0;t=$rb_divide(1,$rb_minus(b,k));b=$rb_divide(1,$rb_minus(a,k));a=t;p0=p1;q0=q1;p1=p2;q1=q2}return $Kernel.$Rational(c*p1+p0,c*q1+q0)}),-1);$def(self,"$round",(function $$round(precision){var self=this,num=nil,den=nil,approx=nil;if(precision==null)precision=0;if(!$eqeq(precision,0)){return self.$with_precision("round",precision)}if($eqeq(self.num,0)){return 0}if($eqeq(self.den,1)){return self.num}num=$rb_plus($rb_times(self.num.$abs(),2),self.den);den=$rb_times(self.den,2);approx=$rb_divide(num,den).$truncate();if($truthy($rb_lt(self.num,0))){return approx["$-@"]()}else{return approx}}),-1);$def(self,"$to_f",(function $$to_f(){var self=this;return $rb_divide(self.num,self.den)}),0);$def(self,"$to_i",(function $$to_i(){var self=this;return self.$truncate()}),0);$def(self,"$to_r",$return_self,0);$def(self,"$to_s",(function $$to_s(){var self=this;return""+self.num+"/"+self.den}),0);$def(self,"$truncate",(function $$truncate(precision){var self=this;if(precision==null)precision=0;if($eqeq(precision,0)){if($truthy($rb_lt(self.num,0))){return self.$ceil()}else{return self.$floor()}}else{return self.$with_precision("truncate",precision)}}),-1);$def(self,"$with_precision",(function $$with_precision(method,precision){var self=this,p=nil,s=nil;if(!$eqeqeq($$$("Integer"),precision)){$Kernel.$raise($$$("TypeError"),"not an Integer")}p=10["$**"](precision);s=$rb_times(self,p);if($truthy($rb_lt(precision,1))){return $rb_divide(s.$send(method),p).$to_i()}else{return $Kernel.$Rational(s.$send(method),p)}}),2);$defs(self,"$from_string",(function $$from_string(string){var str=string.trimLeft(),re=/^[+-]?[\d_]+(\.[\d_]+)?/,match=str.match(re),numerator,denominator;function isFloat(){return re.test(str)}function cutFloat(){var match=str.match(re);var number=match[0];str=str.slice(number.length);return number.replace(/_/g,"")}if(isFloat()){numerator=parseFloat(cutFloat());if(str[0]==="/"){str=str.slice(1);if(isFloat()){denominator=parseFloat(cutFloat());return $Kernel.$Rational(numerator,denominator)}else{return $Kernel.$Rational(numerator,1)}}else{return $Kernel.$Rational(numerator,1)}}else{return $Kernel.$Rational(0,1)}}),1);$alias(self,"divide","/");return $alias(self,"quo","/")}("::",$$$("Numeric"))};Opal.modules["corelib/time"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$slice=Opal.slice,$klass=Opal.klass,$Kernel=Opal.Kernel,$Opal=Opal.Opal,$defs=Opal.defs,$eqeqeq=Opal.eqeqeq,$def=Opal.def,$truthy=Opal.truthy,$rb_gt=Opal.rb_gt,$rb_lt=Opal.rb_lt,$send=Opal.send,$rb_plus=Opal.rb_plus,$rb_divide=Opal.rb_divide,$rb_minus=Opal.rb_minus,$range=Opal.range,$neqeq=Opal.neqeq,$rb_le=Opal.rb_le,$eqeq=Opal.eqeq,$alias=Opal.alias;Opal.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?");self.$require("corelib/comparable");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Time");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);self.$include($$$("Comparable"));var days_of_week=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],short_days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],short_months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long_months=["January","February","March","April","May","June","July","August","September","October","November","December"];$defs(self,"$at",(function $$at(seconds,frac){var result;if($$$("Time")["$==="](seconds)){if(frac!==undefined){$Kernel.$raise($$$("TypeError"),"can't convert Time into an exact number")}result=new Date(seconds.getTime());result.timezone=seconds.timezone;return result}if(!seconds.$$is_number){seconds=$Opal["$coerce_to!"](seconds,$$$("Integer"),"to_int")}if(frac===undefined){return new Date(seconds*1e3)}if(!frac.$$is_number){frac=$Opal["$coerce_to!"](frac,$$$("Integer"),"to_int")}return new Date(seconds*1e3+frac/1e3)}),-2);function time_params(year,month,day,hour,min,sec){if(year.$$is_string){year=parseInt(year,10)}else{year=$Opal["$coerce_to!"](year,$$$("Integer"),"to_int")}if(month===nil){month=1}else if(!month.$$is_number){if(month["$respond_to?"]("to_str")){month=month.$to_str();switch(month.toLowerCase()){case"jan":month=1;break;case"feb":month=2;break;case"mar":month=3;break;case"apr":month=4;break;case"may":month=5;break;case"jun":month=6;break;case"jul":month=7;break;case"aug":month=8;break;case"sep":month=9;break;case"oct":month=10;break;case"nov":month=11;break;case"dec":month=12;break;default:month=month.$to_i()}}else{month=$Opal["$coerce_to!"](month,$$$("Integer"),"to_int")}}if(month<1||month>12){$Kernel.$raise($$$("ArgumentError"),"month out of range: "+month)}month=month-1;if(day===nil){day=1}else if(day.$$is_string){day=parseInt(day,10)}else{day=$Opal["$coerce_to!"](day,$$$("Integer"),"to_int")}if(day<1||day>31){$Kernel.$raise($$$("ArgumentError"),"day out of range: "+day)}if(hour===nil){hour=0}else if(hour.$$is_string){hour=parseInt(hour,10)}else{hour=$Opal["$coerce_to!"](hour,$$$("Integer"),"to_int")}if(hour<0||hour>24){$Kernel.$raise($$$("ArgumentError"),"hour out of range: "+hour)}if(min===nil){min=0}else if(min.$$is_string){min=parseInt(min,10)}else{min=$Opal["$coerce_to!"](min,$$$("Integer"),"to_int")}if(min<0||min>59){$Kernel.$raise($$$("ArgumentError"),"min out of range: "+min)}if(sec===nil){sec=0}else if(!sec.$$is_number){if(sec.$$is_string){sec=parseInt(sec,10)}else{sec=$Opal["$coerce_to!"](sec,$$$("Integer"),"to_int")}}if(sec<0||sec>60){$Kernel.$raise($$$("ArgumentError"),"sec out of range: "+sec)}return[year,month,day,hour,min,sec]}$defs(self,"$new",(function $Time_new$1(year,month,day,hour,min,sec,utc_offset){var self=this;if(month==null)month=nil;if(day==null)day=nil;if(hour==null)hour=nil;if(min==null)min=nil;if(sec==null)sec=nil;if(utc_offset==null)utc_offset=nil;var args,result,timezone;if(year===undefined){return new Date}args=time_params(year,month,day,hour,min,sec);year=args[0];month=args[1];day=args[2];hour=args[3];min=args[4];sec=args[5];result=new Date(year,month,day,hour,min,0,sec*1e3);if(year<100){result.setFullYear(year)}if(utc_offset!==nil){timezone=self.$_parse_offset(utc_offset)}if(timezone!=null){result=new Date(result.getTime()-timezone*36e5-result.getTimezoneOffset()*6e4);result.timezone=timezone}return result}),-1);$defs(self,"$_parse_offset",(function $$_parse_offset(utc_offset){var timezone;if(utc_offset.$$is_string){if(utc_offset=="UTC"){timezone=0}else if(/^[+-]\d\d:[0-5]\d$/.test(utc_offset)){var sign,hours,minutes;sign=utc_offset[0];hours=+(utc_offset[1]+utc_offset[2]);minutes=+(utc_offset[4]+utc_offset[5]);timezone=(sign=="-"?-1:1)*(hours+minutes/60)}else{$Kernel.$raise($$$("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+utc_offset)}}else if(utc_offset.$$is_number){timezone=utc_offset/3600}else{$Kernel.$raise($$$("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String")}return timezone}),1);$defs(self,"$local",(function $$local(year,month,day,hour,min,sec,millisecond,_dummy1,_dummy2,_dummy3){if(month==null)month=nil;if(day==null)day=nil;if(hour==null)hour=nil;if(min==null)min=nil;if(sec==null)sec=nil;if(millisecond==null)millisecond=nil;if(_dummy1==null)_dummy1=nil;if(_dummy2==null)_dummy2=nil;if(_dummy3==null)_dummy3=nil;var args,result;if(arguments.length===10){args=$slice.call(arguments);year=args[5];month=args[4];day=args[3];hour=args[2];min=args[1];sec=args[0]}args=time_params(year,month,day,hour,min,sec);year=args[0];month=args[1];day=args[2];hour=args[3];min=args[4];sec=args[5];result=new Date(year,month,day,hour,min,0,sec*1e3);if(year<100){result.setFullYear(year)}return result}),-2);$defs(self,"$gm",(function $$gm(year,month,day,hour,min,sec,millisecond,_dummy1,_dummy2,_dummy3){if(month==null)month=nil;if(day==null)day=nil;if(hour==null)hour=nil;if(min==null)min=nil;if(sec==null)sec=nil;if(millisecond==null)millisecond=nil;if(_dummy1==null)_dummy1=nil;if(_dummy2==null)_dummy2=nil;if(_dummy3==null)_dummy3=nil;var args,result;if(arguments.length===10){args=$slice.call(arguments);year=args[5];month=args[4];day=args[3];hour=args[2];min=args[1];sec=args[0]}args=time_params(year,month,day,hour,min,sec);year=args[0];month=args[1];day=args[2];hour=args[3];min=args[4];sec=args[5];result=new Date(Date.UTC(year,month,day,hour,min,0,sec*1e3));if(year<100){result.setUTCFullYear(year)}result.timezone=0;return result}),-2);$defs(self,"$now",(function $$now(){var self=this;return self.$new()}),0);$def(self,"$+",(function $Time_$plus$2(other){var self=this;if($eqeqeq($$$("Time"),other)){$Kernel.$raise($$$("TypeError"),"time + time?")}if(!other.$$is_number){other=$Opal["$coerce_to!"](other,$$$("Integer"),"to_int")}var result=new Date(self.getTime()+other*1e3);result.timezone=self.timezone;return result}),1);$def(self,"$-",(function $Time_$minus$3(other){var self=this;if($eqeqeq($$$("Time"),other)){return(self.getTime()-other.getTime())/1e3}if(!other.$$is_number){other=$Opal["$coerce_to!"](other,$$$("Integer"),"to_int")}var result=new Date(self.getTime()-other*1e3);result.timezone=self.timezone;return result}),1);$def(self,"$<=>",(function $Time_$lt_eq_gt$4(other){var self=this,r=nil;if($eqeqeq($$$("Time"),other)){return self.$to_f()["$<=>"](other.$to_f())}else{r=other["$<=>"](self);if($truthy(r["$nil?"]())){return nil}else if($truthy($rb_gt(r,0))){return-1}else if($truthy($rb_lt(r,0))){return 1}else{return 0}}}),1);$def(self,"$==",(function $Time_$eq_eq$5(other){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=$$$("Time")["$==="](other))){return self.$to_f()===other.$to_f()}else{return $ret_or_1}}),1);$def(self,"$asctime",(function $$asctime(){var self=this;return self.$strftime("%a %b %e %H:%M:%S %Y")}),0);$send([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],(function $Time$6(method,getter,utcgetter,difference){var self=$Time$6.$$s==null?this:$Time$6.$$s;if(method==null)method=nil;if(getter==null)getter=nil;if(utcgetter==null)utcgetter=nil;if(difference==null)difference=0;return $send(self,"define_method",[method],(function $$7(){var self=$$7.$$s==null?this:$$7.$$s;return difference+(self.timezone!=null?new Date(self.getTime()+self.timezone*36e5)[utcgetter]():self[getter]())}),{$$arity:0,$$s:self})}),{$$arity:-4,$$s:self});$def(self,"$yday",(function $$yday(){var self=this,start_of_year=nil,start_of_day=nil,one_day=nil;start_of_year=$$("Time").$new(self.$year()).$to_i();start_of_day=$$("Time").$new(self.$year(),self.$month(),self.$day()).$to_i();one_day=86400;return $rb_plus($rb_divide($rb_minus(start_of_day,start_of_year),one_day).$round(),1)}),0);$def(self,"$isdst",(function $$isdst(){var self=this;var jan=new Date(self.getFullYear(),0,1),jul=new Date(self.getFullYear(),6,1);return self.getTimezoneOffset()<Math.max(jan.getTimezoneOffset(),jul.getTimezoneOffset())}),0);$def(self,"$dup",(function $$dup(){var self=this,copy=nil;copy=new Date(self.getTime());copy.$copy_instance_variables(self);copy.$initialize_dup(self);return copy}),0);$def(self,"$eql?",(function $Time_eql$ques$8(other){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=other["$is_a?"]($$$("Time")))){return self["$<=>"](other)["$zero?"]()}else{return $ret_or_1}}),1);$send([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],(function $Time$9(method,weekday){var self=$Time$9.$$s==null?this:$Time$9.$$s;if(method==null)method=nil;if(weekday==null)weekday=nil;return $send(self,"define_method",[method],(function $$10(){var self=$$10.$$s==null?this:$$10.$$s;return self.$wday()===weekday}),{$$arity:0,$$s:self})}),{$$arity:2,$$s:self});$def(self,"$hash",(function $$hash(){var self=this;return"Time:"+self.getTime()}),0);$def(self,"$inspect",(function $$inspect(){var self=this;if($truthy(self["$utc?"]())){return self.$strftime("%Y-%m-%d %H:%M:%S UTC")}else{return self.$strftime("%Y-%m-%d %H:%M:%S %z")}}),0);$def(self,"$succ",(function $$succ(){var self=this;var result=new Date(self.getTime()+1e3);result.timezone=self.timezone;return result}),0);$def(self,"$usec",(function $$usec(){var self=this;return self.getMilliseconds()*1e3}),0);$def(self,"$zone",(function $$zone(){var self=this;if(self.timezone===0)return"UTC";else if(self.timezone!=null)return nil;var string=self.toString(),result;if(string.indexOf("(")==-1){result=string.match(/[A-Z]{3,4}/)[0]}else{result=string.match(/\((.+)\)(?:\s|$)/)[1]}if(result=="GMT"&&/(GMT\W*\d{4})/.test(string)){return RegExp.$1}else{return result}}),0);$def(self,"$getgm",(function $$getgm(){var self=this;var result=new Date(self.getTime());result.timezone=0;return result}),0);$def(self,"$gmtime",(function $$gmtime(){var self=this;self.timezone=0;return self}),0);$def(self,"$gmt?",(function $Time_gmt$ques$11(){var self=this;return self.timezone===0}),0);$def(self,"$gmt_offset",(function $$gmt_offset(){var self=this;return self.timezone!=null?self.timezone*60:-self.getTimezoneOffset()*60}),0);$def(self,"$strftime",(function $$strftime(format){var self=this;return format.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,(function(full,flags,width,_,conv){var result="",jd,c,s,zero=flags.indexOf("0")!==-1,pad=flags.indexOf("-")===-1,blank=flags.indexOf("_")!==-1,upcase=flags.indexOf("^")!==-1,invert=flags.indexOf("#")!==-1,colons=(flags.match(":")||[]).length;width=parseInt(width,10);if(zero&&blank){if(flags.indexOf("0")<flags.indexOf("_")){zero=false}else{blank=false}}switch(conv){case"Y":result+=self.$year();break;case"C":zero=!blank;result+=Math.round(self.$year()/100);break;case"y":zero=!blank;result+=self.$year()%100;break;case"m":zero=!blank;result+=self.$mon();break;case"B":result+=long_months[self.$mon()-1];break;case"b":case"h":blank=!zero;result+=short_months[self.$mon()-1];break;case"d":zero=!blank;result+=self.$day();break;case"e":blank=!zero;result+=self.$day();break;case"j":zero=!blank;width=isNaN(width)?3:width;result+=self.$yday();break;case"H":zero=!blank;result+=self.$hour();break;case"k":blank=!zero;result+=self.$hour();break;case"I":zero=!blank;result+=self.$hour()%12||12;break;case"l":blank=!zero;result+=self.$hour()%12||12;break;case"P":result+=self.$hour()>=12?"pm":"am";break;case"p":result+=self.$hour()>=12?"PM":"AM";break;case"M":zero=!blank;result+=self.$min();break;case"S":zero=!blank;result+=self.$sec();break;case"L":zero=!blank;width=isNaN(width)?3:width;result+=self.getMilliseconds();break;case"N":width=isNaN(width)?9:width;result+=self.getMilliseconds().toString().$rjust(3,"0");result=result.$ljust(width,"0");break;case"z":var offset=self.timezone==null?self.getTimezoneOffset():-self.timezone*60,hours=Math.floor(Math.abs(offset)/60),minutes=Math.abs(offset)%60;result+=offset<0?"+":"-";result+=hours<10?"0":"";result+=hours;if(colons>0){result+=":"}result+=minutes<10?"0":"";result+=minutes;if(colons>1){result+=":00"}break;case"Z":result+=self.$zone();break;case"A":result+=days_of_week[self.$wday()];break;case"a":result+=short_days[self.$wday()];break;case"u":result+=self.$wday()+1;break;case"w":result+=self.$wday();break;case"V":result+=self.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":result+=self.$cweek_cyear()["$[]"](1);break;case"g":result+=self.$cweek_cyear()["$[]"](1)["$[]"]($range(-2,-1,false));break;case"s":result+=self.$to_i();break;case"n":result+="\n";break;case"t":result+="\t";break;case"%":result+="%";break;case"c":result+=self.$strftime("%a %b %e %T %Y");break;case"D":case"x":result+=self.$strftime("%m/%d/%y");break;case"F":result+=self.$strftime("%Y-%m-%d");break;case"v":result+=self.$strftime("%e-%^b-%4Y");break;case"r":result+=self.$strftime("%I:%M:%S %p");break;case"R":result+=self.$strftime("%H:%M");break;case"T":case"X":result+=self.$strftime("%H:%M:%S");break;case"J":jd=self.$to_date().$jd();if(jd<2405160){result+=self.$strftime("%Y-%m-%d");break}else if(jd<2419614)c="M",s=1867;else if(jd<2424875)c="T",s=1911;else if(jd<2447535)c="S",s=1925;else if(jd<2458605)c="H",s=1988;else c="R",s=2018;result+=self.$format("%c%02d",c,$rb_minus(self.$year(),s));result+=self.$strftime("-%m-%d");break;default:return full}if(upcase){result=result.toUpperCase()}if(invert){result=result.replace(/[A-Z]/,(function(c){c.toLowerCase()})).replace(/[a-z]/,(function(c){c.toUpperCase()}))}if(pad&&(zero||blank)){result=result.$rjust(isNaN(width)?2:width,blank?" ":"0")}return result}))}),1);$def(self,"$to_a",(function $$to_a(){var self=this;return[self.$sec(),self.$min(),self.$hour(),self.$day(),self.$month(),self.$year(),self.$wday(),self.$yday(),self.$isdst(),self.$zone()]}),0);$def(self,"$to_f",(function $$to_f(){var self=this;return self.getTime()/1e3}),0);$def(self,"$to_i",(function $$to_i(){var self=this;return parseInt(self.getTime()/1e3,10)}),0);$def(self,"$cweek_cyear",(function $$cweek_cyear(){var self=this,jan01=nil,jan01_wday=nil,first_monday=nil,year=nil,offset=nil,week=nil,dec31=nil,dec31_wday=nil;jan01=$$$("Time").$new(self.$year(),1,1);jan01_wday=jan01.$wday();first_monday=0;year=self.$year();if($truthy($rb_le(jan01_wday,4))&&$neqeq(jan01_wday,0)){offset=$rb_minus(jan01_wday,1)}else{offset=$rb_minus($rb_minus(jan01_wday,7),1);if($eqeq(offset,-8)){offset=-1}}week=$rb_divide($rb_plus(self.$yday(),offset),7).$ceil();if($truthy($rb_le(week,0))){return $$$("Time").$new($rb_minus(self.$year(),1),12,31).$cweek_cyear()}else if($eqeq(week,53)){dec31=$$$("Time").$new(self.$year(),12,31);dec31_wday=dec31.$wday();if($truthy($rb_le(dec31_wday,3))&&$neqeq(dec31_wday,0)){week=1;year=$rb_plus(year,1)}}return[week,year]}),0);(function(self,$parent_nesting){$alias(self,"mktime","local");return $alias(self,"utc","gm")})(Opal.get_singleton_class(self),$nesting);$alias(self,"ctime","asctime");$alias(self,"dst?","isdst");$alias(self,"getutc","getgm");$alias(self,"gmtoff","gmt_offset");$alias(self,"mday","day");$alias(self,"month","mon");$alias(self,"to_s","inspect");$alias(self,"tv_sec","to_i");$alias(self,"tv_usec","usec");$alias(self,"utc","gmtime");$alias(self,"utc?","gmt?");return $alias(self,"utc_offset","gmt_offset")}("::",Date,$nesting)};Opal.modules["corelib/struct"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$hash2=Opal.hash2,$truthy=Opal.truthy,$neqeq=Opal.neqeq,$eqeq=Opal.eqeq,$Opal=Opal.Opal,$send=Opal.send,$Class=Opal.Class,$to_a=Opal.to_a,$def=Opal.def,$defs=Opal.defs,$Kernel=Opal.Kernel,$rb_gt=Opal.rb_gt,$rb_minus=Opal.rb_minus,$eqeqeq=Opal.eqeqeq,$rb_lt=Opal.rb_lt,$rb_ge=Opal.rb_ge,$rb_plus=Opal.rb_plus,$alias=Opal.alias;Opal.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig");self.$require("corelib/enumerable");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Struct");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);self.$include($$$("Enumerable"));$defs(self,"$new",(function $Struct_new$1(const_name,$a,$b){var block=$Struct_new$1.$$p||nil,$post_args,$kwargs,args,keyword_init,self=this,klass=nil;delete $Struct_new$1.$$p;$post_args=Opal.slice.call(arguments,1);$kwargs=Opal.extract_kwargs($post_args);if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}args=$post_args;keyword_init=$kwargs.$$smap["keyword_init"];if(keyword_init==null)keyword_init=false;if($truthy(const_name)){if($eqeq(const_name.$class(),$$$("String"))&&$neqeq(const_name["$[]"](0).$upcase(),const_name["$[]"](0))){args.$unshift(const_name);const_name=nil}else{try{const_name=$Opal["$const_name!"](const_name)}catch($err){if(Opal.rescue($err,[$$$("TypeError"),$$$("NameError")])){try{args.$unshift(const_name);const_name=nil}finally{Opal.pop_exception()}}else{throw $err}}}}$send(args,"map",[],(function $$2(arg){if(arg==null)arg=nil;return $Opal["$coerce_to!"](arg,$$$("String"),"to_str")}),1);klass=$send($Class,"new",[self],(function $$3(){var self=$$3.$$s==null?this:$$3.$$s;$send(args,"each",[],(function $$4(arg){var self=$$4.$$s==null?this:$$4.$$s;if(arg==null)arg=nil;return self.$define_struct_attribute(arg)}),{$$arity:1,$$s:self});return function(self,$parent_nesting){$def(self,"$new",(function $new$5($a){var $post_args,args,self=this,instance=nil;$post_args=Opal.slice.call(arguments);args=$post_args;instance=self.$allocate();instance.$$data={};$send(instance,"initialize",$to_a(args));return instance}),-1);return self.$alias_method("[]","new")}(Opal.get_singleton_class(self),$nesting)}),{$$arity:0,$$s:self});if($truthy(block)){$send(klass,"module_eval",[],block.$to_proc())}klass.$$keyword_init=keyword_init;if($truthy(const_name)){$$$("Struct").$const_set(const_name,klass)}return klass}),-2);$defs(self,"$define_struct_attribute",(function $$define_struct_attribute(name){var self=this;if($eqeq(self,$$$("Struct"))){$Kernel.$raise($$$("ArgumentError"),"you cannot define attributes to the Struct class")}self.$members()["$<<"](name);$send(self,"define_method",[name],(function $$6(){var self=$$6.$$s==null?this:$$6.$$s;return self.$$data[name]}),{$$arity:0,$$s:self});return $send(self,"define_method",[""+name+"="],(function $$7(value){var self=$$7.$$s==null?this:$$7.$$s;if(value==null)value=nil;return self.$$data[name]=value}),{$$arity:1,$$s:self})}),1);$defs(self,"$members",(function $$members(){var self=this,$ret_or_1=nil;if(self.members==null)self.members=nil;if($eqeq(self,$$$("Struct"))){$Kernel.$raise($$$("ArgumentError"),"the Struct class has no members")}return self.members=$truthy($ret_or_1=self.members)?$ret_or_1:[]}),0);$defs(self,"$inherited",(function $$inherited(klass){var self=this,members=nil;if(self.members==null)self.members=nil;members=self.members;return $send(klass,"instance_eval",[],(function $$8(){var self=$$8.$$s==null?this:$$8.$$s;return self.members=members}),{$$arity:0,$$s:self})}),1);$def(self,"$initialize",(function $$initialize($a){var $post_args,args,self=this,kwargs=nil,$ret_or_1=nil,extra=nil;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy(self.$class().$$keyword_init)){kwargs=$truthy($ret_or_1=args.$last())?$ret_or_1:$hash2([],{});if($truthy($rb_gt(args.$length(),1))||$truthy(args.length===1&&!kwargs.$$is_hash)){$Kernel.$raise($$$("ArgumentError"),"wrong number of arguments (given "+args.$length()+", expected 0)")}extra=$rb_minus(kwargs.$keys(),self.$class().$members());if($truthy(extra["$any?"]())){$Kernel.$raise($$$("ArgumentError"),"unknown keywords: "+extra.$join(", "))}return $send(self.$class().$members(),"each",[],(function $$9(name){var $b,self=$$9.$$s==null?this:$$9.$$s;if(name==null)name=nil;return $b=[name,kwargs["$[]"](name)],$send(self,"[]=",$b),$b[$b.length-1]}),{$$arity:1,$$s:self})}else{if($truthy($rb_gt(args.$length(),self.$class().$members().$length()))){$Kernel.$raise($$$("ArgumentError"),"struct size differs")}return $send(self.$class().$members(),"each_with_index",[],(function $$10(name,index){var $b,self=$$10.$$s==null?this:$$10.$$s;if(name==null)name=nil;if(index==null)index=nil;return $b=[name,args["$[]"](index)],$send(self,"[]=",$b),$b[$b.length-1]}),{$$arity:2,$$s:self})}}),-1);$def(self,"$initialize_copy",(function $$initialize_copy(from){var self=this;self.$$data={};var keys=Object.keys(from.$$data),i,max,name;for(i=0,max=keys.length;i<max;i++){name=keys[i];self.$$data[name]=from.$$data[name]}}),1);$defs(self,"$keyword_init?",(function $Struct_keyword_init$ques$11(){var self=this;return self.$$keyword_init}),0);$def(self,"$members",(function $$members(){var self=this;return self.$class().$members()}),0);$def(self,"$hash",(function $$hash(){var self=this;return $$("Hash").$new(self.$$data).$hash()}),0);$def(self,"$[]",(function $Struct_$$$12(name){var self=this;if($eqeqeq($$$("Integer"),name)){if($truthy($rb_lt(name,self.$class().$members().$size()["$-@"]()))){$Kernel.$raise($$$("IndexError"),"offset "+name+" too small for struct(size:"+self.$class().$members().$size()+")")}if($truthy($rb_ge(name,self.$class().$members().$size()))){$Kernel.$raise($$$("IndexError"),"offset "+name+" too large for struct(size:"+self.$class().$members().$size()+")")}name=self.$class().$members()["$[]"](name)}else if($eqeqeq($$$("String"),name)){if(!self.$$data.hasOwnProperty(name)){$Kernel.$raise($$$("NameError").$new("no member '"+name+"' in struct",name))}}else{$Kernel.$raise($$$("TypeError"),"no implicit conversion of "+name.$class()+" into Integer")}name=$Opal["$coerce_to!"](name,$$$("String"),"to_str");return self.$$data[name]}),1);$def(self,"$[]=",(function $Struct_$$$eq$13(name,value){var self=this;if($eqeqeq($$$("Integer"),name)){if($truthy($rb_lt(name,self.$class().$members().$size()["$-@"]()))){$Kernel.$raise($$$("IndexError"),"offset "+name+" too small for struct(size:"+self.$class().$members().$size()+")")}if($truthy($rb_ge(name,self.$class().$members().$size()))){$Kernel.$raise($$$("IndexError"),"offset "+name+" too large for struct(size:"+self.$class().$members().$size()+")")}name=self.$class().$members()["$[]"](name)}else if($eqeqeq($$$("String"),name)){if(!$truthy(self.$class().$members()["$include?"](name.$to_sym()))){$Kernel.$raise($$$("NameError").$new("no member '"+name+"' in struct",name))}}else{$Kernel.$raise($$$("TypeError"),"no implicit conversion of "+name.$class()+" into Integer")}name=$Opal["$coerce_to!"](name,$$$("String"),"to_str");return self.$$data[name]=value}),2);$def(self,"$==",(function $Struct_$eq_eq$14(other){var self=this;if(!$truthy(other["$instance_of?"](self.$class()))){return false}var recursed1={},recursed2={};function _eqeq(struct,other){var key,a,b;recursed1[struct.$__id__()]=true;recursed2[other.$__id__()]=true;for(key in struct.$$data){a=struct.$$data[key];b=other.$$data[key];if($$$("Struct")["$==="](a)){if(!recursed1.hasOwnProperty(a.$__id__())||!recursed2.hasOwnProperty(b.$__id__())){if(!_eqeq(a,b)){return false}}}else{if(!a["$=="](b)){return false}}}return true}return _eqeq(self,other)}),1);$def(self,"$eql?",(function $Struct_eql$ques$15(other){var self=this;if(!$truthy(other["$instance_of?"](self.$class()))){return false}var recursed1={},recursed2={};function _eqeq(struct,other){var key,a,b;recursed1[struct.$__id__()]=true;recursed2[other.$__id__()]=true;for(key in struct.$$data){a=struct.$$data[key];b=other.$$data[key];if($$$("Struct")["$==="](a)){if(!recursed1.hasOwnProperty(a.$__id__())||!recursed2.hasOwnProperty(b.$__id__())){if(!_eqeq(a,b)){return false}}}else{if(!a["$eql?"](b)){return false}}}return true}return _eqeq(self,other)}),1);$def(self,"$each",(function $$each(){var $yield=$$each.$$p||nil,self=this;delete $$each.$$p;if(!($yield!==nil)){return $send(self,"enum_for",["each"],(function $$16(){var self=$$16.$$s==null?this:$$16.$$s;return self.$size()}),{$$arity:0,$$s:self})}$send(self.$class().$members(),"each",[],(function $$17(name){var self=$$17.$$s==null?this:$$17.$$s;if(name==null)name=nil;return Opal.yield1($yield,self["$[]"](name))}),{$$arity:1,$$s:self});return self}),0);$def(self,"$each_pair",(function $$each_pair(){var $yield=$$each_pair.$$p||nil,self=this;delete $$each_pair.$$p;if(!($yield!==nil)){return $send(self,"enum_for",["each_pair"],(function $$18(){var self=$$18.$$s==null?this:$$18.$$s;return self.$size()}),{$$arity:0,$$s:self})}$send(self.$class().$members(),"each",[],(function $$19(name){var self=$$19.$$s==null?this:$$19.$$s;if(name==null)name=nil;return Opal.yield1($yield,[name,self["$[]"](name)])}),{$$arity:1,$$s:self});return self}),0);$def(self,"$length",(function $$length(){var self=this;return self.$class().$members().$length()}),0);$def(self,"$to_a",(function $$to_a(){var self=this;return $send(self.$class().$members(),"map",[],(function $$20(name){var self=$$20.$$s==null?this:$$20.$$s;if(name==null)name=nil;return self["$[]"](name)}),{$$arity:1,$$s:self})}),0);var inspect_stack=[];$def(self,"$inspect",(function $$inspect(){var self=this,result=nil,pushed=nil;return function(){try{result="#<struct ";if($truthy(inspect_stack["$include?"](self.$__id__()))){return $rb_plus(result,":...>")}else{inspect_stack["$<<"](self.$__id__());pushed=true;if($eqeqeq($$$("Struct"),self)&&$truthy(self.$class().$name())){result=$rb_plus(result,""+self.$class()+" ")}result=$rb_plus(result,$send(self.$each_pair(),"map",[],(function $$21(name,value){if(name==null)name=nil;if(value==null)value=nil;return""+name+"="+$$("Opal").$inspect(value)}),2).$join(", "));result=$rb_plus(result,">");return result}}finally{$truthy(pushed)?inspect_stack.pop():nil}}()}),0);$def(self,"$to_h",(function $$to_h(){var block=$$to_h.$$p||nil,self=this;delete $$to_h.$$p;if(block!==nil){return $send($send(self,"map",[],block.$to_proc()),"to_h",$to_a(self.$args()))}return $send(self.$class().$members(),"each_with_object",[$hash2([],{})],(function $$22(name,h){var $a,self=$$22.$$s==null?this:$$22.$$s;if(name==null)name=nil;if(h==null)h=nil;return $a=[name,self["$[]"](name)],$send(h,"[]=",$a),$a[$a.length-1]}),{$$arity:2,$$s:self})}),0);$def(self,"$values_at",(function $$values_at($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;args=$send(args,"map",[],(function $$23(arg){if(arg==null)arg=nil;return arg.$$is_range?arg.$to_a():arg}),1).$flatten();var result=[];for(var i=0,len=args.length;i<len;i++){if(!args[i].$$is_number){$Kernel.$raise($$$("TypeError"),"no implicit conversion of "+args[i].$class()+" into Integer")}result.push(self["$[]"](args[i]))}return result}),-1);$def(self,"$dig",(function $$dig(key,$a){var $post_args,keys,self=this,item=nil;$post_args=Opal.slice.call(arguments,1);keys=$post_args;item=$truthy(key.$$is_string&&self.$$data.hasOwnProperty(key))?self.$$data[key]||nil:nil;if(item===nil||keys.length===0){return item}if(!$truthy(item["$respond_to?"]("dig"))){$Kernel.$raise($$$("TypeError"),""+item.$class()+" does not have #dig method")}return $send(item,"dig",$to_a(keys))}),-2);$alias(self,"size","length");$alias(self,"to_s","inspect");return $alias(self,"values","to_a")}("::",null,$nesting)};Opal.modules["corelib/dir"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$def=Opal.def,$truthy=Opal.truthy,$alias=Opal.alias;Opal.add_stubs("[],pwd");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Dir");var $nesting=[self].concat($parent_nesting);return function(self,$parent_nesting){$def(self,"$chdir",(function $$chdir(dir){var $yield=$$chdir.$$p||nil,prev_cwd=nil;delete $$chdir.$$p;return function(){try{prev_cwd=Opal.current_dir;Opal.current_dir=dir;return Opal.yieldX($yield,[])}finally{Opal.current_dir=prev_cwd}}()}),1);$def(self,"$pwd",(function $$pwd(){return Opal.current_dir||"."}),0);$def(self,"$home",(function $$home(){var $ret_or_1=nil;if($truthy($ret_or_1=$$$("ENV")["$[]"]("HOME"))){return $ret_or_1}else{return"."}}),0);return $alias(self,"getwd","pwd")}(Opal.get_singleton_class(self),$nesting)}("::",null,$nesting)};Opal.modules["corelib/file"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$klass=Opal.klass,$const_set=Opal.const_set,$Opal=Opal.Opal,$regexp=Opal.regexp,$rb_plus=Opal.rb_plus,$def=Opal.def,$Kernel=Opal.Kernel,$eqeq=Opal.eqeq,$rb_lt=Opal.rb_lt,$rb_minus=Opal.rb_minus,$range=Opal.range,$send=Opal.send,$alias=Opal.alias;Opal.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"File");var $nesting=[self].concat($parent_nesting),windows_root_rx=nil;$const_set($nesting[0],"Separator",$const_set($nesting[0],"SEPARATOR","/"));$const_set($nesting[0],"ALT_SEPARATOR",nil);$const_set($nesting[0],"PATH_SEPARATOR",":");$const_set($nesting[0],"FNM_SYSCASE",0);windows_root_rx=/^[a-zA-Z]:(?:\\|\/)/;return function(self,$parent_nesting){var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$absolute_path",(function $$absolute_path(path,basedir){var sep=nil,sep_chars=nil,new_parts=nil,$ret_or_1=nil,path_abs=nil,basedir_abs=nil,parts=nil,leading_sep=nil,abs=nil,new_path=nil;if(basedir==null)basedir=nil;sep=$$("SEPARATOR");sep_chars=$sep_chars();new_parts=[];path=$truthy(path["$respond_to?"]("to_path"))?path.$to_path():path;path=$Opal["$coerce_to!"](path,$$$("String"),"to_str");basedir=$truthy($ret_or_1=basedir)?$ret_or_1:$$$("Dir").$pwd();path_abs=path.substr(0,sep.length)===sep||windows_root_rx.test(path);basedir_abs=basedir.substr(0,sep.length)===sep||windows_root_rx.test(basedir);if($truthy(path_abs)){parts=path.$split($regexp(["[",sep_chars,"]"]));leading_sep=windows_root_rx.test(path)?"":path.$sub($regexp(["^([",sep_chars,"]+).*$"]),"\\1");abs=true}else{parts=$rb_plus(basedir.$split($regexp(["[",sep_chars,"]"])),path.$split($regexp(["[",sep_chars,"]"])));leading_sep=windows_root_rx.test(basedir)?"":basedir.$sub($regexp(["^([",sep_chars,"]+).*$"]),"\\1");abs=basedir_abs}var part;for(var i=0,ii=parts.length;i<ii;i++){part=parts[i];if(part===nil||part===""&&(new_parts.length===0||abs)||part==="."&&(new_parts.length===0||abs)){continue}if(part===".."){new_parts.pop()}else{new_parts.push(part)}}if(!abs&&parts[0]!=="."){new_parts.$unshift(".")}new_path=new_parts.$join(sep);if($truthy(abs)){new_path=$rb_plus(leading_sep,new_path)}return new_path}),-2);$def(self,"$expand_path",(function $$expand_path(path,basedir){var self=this,sep=nil,sep_chars=nil,home=nil,leading_sep=nil,home_path_regexp=nil;if(basedir==null)basedir=nil;sep=$$("SEPARATOR");sep_chars=$sep_chars();if($truthy(path[0]==="~"||basedir&&basedir[0]==="~")){home=$$("Dir").$home();if(!$truthy(home)){$Kernel.$raise($$$("ArgumentError"),"couldn't find HOME environment -- expanding `~'")}leading_sep=windows_root_rx.test(home)?"":home.$sub($regexp(["^([",sep_chars,"]+).*$"]),"\\1");if(!$truthy(home["$start_with?"](leading_sep))){$Kernel.$raise($$$("ArgumentError"),"non-absolute home")}home=$rb_plus(home,sep);home_path_regexp=$regexp(["^\\~(?:",sep,"|$)"]);path=path.$sub(home_path_regexp,home);if($truthy(basedir)){basedir=basedir.$sub(home_path_regexp,home)}}return self.$absolute_path(path,basedir)}),-2);function $coerce_to_path(path){if($truthy(path["$respond_to?"]("to_path"))){path=path.$to_path()}path=$Opal["$coerce_to!"](path,$$$("String"),"to_str");return path}function $sep_chars(){if($$("ALT_SEPARATOR")===nil){return Opal.escape_regexp($$("SEPARATOR"))}else{return Opal.escape_regexp($rb_plus($$("SEPARATOR"),$$("ALT_SEPARATOR")))}}$def(self,"$dirname",(function $$dirname(path,level){var self=this,sep_chars=nil;if(level==null)level=1;if($eqeq(level,0)){return path}if($truthy($rb_lt(level,0))){$Kernel.$raise($$$("ArgumentError"),"level can't be negative")}sep_chars=$sep_chars();path=$coerce_to_path(path);var absolute=path.match(new RegExp("^["+sep_chars+"]")),out;path=path.replace(new RegExp("["+sep_chars+"]+$"),"");path=path.replace(new RegExp("[^"+sep_chars+"]+$"),"");path=path.replace(new RegExp("["+sep_chars+"]+$"),"");if(path===""){out=absolute?"/":"."}else{out=path}if(level==1){return out}else{return self.$dirname(out,$rb_minus(level,1))}}),-2);$def(self,"$basename",(function $$basename(name,suffix){var sep_chars=nil;if(suffix==null)suffix=nil;sep_chars=$sep_chars();name=$coerce_to_path(name);if(name.length==0){return name}if(suffix!==nil){suffix=$Opal["$coerce_to!"](suffix,$$$("String"),"to_str")}else{suffix=null}name=name.replace(new RegExp("(.)["+sep_chars+"]*$"),"$1");name=name.replace(new RegExp("^(?:.*["+sep_chars+"])?([^"+sep_chars+"]+)$"),"$1");if(suffix===".*"){name=name.replace(/\.[^\.]+$/,"")}else if(suffix!==null){suffix=Opal.escape_regexp(suffix);name=name.replace(new RegExp(""+suffix+"$"),"")}return name}),-2);$def(self,"$extname",(function $$extname(path){var self=this,filename=nil,last_dot_idx=nil;path=$coerce_to_path(path);filename=self.$basename(path);if($truthy(filename["$empty?"]())){return""}last_dot_idx=filename["$[]"]($range(1,-1,false)).$rindex(".");if($truthy(last_dot_idx["$nil?"]())||$eqeq($rb_plus(last_dot_idx,1),$rb_minus(filename.$length(),1))){return""}else{return filename["$[]"](Opal.Range.$new($rb_plus(last_dot_idx,1),-1,false))}}),1);$def(self,"$exist?",(function $exist$ques$1(path){return Opal.modules[path]!=null}),1);$def(self,"$directory?",(function $directory$ques$2(path){var files=nil,file=nil;files=[];for(var key in Opal.modules){files.push(key)}path=path.$gsub($regexp(["(^.",$$("SEPARATOR"),"+|",$$("SEPARATOR"),"+$)"]));file=$send(files,"find",[],(function $$3(f){if(f==null)f=nil;return f["$=~"]($regexp(["^",path]))}),1);return file}),1);$def(self,"$join",(function $$join($a){var $post_args,paths,result=nil;$post_args=Opal.slice.call(arguments);paths=$post_args;if($truthy(paths["$empty?"]())){return""}result="";paths=$send(paths.$flatten().$each_with_index(),"map",[],(function $$4(item,index){if(item==null)item=nil;if(index==null)index=nil;if($eqeq(index,0)&&$truthy(item["$empty?"]())){return $$("SEPARATOR")}else if($eqeq(paths.$length(),$rb_plus(index,1))&&$truthy(item["$empty?"]())){return $$("SEPARATOR")}else{return item}}),2);paths=$send(paths,"reject",[],"empty?".$to_proc());$send(paths,"each_with_index",[],(function $$5(item,index){var next_item=nil;if(item==null)item=nil;if(index==null)index=nil;next_item=paths["$[]"]($rb_plus(index,1));if($truthy(next_item["$nil?"]())){return result=""+result+item}else{if($truthy(item["$end_with?"]($$("SEPARATOR")))&&$truthy(next_item["$start_with?"]($$("SEPARATOR")))){item=item.$sub($regexp([$$("SEPARATOR"),"+$"]),"")}return result=$truthy(item["$end_with?"]($$("SEPARATOR")))||$truthy(next_item["$start_with?"]($$("SEPARATOR")))?""+result+item:""+result+item+$$("SEPARATOR")}}),2);return result}),-1);$def(self,"$split",(function $$split(path){return path.$split($$("SEPARATOR"))}),1);$alias(self,"realpath","expand_path");return $alias(self,"exists?","exist?")}(Opal.get_singleton_class(self),$nesting)}("::",$$$("IO"),$nesting)};Opal.modules["corelib/process/base"]=function(Opal){var nil=Opal.nil,$klass=Opal.klass,$defs=Opal.defs,$return_val=Opal.return_val;(function($base,$super){var self=$klass($base,$super,"Signal");return $defs(self,"$trap",(function $$trap($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1)})("::",null);return function($base,$super){var self=$klass($base,$super,"GC");return $defs(self,"$start",$return_val(nil),0)}("::",null)};Opal.modules["corelib/process"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$defs=Opal.defs,$truthy=Opal.truthy,$return_val=Opal.return_val,$Kernel=Opal.Kernel;Opal.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise");return function($base){var self=$module($base,"Process");var monotonic=nil;self.__clocks__=[];$defs(self,"$__register_clock__",(function $$__register_clock__(name,func){var self=this;if(self.__clocks__==null)self.__clocks__=nil;self.$const_set(name,self.__clocks__.$size());return self.__clocks__["$<<"](func)}),2);self.$__register_clock__("CLOCK_REALTIME",(function(){return Date.now()}));monotonic=false;if(Opal.global.performance){monotonic=function(){return performance.now()}}else if(Opal.global.process&&process.hrtime){var hrtime_base=process.hrtime();monotonic=function(){var hrtime=process.hrtime(hrtime_base);var us=hrtime[1]/1e3|0;return hrtime[0]*1e3+us/1e3}}if($truthy(monotonic)){self.$__register_clock__("CLOCK_MONOTONIC",monotonic)}$defs(self,"$pid",$return_val(0),0);$defs(self,"$times",(function $$times(){var t=nil;t=$$$("Time").$now().$to_f();return $$$($$$("Benchmark"),"Tms").$new(t,t,t,t,t)}),0);return $defs(self,"$clock_gettime",(function $$clock_gettime(clock_id,unit){var self=this,$ret_or_1=nil,clock=nil;if(self.__clocks__==null)self.__clocks__=nil;if(unit==null)unit="float_second";if($truthy($ret_or_1=clock=self.__clocks__["$[]"](clock_id))){$ret_or_1}else{$Kernel.$raise($$$($$$("Errno"),"EINVAL"),"clock_gettime("+clock_id+") "+self.__clocks__["$[]"](clock_id))}var ms=clock();switch(unit){case"float_second":return ms/1e3;case"float_millisecond":return ms/1;case"float_microsecond":return ms*1e3;case"second":return ms/1e3|0;case"millisecond":return ms/1|0;case"microsecond":return ms*1e3|0;case"nanosecond":return ms*1e6|0;default:$Kernel.$raise($$$("ArgumentError"),"unexpected unit: "+unit)}}),-2)}("::")};Opal.modules["corelib/random/formatter"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$module=Opal.module,$def=Opal.def,$range=Opal.range,$send=Opal.send,$rb_divide=Opal.rb_divide,$Kernel=Opal.Kernel,$Opal=Opal.Opal;Opal.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend");return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Random");var $nesting=[self].concat($parent_nesting);(function($base,$parent_nesting){var self=$module($base,"Formatter");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$hex",(function $$hex(count){var self=this;if(count==null)count=nil;count=$$$("Random").$_verify_count(count);var bytes=self.$bytes(count);var out="";for(var i=0;i<count;i++){out+=bytes.charCodeAt(i).toString(16).padStart(2,"0")}return out.$encode("US-ASCII")}),-1);$def(self,"$random_bytes",(function $$random_bytes(count){var self=this;if(count==null)count=nil;return self.$bytes(count)}),-1);$def(self,"$base64",(function $$base64(count){var self=this;if(count==null)count=nil;return $$$("Base64").$strict_encode64(self.$random_bytes(count)).$encode("US-ASCII")}),-1);$def(self,"$urlsafe_base64",(function $$urlsafe_base64(count,padding){var self=this;if(count==null)count=nil;if(padding==null)padding=false;return $$$("Base64").$urlsafe_encode64(self.$random_bytes(count),padding).$encode("US-ASCII")}),-1);$def(self,"$uuid",(function $$uuid(){var self=this,str=nil;str=self.$hex(16).$split("");str["$[]="](12,"4");str["$[]="](16,(parseInt(str["$[]"](16),16)&3|8).toString(16));str=[str["$[]"]($range(0,8,true)),str["$[]"]($range(8,12,true)),str["$[]"]($range(12,16,true)),str["$[]"]($range(16,20,true)),str["$[]"]($range(20,32,true))];str=$send(str,"map",[],"join".$to_proc());return str.$join("-")}),0);$def(self,"$random_float",(function $$random_float(){var self=this,bs=nil,num=nil;bs=self.$bytes(4);num=0;$send(4,"times",[],(function $$1(i){if(i==null)i=nil;num=num["$<<"](8);return num=num["$|"](bs["$[]"](i).$ord())}),1);return $rb_divide(num.$abs(),2147483647)}),0);$def(self,"$random_number",(function $$random_number(limit){var self=this;function randomFloat(){return self.$random_float()}function randomInt(max){return Math.floor(randomFloat()*max)}function randomRange(){var min=limit.begin,max=limit.end;if(min===nil||max===nil){return nil}var length=max-min;if(length<0){return nil}if(length===0){return min}if(max%1===0&&min%1===0&&!limit.excl){length++}return randomInt(length)+min}if(limit==null){return randomFloat()}else if(limit.$$is_range){return randomRange()}else if(limit.$$is_number){if(limit<=0){$Kernel.$raise($$$("ArgumentError"),"invalid argument - "+limit)}if(limit%1===0){return randomInt(limit)}else{return randomFloat()*limit}}else{limit=$Opal["$coerce_to!"](limit,$$$("Integer"),"to_int");if(limit<=0){$Kernel.$raise($$$("ArgumentError"),"invalid argument - "+limit)}return randomInt(limit)}}),-1);return $def(self,"$alphanumeric",(function $$alphanumeric(count){var self=this,map=nil;if(count==null)count=nil;count=$$("Random").$_verify_count(count);map=$send([$range("0","9",false),$range("a","z",false),$range("A","Z",false)],"map",[],"to_a".$to_proc()).$flatten();return $send($$$("Array"),"new",[count],(function $$2(i){var self=$$2.$$s==null?this:$$2.$$s;if(i==null)i=nil;return map["$[]"](self.$random_number(map.$length()))}),{$$arity:1,$$s:self}).$join()}),-1)})(self,$nesting);self.$include($$$($$$("Random"),"Formatter"));return self.$extend($$$($$$("Random"),"Formatter"))}("::",null,$nesting)};Opal.modules["corelib/random/mersenne_twister"]=function(Opal){var nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$const_set=Opal.const_set,$send=Opal.send,mersenne_twister=nil;Opal.add_stubs("generator=");mersenne_twister=function(){var N=624;var M=397;var MATRIX_A=2567483615;var UMASK=2147483648;var LMASK=2147483647;var MIXBITS=function(u,v){return u&UMASK|v&LMASK};var TWIST=function(u,v){return MIXBITS(u,v)>>>1^(v&1?MATRIX_A:0)};function init(s){var mt={left:0,next:N,state:new Array(N)};init_genrand(mt,s);return mt}function init_genrand(mt,s){var j,i;mt.state[0]=s>>>0;for(j=1;j<N;j++){mt.state[j]=1812433253*(mt.state[j-1]^mt.state[j-1]>>30>>>0)+j;mt.state[j]&=4294967295}mt.left=1;mt.next=N}function next_state(mt){var p=0,_p=mt.state;var j;mt.left=N;mt.next=0;for(j=N-M+1;--j;p++)_p[p]=_p[p+M]^TWIST(_p[p+0],_p[p+1]);for(j=M;--j;p++)_p[p]=_p[p+(M-N)]^TWIST(_p[p+0],_p[p+1]);_p[p]=_p[p+(M-N)]^TWIST(_p[p+0],_p[0])}function genrand_int32(mt){var y;if(--mt.left<=0)next_state(mt);y=mt.state[mt.next++];y^=y>>>11;y^=y<<7&2636928640;y^=y<<15&4022730752;y^=y>>>18;return y>>>0}function int_pair_to_real_exclusive(a,b){a>>>=5;b>>>=6;return(a*67108864+b)*(1/9007199254740992)}function genrand_real(mt){var a=genrand_int32(mt),b=genrand_int32(mt);return int_pair_to_real_exclusive(a,b)}return{genrand_real:genrand_real,init:init}}();return function($base,$super){var self=$klass($base,$super,"Random");var $a;var MAX_INT=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;$const_set(self,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*MAX_INT)},reseed:function(seed){return mersenne_twister.init(seed)},rand:function(mt){return mersenne_twister.genrand_real(mt)}});return $a=[$$$(self,"MERSENNE_TWISTER_GENERATOR")],$send(self,"generator=",$a),$a[$a.length-1]}("::",null)};Opal.modules["corelib/random"]=function(Opal){var self=Opal.top,nil=Opal.nil,$$$=Opal.$$$,$truthy=Opal.truthy,$klass=Opal.klass,$Kernel=Opal.Kernel,$defs=Opal.defs,$Opal=Opal.Opal,$def=Opal.def,$eqeqeq=Opal.eqeqeq,$send=Opal.send;Opal.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set");self.$require("corelib/random/formatter");(function($base,$super){var self=$klass($base,$super,"Random");self.$attr_reader("seed","state");$defs(self,"$_verify_count",(function $$_verify_count(count){if(!$truthy(count))count=16;if(typeof count!=="number")count=count.$to_int();if(count<0)$Kernel.$raise($$$("ArgumentError"),"negative string size (or size too big)");count=Math.floor(count);return count}),1);$def(self,"$initialize",(function $$initialize(seed){var self=this;if(seed==null)seed=$$$("Random").$new_seed();seed=$Opal["$coerce_to!"](seed,$$$("Integer"),"to_int");self.state=seed;return self.$reseed(seed)}),-1);$def(self,"$reseed",(function $$reseed(seed){var self=this;self.seed=seed;return self.$rng=Opal.$$rand.reseed(seed)}),1);$defs(self,"$new_seed",(function $$new_seed(){return Opal.$$rand.new_seed()}),0);$defs(self,"$rand",(function $$rand(limit){var self=this;return $$$(self,"DEFAULT").$rand(limit)}),-1);$defs(self,"$srand",(function $$srand(n){var self=this,previous_seed=nil;if(n==null)n=$$$("Random").$new_seed();n=$Opal["$coerce_to!"](n,$$$("Integer"),"to_int");previous_seed=$$$(self,"DEFAULT").$seed();$$$(self,"DEFAULT").$reseed(n);return previous_seed}),-1);$defs(self,"$urandom",(function $$urandom(size){return $$$("SecureRandom").$bytes(size)}),1);$def(self,"$==",(function $Random_$eq_eq$1(other){var self=this,$ret_or_1=nil;if(!$eqeqeq($$$("Random"),other)){return false}if($truthy($ret_or_1=self.$seed()["$=="](other.$seed()))){return self.$state()["$=="](other.$state())}else{return $ret_or_1}}),1);$def(self,"$bytes",(function $$bytes(length){var self=this;length=$$$("Random").$_verify_count(length);return $send($$$("Array"),"new",[length],(function $$2(){var self=$$2.$$s==null?this:$$2.$$s;return self.$rand(255).$chr()}),{$$arity:0,$$s:self}).$join().$encode("ASCII-8BIT")}),1);$defs(self,"$bytes",(function $$bytes(length){var self=this;return $$$(self,"DEFAULT").$bytes(length)}),1);$def(self,"$rand",(function $$rand(limit){var self=this;return self.$random_number(limit)}),-1);$def(self,"$random_float",(function $$random_float(){var self=this;self.state++;return Opal.$$rand.rand(self.$rng)}),0);$defs(self,"$random_float",(function $$random_float(){var self=this;return $$$(self,"DEFAULT").$random_float()}),0);return $defs(self,"$generator=",(function $Random_generator$eq$3(generator){var self=this;Opal.$$rand=generator;if($truthy(self["$const_defined?"]("DEFAULT"))){return $$$(self,"DEFAULT").$reseed()}else{return self.$const_set("DEFAULT",self.$new(self.$new_seed()))}}),1)})("::",null);return self.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$Kernel=Opal.Kernel,$klass=Opal.klass,$send=Opal.send,$module=Opal.module,$def=Opal.def,$return_val=Opal.return_val,$alias=Opal.alias,$defs=Opal.defs;Opal.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var warnings={};function handle_unsupported_feature(message){switch(Opal.config.unsupported_features_severity){case"error":$Kernel.$raise($$$("NotImplementedError"),message);break;case"warning":warn(message);break;default:}}function warn(string){if(warnings[string]){return}warnings[string]=true;self.$warn(string)}(function($base,$super){var self=$klass($base,$super,"String");var ERROR="String#%s not supported. Mutable String methods are not supported in Opal.";return $send(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],(function $String$1(method_name){var self=$String$1.$$s==null?this:$String$1.$$s;if(method_name==null)method_name=nil;return $send(self,"define_method",[method_name],(function $$2($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return $Kernel.$raise($$$("NotImplementedError"),ERROR["$%"](method_name))}),-1)}),{$$arity:1,$$s:self})})("::",null);(function($base){var self=$module($base,"Kernel");var ERROR="Object freezing is not supported by Opal";$def(self,"$freeze",(function $$freeze(){var self=this;handle_unsupported_feature(ERROR);return self}),0);return $def(self,"$frozen?",(function $Kernel_frozen$ques$3(){handle_unsupported_feature(ERROR);return false}),0)})("::");(function($base){var self=$module($base,"Kernel");var ERROR="Object tainting is not supported by Opal";$def(self,"$taint",(function $$taint(){var self=this;handle_unsupported_feature(ERROR);return self}),0);$def(self,"$untaint",(function $$untaint(){var self=this;handle_unsupported_feature(ERROR);return self}),0);return $def(self,"$tainted?",(function $Kernel_tainted$ques$4(){handle_unsupported_feature(ERROR);return false}),0)})("::");(function($base,$super){var self=$klass($base,$super,"Module");$def(self,"$public",(function $Module_public$5($a){var $post_args,methods,self=this;$post_args=Opal.slice.call(arguments);methods=$post_args;if(methods.length===0){self.$$module_function=false;return nil}return methods.length===1?methods[0]:methods}),-1);$def(self,"$private_class_method",(function $$private_class_method($a){var $post_args,methods;$post_args=Opal.slice.call(arguments);methods=$post_args;return methods.length===1?methods[0]:methods}),-1);$def(self,"$private_method_defined?",$return_val(false),0);$def(self,"$private_constant",(function $$private_constant($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return nil}),-1);$alias(self,"nesting","public");$alias(self,"private","public");$alias(self,"protected","public");$alias(self,"protected_method_defined?","private_method_defined?");$alias(self,"public_class_method","private_class_method");$alias(self,"public_instance_method","instance_method");$alias(self,"public_instance_methods","instance_methods");return $alias(self,"public_method_defined?","method_defined?")})("::",null);(function($base){var self=$module($base,"Kernel");$def(self,"$private_methods",(function $$private_methods($a){var $post_args,methods;$post_args=Opal.slice.call(arguments);methods=$post_args;return[]}),-1);return $alias(self,"private_instance_methods","private_methods")})("::");(function($base,$parent_nesting){var self=$module($base,"Kernel");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$eval",(function $Kernel_eval$6($a){var $post_args,$rest_arg;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return $Kernel.$raise($$$("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+$$("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))}),-1)})("::",$nesting);$defs(self,"$public",(function $public$7($a){var $post_args,methods;$post_args=Opal.slice.call(arguments);methods=$post_args;return methods.length===1?methods[0]:methods}),-1);return $defs(self,"$private",(function $private$8($a){var $post_args,methods;$post_args=Opal.slice.call(arguments);methods=$post_args;return methods.length===1?methods[0]:methods}),-1)};Opal.modules["corelib/binding"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$truthy=Opal.truthy,$def=Opal.def,$send=Opal.send,$to_a=Opal.to_a,$Kernel=Opal.Kernel,$return_ivar=Opal.return_ivar,$eqeq=Opal.eqeq,$module=Opal.module,$const_set=Opal.const_set;Opal.add_stubs("js_eval,call,raise,inspect,include?,==,receiver,eval,attr_reader,new");(function($base,$super){var self=$klass($base,$super,"Binding");var $proto=self.$$prototype;$proto.jseval=$proto.scope_variables=nil;$def(self,"$initialize",(function $$initialize(jseval,scope_variables,receiver,source_location){var $a,self=this;if(scope_variables==null)scope_variables=[];if(source_location==null)source_location=nil;$a=[jseval,scope_variables,receiver,source_location],self.jseval=$a[0],self.scope_variables=$a[1],self.receiver=$a[2],self.source_location=$a[3],$a;if($truthy(typeof receiver!==undefined)){return nil}else{return receiver=self.$js_eval("self")}}),-2);$def(self,"$js_eval",(function $$js_eval($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;if($truthy(self.jseval)){return $send(self.jseval,"call",$to_a(args))}else{return $Kernel.$raise("Evaluation on a Proc#binding is not supported")}}),-1);$def(self,"$local_variable_get",(function $$local_variable_get(symbol){var self=this;try{return self.$js_eval(symbol)}catch($err){if(Opal.rescue($err,[$$$("Exception")])){try{return $Kernel.$raise($$$("NameError"),"local variable `"+symbol+"' is not defined for "+self.$inspect())}finally{Opal.pop_exception()}}else{throw $err}}}),1);$def(self,"$local_variable_set",(function $$local_variable_set(symbol,value){var self=this;Opal.Binding.tmp_value=value;self.$js_eval(""+symbol+" = Opal.Binding.tmp_value");delete Opal.Binding.tmp_value;return value}),2);$def(self,"$local_variables",$return_ivar("scope_variables"),0);$def(self,"$local_variable_defined?",(function $Binding_local_variable_defined$ques$1(value){var self=this;return self.scope_variables["$include?"](value)}),1);$def(self,"$eval",(function $Binding_eval$2(str,file,line){var self=this;if(file==null)file=nil;if(line==null)line=nil;if($eqeq(str,"self")){return self.$receiver()}return $Kernel.$eval(str,self,file,line)}),-2);return self.$attr_reader("receiver","source_location")})("::",null);(function($base){var self=$module($base,"Kernel");return $def(self,"$binding",(function $$binding(){return $Kernel.$raise("Opal doesn't support dynamic calls to binding")}),0)})("::");return $const_set($nesting[0],"TOPLEVEL_BINDING",$$$("Binding").$new((function(js){return new Function("self","return "+js)(self)}),[],self,["<main>",0]))};Opal.modules["corelib/irb"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$truthy=Opal.truthy,$Kernel=Opal.Kernel,$defs=Opal.defs,$hash=Opal.hash,$gvars=Opal.gvars,$lambda=Opal.lambda,$send=Opal.send,$rb_plus=Opal.rb_plus,$const_set=Opal.const_set,$klass=Opal.klass,$def=Opal.def,$Opal=Opal.Opal,$range=Opal.range,$eqeq=Opal.eqeq;Opal.add_stubs("include?,raise,attr_accessor,singleton_class,output=,browser?,each,dup,write_proc=,proc,+,output,join,last,split,end_with?,call,write_proc,tty=,read_proc,read_proc=,freeze,new,string,ensure_loaded,prepare_console,loop,print,gets,puts,start_with?,[],==,silence,message,empty?,warnings,warn,full_message,eval_and_print,irb");(function($base,$parent_nesting){var self=$module($base,"Opal");var $nesting=[self].concat($parent_nesting);return function($base,$parent_nesting){var self=$module($base,"IRB");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$ensure_loaded",(function $$ensure_loaded(library){var version=nil,url=nil;if($truthy(Opal.loaded_features["$include?"](library))){return nil}version=$truthy($$("RUBY_ENGINE_VERSION")["$include?"]("dev"))?"master":$$("RUBY_ENGINE_VERSION");url="https://cdn.opalrb.com/opal/"+version+"/"+library+".js";var libcode;if(typeof XMLHttpRequest!=="undefined"){var r=new XMLHttpRequest;r.open("GET",url,false);r.send("");libcode=r.responseText}else{$Kernel.$raise("You need to provision "+library+" yourself in this environment")}new Function("Opal",libcode)(Opal);Opal.require(library);if($truthy(Opal.loaded_features["$include?"](library))){return nil}else{return $Kernel.$raise("Could not load "+library+" for some reason")}}),1);self.$singleton_class().$attr_accessor("output");$defs(self,"$prepare_console",(function $$prepare_console(){var block=$$prepare_console.$$p||nil,$a,self=this,original=nil,original_read_proc=nil;if($gvars.stdout==null)$gvars.stdout=nil;if($gvars.stderr==null)$gvars.stderr=nil;if($gvars.stdin==null)$gvars.stdin=nil;delete $$prepare_console.$$p;return function(){try{self["$output="]("");original=$hash($gvars.stdout,$lambda((function $$1(i){if(i==null)i=nil;return $gvars.stdout=i}),1),$gvars.stderr,$lambda((function $$2(i){if(i==null)i=nil;return $gvars.stderr=i}),1));if($truthy(self["$browser?"]())){$send(original,"each",[],(function $$3(pipe,pipe_setter){var self=$$3.$$s==null?this:$$3.$$s,new_pipe=nil;if(pipe==null)pipe=nil;if(pipe_setter==null)pipe_setter=nil;new_pipe=pipe.$dup();new_pipe["$write_proc="]($send(self,"proc",[],(function $$4(str){var self=$$4.$$s==null?this:$$4.$$s;if(str==null)str=nil;self["$output="]($rb_plus(self.$output(),str));self["$output="](self.$output().$split("\n").$last(30).$join("\n"));if($truthy(str["$end_with?"]("\n"))){self["$output="]($rb_plus(self.$output(),"\n"))}return pipe.$write_proc().$call(str)}),{$$arity:1,$$s:self}));new_pipe["$tty="](false);return pipe_setter.$call(new_pipe)}),{$$arity:2,$$s:self});original_read_proc=$gvars.stdin.$read_proc();$gvars.stdin["$read_proc="]((function(s){var p=prompt(self.$output());if(p!==null)return p+"\n";return nil}))}return Opal.yieldX(block,[])}finally{$send(original,"each",[],(function $$5(pipe,pipe_setter){if(pipe==null)pipe=nil;if(pipe_setter==null)pipe_setter=nil;return pipe_setter.$call(pipe)}),2),$a=[original_read_proc],$send($gvars.stdin,"read_proc=",$a),$a[$a.length-1],$a=[""],$send(self,"output=",$a),$a[$a.length-1]}}()}),0);$defs(self,"$browser?",(function $IRB_browser$ques$6(){return typeof document!=="undefined"&&typeof prompt!=="undefined"}),0);$const_set($nesting[0],"LINEBREAKS",["unexpected token $end","unterminated string meets end of file"].$freeze());return function($base,$super){var self=$klass($base,$super,"Silencer");var $proto=self.$$prototype;$proto.collector=$proto.stderr=nil;$def(self,"$initialize",(function $$initialize(){var self=this;if($gvars.stderr==null)$gvars.stderr=nil;return self.stderr=$gvars.stderr}),0);$def(self,"$silence",(function $$silence(){var $yield=$$silence.$$p||nil,self=this;delete $$silence.$$p;return function(){try{self.collector=$$$("StringIO").$new();$gvars.stderr=self.collector;return Opal.yieldX($yield,[])}finally{$gvars.stderr=self.stderr}}()}),0);return $def(self,"$warnings",(function $$warnings(){var self=this;return self.collector.$string()}),0)}($nesting[0],null)}($nesting[0],$nesting)})($nesting[0],$nesting);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Binding");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$irb",(function $$irb(){try{var self=this,silencer=nil;$$$($Opal,"IRB").$ensure_loaded("opal-replutils");silencer=$$$($$$($Opal,"IRB"),"Silencer").$new();return function(){var $brk=Opal.new_brk();try{return $send($$$($Opal,"IRB"),"prepare_console",[],(function $$7(){var self=$$7.$$s==null?this:$$7.$$s;return function(){var $brk=Opal.new_brk();try{return $send(self,"loop",[],(function $$8(){var self=$$8.$$s==null?this:$$8.$$s,line=nil,code=nil,mode=nil,js_code=nil,e=nil;self.$print(">> ");line=self.$gets();if(!$truthy(line)){Opal.brk(nil,$brk)}code="";if($truthy($$$($Opal,"IRB")["$browser?"]())){self.$puts(line)}if($truthy(line["$start_with?"]("ls "))){code=line["$[]"]($range(3,-1,false));mode="ls"}else if($eqeq(line,"ls\n")){code="self";mode="ls"}else if($truthy(line["$start_with?"]("show "))){code=line["$[]"]($range(5,-1,false));mode="show"}else{code=line;mode="inspect"}js_code=nil;retry_1:do{try{$send(silencer,"silence",[],(function $$9(){return js_code=Opal.compile(code,{irb:true})}),0)}catch($err){if(Opal.rescue($err,[$$("SyntaxError")])){e=$err;try{if($truthy($$$($$$($Opal,"IRB"),"LINEBREAKS")["$include?"](e.$message()))){self.$print(".. ");line=self.$gets();if(!$truthy(line)){Opal.ret(nil)}if($truthy($$$($Opal,"IRB")["$browser?"]())){self.$puts(line)}code=$rb_plus(code,line);continue retry_1}else if($truthy(silencer.$warnings()["$empty?"]())){self.$warn(e.$full_message())}else{self.$warn(silencer.$warnings())}}finally{Opal.pop_exception()}}else{throw $err}}break}while(1);if($eqeq(mode,"show")){self.$puts(js_code);Opal.ret(nil)}return self.$puts($$$("REPLUtils").$eval_and_print(js_code,mode,false,self))}),{$$arity:0,$$s:self,$$brk:$brk})}catch(err){if(err===$brk){return err.$v}else{throw err}}}()}),{$$arity:0,$$s:self,$$brk:$brk})}catch(err){if(err===$brk){return err.$v}else{throw err}}}()}catch($returner){if($returner===Opal.returner){return $returner.$v}throw $returner}}),0)})("::",null,$nesting);Opal.irb=function(fun){$$$("Binding").$new(fun).$irb()};Opal.load_parser=function(){Opal.Opal.IRB.$ensure_loaded("opal-parser")};if(typeof Opal.eval==="undefined"){Opal.eval=function(str){Opal.load_parser();return Opal.eval(str)}}if(typeof Opal.compile==="undefined"){Opal.compile=function(str,options){Opal.load_parser();return Opal.compile(str,options)}}};Opal.queue((function(Opal){var nil=Opal.nil,$Object=Opal.Object;Opal.add_stubs("require,autoload");$Object.$require("opal/base");$Object.$require("opal/mini");$Object.$require("corelib/kernel/format");$Object.$require("corelib/string/encoding");$Object.$autoload("Math","corelib/math");$Object.$require("corelib/complex/base");$Object.$autoload("Complex","corelib/complex");$Object.$require("corelib/rational/base");$Object.$autoload("Rational","corelib/rational");$Object.$require("corelib/time");$Object.$autoload("Struct","corelib/struct");$Object.$autoload("Dir","corelib/dir");$Object.$autoload("File","corelib/file");$Object.$require("corelib/process/base");$Object.$autoload("Process","corelib/process");$Object.$autoload("Random","corelib/random");$Object.$require("corelib/unsupported");$Object.$require("corelib/binding");return $Object.$require("corelib/irb")}));Opal.modules["opal"]=function(Opal){var nil=Opal.nil,$Object=Opal.Object;Opal.add_stubs("require,autoload");$Object.$require("opal/base");$Object.$require("opal/mini");$Object.$require("corelib/kernel/format");$Object.$require("corelib/string/encoding");$Object.$autoload("Math","corelib/math");$Object.$require("corelib/complex/base");$Object.$autoload("Complex","corelib/complex");$Object.$require("corelib/rational/base");$Object.$autoload("Rational","corelib/rational");$Object.$require("corelib/time");$Object.$autoload("Struct","corelib/struct");$Object.$autoload("Dir","corelib/dir");$Object.$autoload("File","corelib/file");$Object.$require("corelib/process/base");$Object.$autoload("Process","corelib/process");$Object.$autoload("Random","corelib/random");$Object.$require("corelib/unsupported");$Object.$require("corelib/binding");return $Object.$require("corelib/irb")};Opal.modules["native"]=function(Opal){var self=Opal.top,$nesting=[],$$=Opal.$r($nesting),nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$defs=Opal.defs,$truthy=Opal.truthy,$send=Opal.send,$Kernel=Opal.Kernel,$hash2=Opal.hash2,$range=Opal.range,$to_a=Opal.to_a,$def=Opal.def,$return_ivar=Opal.return_ivar,$alias=Opal.alias,$klass=Opal.klass,$rb_minus=Opal.rb_minus,$return_val=Opal.return_val,$send2=Opal.send2,$find_super=Opal.find_super,$eqeqeq=Opal.eqeqeq,$rb_ge=Opal.rb_ge,$return_self=Opal.return_self,$gvars=Opal.gvars;Opal.add_stubs("try_convert,native?,respond_to?,to_n,raise,inspect,Native,proc,map!,end_with?,define_method,[],convert,call,to_proc,new,each,native_reader,native_writer,extend,warn,include,is_a?,map,Array,to_a,_Array,method_missing,bind,instance_method,[]=,slice,-,length,has_key?,enum_for,===,>=,<<,each_pair,method_defined?,initialize,_initialize,name,native_module");(function($base,$parent_nesting){var self=$module($base,"Native");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$is_a?",(function $Native_is_a$ques$1(object,klass){var self=this;try{return object instanceof self.$try_convert(klass)}catch(e){return false}}),2);$defs(self,"$try_convert",(function $$try_convert(value,default$){var self=this;if(default$==null)default$=nil;if(self["$native?"](value)){return value}else if(value["$respond_to?"]("to_n")){return value.$to_n()}else{return default$}}),-2);$defs(self,"$convert",(function $$convert(value){var self=this;if(self["$native?"](value)){return value}else if(value["$respond_to?"]("to_n")){return value.$to_n()}else{self.$raise($$("ArgumentError"),""+value.$inspect()+" isn't native")}}),1);$defs(self,"$call",(function $$call(obj,key,$a){var block=$$call.$$p||nil,$post_args,args,self=this;delete $$call.$$p;$post_args=Opal.slice.call(arguments,2);args=$post_args;var prop=obj[key];if(prop instanceof Function){var converted=new Array(args.length);for(var i=0,l=args.length;i<l;i++){var item=args[i],conv=self.$try_convert(item);converted[i]=conv===nil?item:conv}if(block!==nil){converted.push(block)}return self.$Native(prop.apply(obj,converted))}else{return self.$Native(prop)}}),-3);$defs(self,"$proc",(function $$proc(){var block=$$proc.$$p||nil,self=this;delete $$proc.$$p;if(!$truthy(block)){self.$raise($$("LocalJumpError"),"no block given")}return $send($Kernel,"proc",[],(function $$2($a){var $post_args,args,self=$$2.$$s==null?this:$$2.$$s,instance=nil;$post_args=Opal.slice.call(arguments);args=$post_args;$send(args,"map!",[],(function $$3(arg){var self=$$3.$$s==null?this:$$3.$$s;if(arg==null)arg=nil;return self.$Native(arg)}),{$$arity:1,$$s:self});instance=self.$Native(this);if(this===Opal.global){return block.apply(self,args)}var self_=block.$$s;block.$$s=null;try{return block.apply(instance,args)}finally{block.$$s=self_}}),{$$arity:-1,$$s:self})}),0);(function($base,$parent_nesting){var self=$module($base,"Helpers");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$alias_native",(function $$alias_native(new$,$a,$b){var $post_args,$kwargs,old,as,$yield=$$alias_native.$$p||nil,self=this;delete $$alias_native.$$p;$post_args=Opal.slice.call(arguments,1);$kwargs=Opal.extract_kwargs($post_args);if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if($post_args.length>0)old=$post_args.shift();if(old==null)old=new$;as=$kwargs.$$smap["as"];if(as==null)as=nil;if($truthy(old["$end_with?"]("="))){return $send(self,"define_method",[new$],(function $$4(value){var self=$$4.$$s==null?this:$$4.$$s;if(self["native"]==null)self["native"]=nil;if(value==null)value=nil;self["native"][old["$[]"]($range(0,-2,false))]=$$("Native").$convert(value);return value}),{$$arity:1,$$s:self})}else if($truthy(as)){return $send(self,"define_method",[new$],(function $$5($c){var block=$$5.$$p||nil,$post_args,args,self=$$5.$$s==null?this:$$5.$$s,value=nil;if(self["native"]==null)self["native"]=nil;delete $$5.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;value=$send($$("Native"),"call",[self["native"],old].concat($to_a(args)),block.$to_proc());if($truthy(value)){return as.$new(value.$to_n())}else{return nil}}),{$$arity:-1,$$s:self})}else{return $send(self,"define_method",[new$],(function $$6($c){var block=$$6.$$p||nil,$post_args,args,self=$$6.$$s==null?this:$$6.$$s;if(self["native"]==null)self["native"]=nil;delete $$6.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;return $send($$("Native"),"call",[self["native"],old].concat($to_a(args)),block.$to_proc())}),{$$arity:-1,$$s:self})}}),-2);$def(self,"$native_reader",(function $$native_reader($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;return $send(names,"each",[],(function $$7(name){var self=$$7.$$s==null?this:$$7.$$s;if(name==null)name=nil;return $send(self,"define_method",[name],(function $$8(){var self=$$8.$$s==null?this:$$8.$$s;if(self["native"]==null)self["native"]=nil;return self.$Native(self["native"][name])}),{$$arity:0,$$s:self})}),{$$arity:1,$$s:self})}),-1);$def(self,"$native_writer",(function $$native_writer($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;return $send(names,"each",[],(function $$9(name){var self=$$9.$$s==null?this:$$9.$$s;if(name==null)name=nil;return $send(self,"define_method",[""+name+"="],(function $$10(value){var self=$$10.$$s==null?this:$$10.$$s;if(self["native"]==null)self["native"]=nil;if(value==null)value=nil;return self.$Native(self["native"][name]=value)}),{$$arity:1,$$s:self})}),{$$arity:1,$$s:self})}),-1);return $def(self,"$native_accessor",(function $$native_accessor($a){var $post_args,names,self=this;$post_args=Opal.slice.call(arguments);names=$post_args;$send(self,"native_reader",$to_a(names));return $send(self,"native_writer",$to_a(names))}),-1)})($nesting[0],$nesting);(function($base,$parent_nesting){var self=$module($base,"Wrapper");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$initialize",(function $$initialize(native$){var self=this;if(!$truthy($Kernel["$native?"](native$))){$Kernel.$raise($$("ArgumentError"),""+native$.$inspect()+" isn't native")}return self["native"]=native$}),1);$def(self,"$to_n",$return_ivar("native"),0);return $defs(self,"$included",(function $$included(klass){return klass.$extend($$("Helpers"))}),1)})($nesting[0],$nesting);return $defs(self,"$included",(function $$included(base){var self=this;self.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead.");return base.$include($$("Wrapper"))}),1)})($nesting[0],$nesting);(function($base,$parent_nesting){var self=$module($base,"Kernel");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$native?",(function $Kernel_native$ques$11(value){return value==null||!value.$$class}),1);$def(self,"$Native",(function $$Native(obj){var $yield=$$Native.$$p||nil,self=this;delete $$Native.$$p;if($truthy(obj==null)){return nil}else if($truthy(self["$native?"](obj))){return $$$($$("Native"),"Object").$new(obj)}else if($truthy(obj["$is_a?"]($$("Array")))){return $send(obj,"map",[],(function $$12(o){var self=$$12.$$s==null?this:$$12.$$s;if(o==null)o=nil;return self.$Native(o)}),{$$arity:1,$$s:self})}else if($truthy(obj["$is_a?"]($$("Proc")))){return $send(self,"proc",[],(function $$13($a){var block=$$13.$$p||nil,$post_args,args,self=$$13.$$s==null?this:$$13.$$s;delete $$13.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;return self.$Native($send(obj,"call",$to_a(args),block.$to_proc()))}),{$$arity:-1,$$s:self})}else{return obj}}),1);$alias(self,"_Array","Array");return $def(self,"$Array",(function $$Array(object,$a){var block=$$Array.$$p||nil,$post_args,args,self=this;delete $$Array.$$p;$post_args=Opal.slice.call(arguments,1);args=$post_args;if($truthy(self["$native?"](object))){return $send($$$($$("Native"),"Array"),"new",[object].concat($to_a(args)),block.$to_proc()).$to_a()}return self.$_Array(object)}),-2)})($nesting[0],$nesting);(function($base,$super){var self=$klass($base,$super,"Object");var $proto=self.$$prototype;$proto["native"]=nil;self.$include($$$($$$("Native"),"Wrapper"));$def(self,"$==",(function $Object_$eq_eq$14(other){var self=this;return self["native"]===$$$("Native").$try_convert(other)}),1);$def(self,"$has_key?",(function $Object_has_key$ques$15(name){var self=this;return Opal.hasOwnProperty.call(self["native"],name)}),1);$def(self,"$each",(function $$each($a){var $post_args,args,$yield=$$each.$$p||nil,self=this;delete $$each.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if($yield!==nil){for(var key in self["native"]){Opal.yieldX($yield,[key,self["native"][key]])}return self}else{return $send(self,"method_missing",["each"].concat($to_a(args)))}}),-1);$def(self,"$[]",(function $Object_$$$16(key){var self=this;var prop=self["native"][key];if(prop instanceof Function){return prop}else{return $$$("Native").$call(self["native"],key)}}),1);$def(self,"$[]=",(function $Object_$$$eq$17(key,value){var self=this,native$=nil;native$=$$$("Native").$try_convert(value);if($truthy(native$===nil)){return self["native"][key]=value}else{return self["native"][key]=native$}}),2);$def(self,"$merge!",(function $Object_merge$excl$18(other){var self=this;other=$$$("Native").$convert(other);for(var prop in other){self["native"][prop]=other[prop]}return self}),1);$def(self,"$respond_to?",(function $Object_respond_to$ques$19(name,include_all){var self=this;if(include_all==null)include_all=false;return $Kernel.$instance_method("respond_to?").$bind(self).$call(name,include_all)}),-2);$def(self,"$respond_to_missing?",(function $Object_respond_to_missing$ques$20(name,include_all){var self=this;if(include_all==null)include_all=false;return Opal.hasOwnProperty.call(self["native"],name)}),-2);$def(self,"$method_missing",(function $$method_missing(mid,$a){var block=$$method_missing.$$p||nil,$post_args,args,$b,self=this;delete $$method_missing.$$p;$post_args=Opal.slice.call(arguments,1);args=$post_args;if(mid.charAt(mid.length-1)==="="){return $b=[mid.$slice(0,$rb_minus(mid.$length(),1)),args["$[]"](0)],$send(self,"[]=",$b),$b[$b.length-1]}else{return $send($$$("Native"),"call",[self["native"],mid].concat($to_a(args)),block.$to_proc())}}),-2);$def(self,"$nil?",$return_val(false),0);$def(self,"$is_a?",(function $Object_is_a$ques$21(klass){var self=this;return Opal.is_a(self,klass)}),1);$def(self,"$instance_of?",(function $Object_instance_of$ques$22(klass){var self=this;return self.$$class===klass}),1);$def(self,"$class",(function $Object_class$23(){var self=this;return self.$$class}),0);$def(self,"$to_a",(function $$to_a(options){var block=$$to_a.$$p||nil,self=this;delete $$to_a.$$p;if(options==null)options=$hash2([],{});return $send($$$($$$("Native"),"Array"),"new",[self["native"],options],block.$to_proc()).$to_a()}),-1);$def(self,"$inspect",(function $$inspect(){var self=this;return"#<Native:"+String(self["native"])+">"}),0);$alias(self,"include?","has_key?");$alias(self,"key?","has_key?");$alias(self,"kind_of?","is_a?");return $alias(self,"member?","has_key?")})($$("Native"),$$("BasicObject"));(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Array");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.named=$proto["native"]=$proto.get=$proto.block=$proto.set=$proto.length=nil;self.$include($$$($$("Native"),"Wrapper"));self.$include($$("Enumerable"));$def(self,"$initialize",(function $$initialize(native$,options){var block=$$initialize.$$p||nil,self=this,$ret_or_1=nil;delete $$initialize.$$p;if(options==null)options=$hash2([],{});$send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",[native$],null);self.get=$truthy($ret_or_1=options["$[]"]("get"))?$ret_or_1:options["$[]"]("access");self.named=options["$[]"]("named");self.set=$truthy($ret_or_1=options["$[]"]("set"))?$ret_or_1:options["$[]"]("access");self.length=$truthy($ret_or_1=options["$[]"]("length"))?$ret_or_1:"length";self.block=block;if($truthy(self.$length()==null)){return self.$raise($$("ArgumentError"),"no length found on the array-like object")}else{return nil}}),-2);$def(self,"$each",(function $$each(){var block=$$each.$$p||nil,self=this;delete $$each.$$p;if(!$truthy(block)){return self.$enum_for("each")}for(var i=0,length=self.$length();i<length;i++){Opal.yield1(block,self["$[]"](i))}return self}),0);$def(self,"$[]",(function $Array_$$$24(index){var self=this,result=nil,$ret_or_1=nil;result=$eqeqeq($$("String"),$ret_or_1=index)||$eqeqeq($$("Symbol"),$ret_or_1)?$truthy(self.named)?self["native"][self.named](index):self["native"][index]:$eqeqeq($$("Integer"),$ret_or_1)?$truthy(self.get)?self["native"][self.get](index):self["native"][index]:nil;if($truthy(result)){if($truthy(self.block)){return self.block.$call(result)}else{return self.$Native(result)}}else{return nil}}),1);$def(self,"$[]=",(function $Array_$$$eq$25(index,value){var self=this;if($truthy(self.set)){return self["native"][self.set](index,$$("Native").$convert(value))}else{return self["native"][index]=$$("Native").$convert(value)}}),2);$def(self,"$last",(function $$last(count){var $a,self=this,index=nil,result=nil;if(count==null)count=nil;if($truthy(count)){index=$rb_minus(self.$length(),1);result=[];while($truthy($rb_ge(index,0))){result["$<<"](self["$[]"](index));index=$rb_minus(index,1)}return result}else{return self["$[]"]($rb_minus(self.$length(),1))}}),-1);$def(self,"$length",(function $$length(){var self=this;return self["native"][self.length]}),0);$def(self,"$inspect",(function $$inspect(){var self=this;return self.$to_a().$inspect()}),0);return $alias(self,"to_ary","to_a")})($$("Native"),null,$nesting);(function($base,$super){var self=$klass($base,$super,"Numeric");return $def(self,"$to_n",(function $$to_n(){var self=this;return self.valueOf()}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"Proc");return $def(self,"$to_n",$return_self,0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"String");return $def(self,"$to_n",(function $$to_n(){var self=this;return self.valueOf()}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"Regexp");return $def(self,"$to_n",(function $$to_n(){var self=this;return self.valueOf()}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"MatchData");return $def(self,"$to_n",$return_ivar("matches"),0)})($nesting[0],null);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Struct");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$to_n",(function $$to_n(){var self=this,result=nil;result={};$send(self,"each_pair",[],(function $$26(name,value){if(name==null)name=nil;if(value==null)value=nil;return result[name]=$$("Native").$try_convert(value,value)}),2);return result}),0)})($nesting[0],null,$nesting);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Array");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$to_n",(function $$to_n(){var self=this;var result=[];for(var i=0,length=self.length;i<length;i++){var obj=self[i];result.push($$("Native").$try_convert(obj,obj))}return result}),0)})($nesting[0],null,$nesting);(function($base,$super){var self=$klass($base,$super,"Boolean");return $def(self,"$to_n",(function $$to_n(){var self=this;return self.valueOf()}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"Time");return $def(self,"$to_n",$return_self,0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"NilClass");return $def(self,"$to_n",(function $$to_n(){return null}),0)})($nesting[0],null);if(!$truthy($$("Hash")["$method_defined?"]("_initialize"))){(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Hash");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$alias(self,"_initialize","initialize");$def(self,"$initialize",(function $$initialize(defaults){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(defaults!=null&&(defaults.constructor===undefined||defaults.constructor===Object)){var smap=self.$$smap,keys=self.$$keys,key,value;for(key in defaults){value=defaults[key];if(value&&(value.constructor===undefined||value.constructor===Object)){smap[key]=$$("Hash").$new(value)}else if(value&&value.$$is_array){value=value.map((function(item){if(item&&(item.constructor===undefined||item.constructor===Object)){return $$("Hash").$new(item)}return self.$Native(item)}));smap[key]=value}else{smap[key]=self.$Native(value)}keys.push(key)}return self}return $send(self,"_initialize",[defaults],block.$to_proc())}),-1);return $def(self,"$to_n",(function $$to_n(){var self=this;var result={},keys=self.$$keys,smap=self.$$smap,key,value;for(var i=0,length=keys.length;i<length;i++){key=keys[i];if(key.$$is_string){value=smap[key]}else{key=key.key;value=key.value}result[key]=$$("Native").$try_convert(value,value)}return result}),0)})($nesting[0],null,$nesting)}(function($base,$super){var self=$klass($base,$super,"Module");return $def(self,"$native_module",(function $$native_module(){var self=this;return Opal.global[self.$name()]=self}),0)})($nesting[0],null);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Class");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$native_alias",(function $$native_alias(new_jsid,existing_mid){var self=this;var aliased=self.prototype["$"+existing_mid];if(!aliased){self.$raise($$("NameError").$new("undefined method `"+existing_mid+"' for class `"+self.$inspect()+"'",existing_mid))}self.prototype[new_jsid]=aliased}),2);return $def(self,"$native_class",(function $$native_class(){var self=this;self.$native_module();return self["new"]=self.$new}),0)})($nesting[0],null,$nesting);return $gvars.$=$gvars.global=self.$Native(Opal.global)};Opal.modules["console"]=function(Opal){var self=Opal.top,$nesting=[],$$=Opal.$r($nesting),nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$def=Opal.def,$truthy=Opal.truthy,$eqeq=Opal.eqeq,$send=Opal.send,$gvars=Opal.gvars;Opal.add_stubs("require,include,raise,==,arity,instance_exec,to_proc,new");self.$require("native");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Console");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto["native"]=nil;self.$include($$$($$("Native"),"Wrapper"));$def(self,"$clear",(function $$clear(){var self=this;return self["native"].clear()}),0);$def(self,"$trace",(function $$trace(){var self=this;return self["native"].trace()}),0);$def(self,"$log",(function $$log($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return self["native"].log.apply(self["native"],args)}),-1);$def(self,"$info",(function $$info($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return self["native"].info.apply(self["native"],args)}),-1);$def(self,"$warn",(function $$warn($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return self["native"].warn.apply(self["native"],args)}),-1);$def(self,"$error",(function $$error($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return self["native"].error.apply(self["native"],args)}),-1);$def(self,"$time",(function $$time(label){var block=$$time.$$p||nil,self=this;delete $$time.$$p;if(!$truthy(block)){self.$raise($$("ArgumentError"),"no block given")}self["native"].time(label);return function(){try{if($eqeq(block.$arity(),0)){return $send(self,"instance_exec",[],block.$to_proc())}else{return Opal.yield1(block,self)}}finally{self["native"].timeEnd()}}()}),1);$def(self,"$group",(function $$group($a){var block=$$group.$$p||nil,$post_args,args,self=this;delete $$group.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(!$truthy(block)){self.$raise($$("ArgumentError"),"no block given")}self["native"].group.apply(self["native"],args);return function(){try{if($eqeq(block.$arity(),0)){return $send(self,"instance_exec",[],block.$to_proc())}else{return Opal.yield1(block,self)}}finally{self["native"].groupEnd()}}()}),-1);return $def(self,"$group!",(function $Console_group$excl$1($a){var block=$Console_group$excl$1.$$p||nil,$post_args,args,self=this;delete $Console_group$excl$1.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;if(!(block!==nil)){return nil}self["native"].groupCollapsed.apply(self["native"],args);return function(){try{if($eqeq(block.$arity(),0)){return $send(self,"instance_exec",[],block.$to_proc())}else{return Opal.yield1(block,self)}}finally{self["native"].groupEnd()}}()}),-1)})($nesting[0],null,$nesting);if($truthy(typeof Opal.global.console!=="undefined")){return $gvars.console=$$("Console").$new(Opal.global.console)}else{return nil}};Opal.modules["ovto/actions"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$klass=Opal.klass,$return_ivar=Opal.return_ivar,$def=Opal.def;Opal.add_stubs("attr_writer,state,_app");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Actions");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.wired_actions=nil;self.$attr_writer("wired_actions");$def(self,"$actions",$return_ivar("wired_actions"),0);$def(self,"$state",(function $$state(){var self=this;return self.wired_actions.$_app().$state()}),0);$def(self,"$middleware_name",(function $$middleware_name(){return $$$($$("WiredActionSet"),"I_AM_APP_NOT_A_MIDDLEWARE")}),0);return $def(self,"$middleware_path",(function $$middleware_path(){return[]}),0)}($nesting[0],null,$nesting)}($nesting[0],$nesting)};Opal.modules["ovto/app"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$klass=Opal.klass,$truthy=Opal.truthy,$defs=Opal.defs,$send=Opal.send,$to_a=Opal.to_a,$hash2=Opal.hash2,$lambda=Opal.lambda,$def=Opal.def,$assign_ivar=Opal.assign_ivar,$return_val=Opal.return_val,$rb_plus=Opal.rb_plus;Opal.add_stubs("run,new,push,middlewares,const_get,class,item,create_middleware_states_class,attr_reader,app_wired_actions,log_error,_run,private,wired_actions=,create_view,start_application,raise,+,setup,each,_run_setup,[],name");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"App");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.wired_action_set=nil;$defs(self,"$middlewares",(function $$middlewares(){var self=this,$ret_or_1=nil;if(self.middlewares==null)self.middlewares=nil;return self.middlewares=$truthy($ret_or_1=self.middlewares)?$ret_or_1:[]}),0);$defs(self,"$run",(function $$run($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return $send(self.$new(),"run",$to_a(args))}),-1);$defs(self,"$use",(function $$use(middleware_class){var self=this;return self.$middlewares().$push(middleware_class)}),1);$def(self,"$initialize",(function $$initialize(){var self=this,app_state_class=nil;app_state_class=self.$class().$const_get("State");app_state_class.$item("_middlewares",$hash2(["default_proc"],{default_proc:$lambda((function $$1(){var self=$$1.$$s==null?this:$$1.$$s;return $$$($$("Ovto"),"Middleware").$create_middleware_states_class(self.$class().$middlewares()).$new()}),{$$arity:0,$$s:self})}));self.state=app_state_class.$new();self.wired_action_set=nil;return self.main_component=nil}),0);self.$attr_reader("state");self.$attr_reader("main_component");$def(self,"$actions",(function $$actions(){var self=this;return self.wired_action_set.$app_wired_actions()}),0);$def(self,"$_set_state",$assign_ivar("state"),0);$def(self,"$run",(function $$run($a){var $post_args,args,self=this;$post_args=Opal.slice.call(arguments);args=$post_args;return $send($$("Ovto"),"log_error",[],(function $$2(){var self=$$2.$$s==null?this:$$2.$$s;return $send(self,"_run",$to_a(args))}),{$$arity:0,$$s:self})}),-1);$def(self,"$setup",$return_val(nil),0);self.$private();$def(self,"$_run",(function $$_run($kwargs){var id,self=this,runtime=nil,actions=nil;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}id=$kwargs.$$smap["id"];if(id==null)id=nil;runtime=$$$($$("Ovto"),"Runtime").$new(self);actions=self.$class().$const_get("Actions").$new();self.wired_action_set=$$("WiredActionSet").$new(self,actions,[],self.$class().$middlewares(),runtime);actions["$wired_actions="](self.wired_action_set.$app_wired_actions());self.main_component=self.$create_view(self.wired_action_set);if($truthy(id)){document.addEventListener("DOMContentLoaded",(function(){var container=document.getElementById(id);if(!container){throw"Ovto::App#run: tag with id='"+id+"' was not found"}self.$start_application(runtime,container)}))}else{return self.$start_application(runtime,nil)}}),-1);$def(self,"$create_view",(function $$create_view(wired_action_set){var self=this,main_component_class=nil,orig_ex=nil;try{main_component_class=self.$class().$const_get("MainComponent")}catch($err){if(Opal.rescue($err,[$$("NameError")])){orig_ex=$err;try{var $no_errors=true;try{self.$class().$const_get("View")}catch($err){$no_errors=false;if(Opal.rescue($err,[$$("NameError")])){try{self.$raise(orig_ex)}finally{Opal.pop_exception()}}else{throw $err}}finally{if($no_errors){self.$raise($rb_plus("Since Ovto 0.3.0, View is renamed to MainComponent. Please rename ",""+self.$class()+"::View to "+self.$class()+"::MainComponent"))}}}finally{Opal.pop_exception()}}else{throw $err}}finally{if($no_errors){self.$raise($rb_plus("Since Ovto 0.3.0, View is renamed to MainComponent. Please rename ",""+self.$class()+"::View to "+self.$class()+"::MainComponent"))}}return main_component_class.$new(wired_action_set)}),1);return $def(self,"$start_application",(function $$start_application(runtime,container){var self=this;return $send($$("Ovto"),"log_error",[],(function $$3(){var self=$$3.$$s==null?this:$$3.$$s;if(self.main_component==null)self.main_component=nil;runtime.$run(self.main_component,container);self.$setup();return $send(self.$class().$middlewares(),"each",[],(function $$4(m){var self=$$4.$$s==null?this:$$4.$$s;if(self.wired_action_set==null)self.wired_action_set=nil;if(m==null)m=nil;return m.$_run_setup(self.wired_action_set["$[]"](m.$name()))}),{$$arity:1,$$s:self})}),{$$arity:0,$$s:self})}),2)}($nesting[0],null,$nesting)}($nesting[0],$nesting)};Opal.modules["ovto/component"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$klass=Opal.klass,$send=Opal.send,$defs=Opal.defs,$truthy=Opal.truthy,$def=Opal.def,$return_val=Opal.return_val,$hash2=Opal.hash2,$eqeqeq=Opal.eqeqeq,$rb_gt=Opal.rb_gt,$eqeq=Opal.eqeq,$to_a=Opal.to_a,$rb_plus=Opal.rb_plus,$gvars=Opal.gvars,$lambda=Opal.lambda;Opal.add_stubs("require,each,dummy,state,app,private,do_render,debug_trace_log,log_error,send_args_with_state,to_proc,===,>,length,raise,==,[],error,console,inject,native?,is_a?,render_component,empty?,render_children,extract_attrs,reject,!,render_tag,merge_attrs,+,inspect,push,last,[]=,merge,to_s,render_block,call,first,pop,new_component,new_middleware_path,new,middleware_name,index,to_h,map,start_with?,hash_to_js_obj");self.$require("native");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Component");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.wired_action_set=$proto.middleware_path=$proto.vdom_stack=$proto.current_state=$proto.components=$proto.components_index=nil;$klass($nesting[0],$$("StandardError"),"MoreThanOneNode");$defs(self,"$hash_to_js_obj",(function $$hash_to_js_obj(hash){var ret=nil;ret={};$send(hash,"each",[],(function $$1(k,v){if(k==null)k=nil;if(v==null)v=nil;return ret[k]=v}),2);return ret}),1);$defs(self,"$middleware_name",(function $$middleware_name(){return $$$($$("WiredActionSet"),"I_AM_APP_NOT_A_MIDDLEWARE")}),0);$def(self,"$initialize",(function $$initialize(wired_action_set,middleware_path){var self=this,$ret_or_1=nil;if(middleware_path==null)middleware_path=[];self.wired_action_set=$truthy($ret_or_1=wired_action_set)?$ret_or_1:$$("WiredActionSet").$dummy();self.middleware_path=middleware_path;self.vdom_stack=[[]];self.components=[];return self.components_index=0}),-2);$def(self,"$render",$return_val(""),0);$def(self,"$state",(function $$state(){var self=this;return self.wired_action_set.$app().$state()}),0);self.$private();$def(self,"$render_view",(function $$render_view(state){var self=this;return self.$do_render($hash2([],{}),state)}),1);$def(self,"$do_render",(function $$do_render(args,state){var block=$$do_render.$$p||nil,self=this,rendered=nil,$ret_or_1=nil;delete $$do_render.$$p;$$("Ovto").$debug_trace_log("rendering "+self);self.vdom_stack=[[]];self.components_index=0;self.done_render=false;self.current_state=state;rendered=$send($$("Ovto"),"log_error",[],(function $$2(){var self=$$2.$$s==null?this:$$2.$$s;return $send($$("Ovto"),"send_args_with_state",[self,"render",args,state],block.$to_proc())}),{$$arity:0,$$s:self});if($eqeqeq($$("String"),$ret_or_1=rendered)){return rendered}else if($eqeqeq($$("Array"),$ret_or_1)){if($truthy($rb_gt(rendered.$length(),1))){self.$raise($$("MoreThanOneNode"))}if($eqeq(rendered.$length(),0)){self.$raise("rendered is empty")}return rendered["$[]"](0)}else{self.$console().$error("#render returned unknown value",rendered);return self.$raise("#render returned unknown value")}}),2);$def(self,"$actions",(function $$actions(){var self=this;return $send(self.middleware_path,"inject",[self.wired_action_set],(function $$3(wa_set,middleware_name){if(wa_set==null)wa_set=nil;if(middleware_name==null)middleware_name=nil;return wa_set["$[]"](middleware_name)}),2)["$[]"]($$$($$("WiredActionSet"),"THE_MIDDLEWARE_ITSELF"))}),0);$def(self,"$o",(function $$o(_tag_name,arg1,arg2){var block=$$o.$$p||nil,$a,self=this,attributes=nil,content=nil,$ret_or_1=nil,result=nil,children=nil,tag_name=nil,base_attributes=nil,more_attributes=nil;delete $$o.$$p;if(arg1==null)arg1=nil;if(arg2==null)arg2=nil;if($truthy(self["$native?"](arg1))){attributes=$hash2([],{});content=arg1}else if($truthy(arg1["$is_a?"]($$("Hash")))){attributes=arg1;content=arg2}else if($eqeq(arg2,nil)){attributes=$hash2([],{});content=arg1}else{self.$raise($$("ArgumentError"))}if($eqeqeq($$("Class"),$ret_or_1=_tag_name)){if($truthy(content)){self.$raise($$("ArgumentError"),"use a block to pass content to sub component")}result=$send(self,"render_component",[_tag_name,attributes],block.$to_proc())}else if($eqeqeq("text",$ret_or_1)){if(!$truthy(attributes["$empty?"]())){self.$raise($$("ArgumentError"),"text cannot take attributes")}result=content}else if($eqeqeq($$("String"),$ret_or_1)){children=self.$render_children(content,block);$a=[].concat($to_a(self.$extract_attrs(_tag_name))),tag_name=$a[0]==null?nil:$a[0],base_attributes=$a[1]==null?nil:$a[1],$a;if($eqeq(tag_name,"textarea")&&($truthy(content)||$truthy(block))){self.$raise($$("ArgumentError"),"Use `value:` to specify content of a textarea")}more_attributes=$send(attributes,"reject",[],(function $$4(k,v){if(k==null)k=nil;if(v==null)v=nil;return v["$!"]()}),2);result=self.$render_tag(tag_name,self.$merge_attrs(base_attributes,more_attributes),children)}else{self.$raise($$("TypeError"),$rb_plus("tag_name must be a String or Component but got ",$$("Ovto").$inspect(tag_name)))}self.vdom_stack.$last().$push(result);return self.vdom_stack.$last()}),-2);$def(self,"$extract_attrs",(function $$extract_attrs(tag_name){var $a,$b,$ret_or_1=nil,class_name=nil,id=nil,attributes=nil;if($eqeqeq(/^([^.#]*)\.([-\w]+)(\#([-\w]+))?/,$ret_or_1=tag_name)){$a=[$truthy((($b=$gvars["~"])===nil?nil:$b["$[]"](1))["$empty?"]())?"div":($b=$gvars["~"])===nil?nil:$b["$[]"](1),($b=$gvars["~"])===nil?nil:$b["$[]"](2),($b=$gvars["~"])===nil?nil:$b["$[]"](4)],tag_name=$a[0],class_name=$a[1],id=$a[2],$a}else if($eqeqeq(/^([^.#]*)\#([-\w]+)(\.([-\w]+))?/,$ret_or_1)){$a=[$truthy((($b=$gvars["~"])===nil?nil:$b["$[]"](1))["$empty?"]())?"div":($b=$gvars["~"])===nil?nil:$b["$[]"](1),($b=$gvars["~"])===nil?nil:$b["$[]"](4),($b=$gvars["~"])===nil?nil:$b["$[]"](2)],tag_name=$a[0],class_name=$a[1],id=$a[2],$a}else{class_name=id=nil}attributes=$hash2([],{});if($truthy(class_name)){attributes["$[]="]("class",class_name)}if($truthy(id)){attributes["$[]="]("id",id)}return[tag_name,attributes]}),1);$def(self,"$merge_attrs",(function $$merge_attrs(base_attributes,attributes){var base_class=nil,more_class=nil,merged_class=nil,$ret_or_1=nil;base_class=base_attributes["$[]"]("class");more_class=attributes["$[]"]("class");merged_class=$truthy(base_class)&&$truthy(more_class)?$rb_plus($rb_plus(base_class," "),more_class):$truthy($ret_or_1=base_class)?$ret_or_1:more_class;if($truthy(merged_class)){return base_attributes.$merge(attributes).$merge($hash2(["class"],{class:merged_class}))}else{return base_attributes.$merge(attributes)}}),2);$def(self,"$render_children",(function $$render_children(content,block){var self=this,$ret_or_1=nil;if(content==null)content=nil;if(block==null)block=nil;if($truthy($truthy($ret_or_1=content)?block:$ret_or_1)){return self.$raise($$("ArgumentError"),"o cannot take both content and block")}else if($truthy(content)){if($truthy(self["$native?"](content))){return[content]}else{return[content.$to_s()]}}else if($truthy(block)){return self.$render_block(block)}else{return[]}}),-1);$def(self,"$render_block",(function $$render_block(block){var self=this,orig_depth=nil,block_value=nil,results=nil;self.vdom_stack.$push([]);orig_depth=self.vdom_stack.$length();block_value=block.$call();self.vdom_stack=self.vdom_stack.$first(orig_depth);results=self.vdom_stack.$pop();if($truthy($rb_gt(results.$length(),0))){return results}else if($truthy(self["$native?"](block_value))){return[block_value]}else if($truthy(block_value["$is_a?"]($$("String")))){return[block_value]}else if($truthy(block_value["$is_a?"]($$("Array")))){return block_value}else{self.$console().$error("Invalid block_value:",$$("Ovto").$inspect(block_value));return self.$raise("Invalid block value")}}),1);$def(self,"$render_component",(function $$render_component(comp_class,args){var block=$$render_component.$$p||nil,$a,self=this,comp=nil,orig_stack=nil,ret=nil;delete $$render_component.$$p;comp=self.$new_component(comp_class);$a=[self.vdom_stack,[[]]],orig_stack=$a[0],self.vdom_stack=$a[1],$a;ret=$send(comp,"do_render",[args,self.current_state],block.$to_proc());self.vdom_stack=orig_stack;return ret}),2);$def(self,"$new_component",(function $$new_component(comp_class){var $a,self=this,comp=nil,middleware_path=nil;comp=self.components["$[]"](self.components_index);if($truthy(comp["$is_a?"](comp_class))){self.components_index=$rb_plus(self.components_index,1);return comp}middleware_path=self.$new_middleware_path(comp_class);comp=($a=[self.components_index,comp_class.$new(self.wired_action_set,middleware_path)],$send(self.components,"[]=",$a),$a[$a.length-1]);self.components_index=$rb_plus(self.components_index,1);return comp}),1);$def(self,"$new_middleware_path",(function $$new_middleware_path(comp_class){var self=this,mw_name=nil,idx=nil;mw_name=comp_class.$middleware_name();if($truthy(idx=self.middleware_path.$index(mw_name))){return self.middleware_path["$[]"](Opal.Range.$new(0,idx,false))}else if($eqeq(comp_class.$middleware_name(),$$$($$("WiredActionSet"),"I_AM_APP_NOT_A_MIDDLEWARE"))){return self.middleware_path}else{return $rb_plus(self.middleware_path,[comp_class.$middleware_name()])}}),1);return $def(self,"$render_tag",(function $$render_tag(tag_name,attributes,children){var attributes_=nil,js_attributes=nil,$ret_or_1=nil,style=nil,ret=nil;attributes_=$send(attributes,"map",[],(function $$5(k,v){if(k==null)k=nil;if(v==null)v=nil;if($truthy(k["$start_with?"]("on"))){return[k,$lambda((function $$6(e){if(e==null)e=nil;return $send($$("Ovto"),"log_error",[],(function $$7(){return v.$call(e)}),0)}),1)]}else{return[k,v]}}),2).$to_h();js_attributes=$$("Component").$hash_to_js_obj($truthy($ret_or_1=attributes_)?$ret_or_1:$hash2([],{}));if($truthy(style=attributes_["$[]"]("style"))){js_attributes.style=$$("Component").$hash_to_js_obj(style)}children=$truthy($ret_or_1=children)?$ret_or_1:null;ret={nodeName:tag_name,attributes:js_attributes,children:children,key:js_attributes.key};return ret}),3)}($nesting[0],null,$nesting)}($nesting[0],$nesting)};Opal.modules["ovto/pure_component"]=function(Opal){var $nesting=[],nil=Opal.nil,$module=Opal.module,$klass=Opal.klass,$send2=Opal.send2,$find_super=Opal.find_super,$to_a=Opal.to_a,$def=Opal.def,$eqeq=Opal.eqeq;Opal.add_stubs("==,raise");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"PureComponent");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.prev_props=$proto.cache=nil;$klass($nesting[0],$$("StandardError"),"StateIsNotAvailable");$def(self,"$initialize",(function $$initialize($a){var $post_args,args,$yield=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;$send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",$to_a(args),$yield);self.prev_props=nil;return self.cache=nil}),-1);$def(self,"$do_render",(function $$do_render(args,state){var $yield=$$do_render.$$p||nil,self=this;delete $$do_render.$$p;if($eqeq(args,self.prev_props)){return self.cache}self.prev_props=args;return self.cache=$send2(self,$find_super(self,"do_render",$$do_render,false,true),"do_render",[args,state],$yield)}),2);return $def(self,"$state",(function $$state(){var self=this;return self.$raise($$("StateIsNotAvailable"),"Cannot use state in PureComponent")}),0)}($nesting[0],$$("Component"),$nesting)}($nesting[0],$nesting)};Opal.modules["promise"]=function(Opal){var $nesting=[],$$=Opal.$r($nesting),nil=Opal.nil,$klass=Opal.klass,$defs=Opal.defs,$hash2=Opal.hash2,$def=Opal.def,$eqeqeq=Opal.eqeqeq,$truthy=Opal.truthy,$return_ivar=Opal.return_ivar,$not=Opal.not,$send=Opal.send,$to_a=Opal.to_a,$rb_plus=Opal.rb_plus,$alias=Opal.alias,$send2=Opal.send2,$find_super=Opal.find_super,$rb_le=Opal.rb_le,$rb_minus=Opal.rb_minus,$const_set=Opal.const_set;Opal.add_stubs("resolve,new,reject,attr_reader,===,value,key?,keys,!=,==,<<,>>,exception?,[],resolved?,rejected?,!,error,include?,action,realized?,raise,^,call,resolve!,exception!,any?,each,reject!,there_can_be_only_one!,then,to_proc,fail,always,trace,class,object_id,+,inspect,rescue,fail!,then!,always!,to_v2,itself,nil?,prev,act?,push,concat,it,proc,reverse,pop,<=,length,shift,-,wait,map,reduce,try,tap,all?,find,collect,inject");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Promise");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.value=$proto.action=$proto.realized=$proto.next=$proto.delayed=$proto.error=$proto.prev=nil;$defs(self,"$value",(function $$value(value){var self=this;return self.$new().$resolve(value)}),1);$defs(self,"$error",(function $$error(value){var self=this;return self.$new().$reject(value)}),1);$defs(self,"$when",(function $$when($a){var $post_args,promises;$post_args=Opal.slice.call(arguments);promises=$post_args;return $$("When").$new(promises)}),-1);self.$attr_reader("error","prev","next");$def(self,"$initialize",(function $$initialize(action){var self=this;if(action==null)action=$hash2([],{});self.action=action;self.realized=false;self.exception=false;self.value=nil;self.error=nil;self.delayed=false;self.prev=nil;return self.next=[]}),-1);$def(self,"$value",(function $$value(){var self=this;if($eqeqeq($$("Promise"),self.value)){return self.value.$value()}else{return self.value}}),0);$def(self,"$act?",(function $Promise_act$ques$1(){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.action["$key?"]("success"))){return $ret_or_1}else{return self.action["$key?"]("always")}}),0);$def(self,"$action",(function $$action(){var self=this;return self.action.$keys()}),0);$def(self,"$exception?",$return_ivar("exception"),0);$def(self,"$realized?",(function $Promise_realized$ques$2(){var self=this;return self.realized["$!="](false)}),0);$def(self,"$resolved?",(function $Promise_resolved$ques$3(){var self=this;return self.realized["$=="]("resolve")}),0);$def(self,"$rejected?",(function $Promise_rejected$ques$4(){var self=this;return self.realized["$=="]("reject")}),0);$def(self,"$^",(function $Promise_$$5(promise){var self=this;promise["$<<"](self);self["$>>"](promise);return promise}),1);$def(self,"$<<",(function $Promise_$lt$lt$6(promise){var self=this;self.prev=promise;return self}),1);$def(self,"$>>",(function $Promise_$gt$gt$7(promise){var self=this;self.next["$<<"](promise);if($truthy(self["$exception?"]())){promise.$reject(self.delayed["$[]"](0))}else if($truthy(self["$resolved?"]())){promise.$resolve($truthy(self.delayed)?self.delayed["$[]"](0):self.$value())}else if($truthy(self["$rejected?"]())){if($not(self.action["$key?"]("failure"))||$eqeqeq($$("Promise"),$truthy(self.delayed)?self.delayed["$[]"](0):self.error)){promise.$reject($truthy(self.delayed)?self.delayed["$[]"](0):self.$error())}else if($truthy(promise.$action()["$include?"]("always"))){promise.$reject($truthy(self.delayed)?self.delayed["$[]"](0):self.$error())}}return self}),1);$def(self,"$resolve",(function $$resolve(value){var self=this,block=nil,$ret_or_1=nil,e=nil;if(value==null)value=nil;if($truthy(self["$realized?"]())){self.$raise($$("ArgumentError"),"the promise has already been realized")}if($eqeqeq($$("Promise"),value)){return value["$<<"](self.prev)["$^"](self)}try{block=$truthy($ret_or_1=self.action["$[]"]("success"))?$ret_or_1:self.action["$[]"]("always");if($truthy(block)){value=block.$call(value)}self["$resolve!"](value)}catch($err){if(Opal.rescue($err,[$$("Exception")])){e=$err;try{self["$exception!"](e)}finally{Opal.pop_exception()}}else{throw $err}}return self}),-1);$def(self,"$resolve!",(function $Promise_resolve$excl$8(value){var self=this;self.realized="resolve";self.value=value;if($truthy(self.next["$any?"]())){return $send(self.next,"each",[],(function $$9(p){if(p==null)p=nil;return p.$resolve(value)}),1)}else{return self.delayed=[value]}}),1);$def(self,"$reject",(function $$reject(value){var self=this,block=nil,$ret_or_1=nil,e=nil;if(value==null)value=nil;if($truthy(self["$realized?"]())){self.$raise($$("ArgumentError"),"the promise has already been realized")}if($eqeqeq($$("Promise"),value)){return value["$<<"](self.prev)["$^"](self)}try{block=$truthy($ret_or_1=self.action["$[]"]("failure"))?$ret_or_1:self.action["$[]"]("always");if($truthy(block)){value=block.$call(value)}if($truthy(self.action["$key?"]("always"))){self["$resolve!"](value)}else{self["$reject!"](value)}}catch($err){if(Opal.rescue($err,[$$("Exception")])){e=$err;try{self["$exception!"](e)}finally{Opal.pop_exception()}}else{throw $err}}return self}),-1);$def(self,"$reject!",(function $Promise_reject$excl$10(value){var self=this;self.realized="reject";self.error=value;if($truthy(self.next["$any?"]())){return $send(self.next,"each",[],(function $$11(p){if(p==null)p=nil;return p.$reject(value)}),1)}else{return self.delayed=[value]}}),1);$def(self,"$exception!",(function $Promise_exception$excl$12(error){var self=this;self.exception=true;return self["$reject!"](error)}),1);$def(self,"$then",(function $$then(){var block=$$then.$$p||nil,self=this;delete $$then.$$p;return self["$^"]($$("Promise").$new($hash2(["success"],{success:block})))}),0);$def(self,"$then!",(function $Promise_then$excl$13(){var block=$Promise_then$excl$13.$$p||nil,self=this;delete $Promise_then$excl$13.$$p;self["$there_can_be_only_one!"]();return $send(self,"then",[],block.$to_proc())}),0);$def(self,"$fail",(function $$fail(){var block=$$fail.$$p||nil,self=this;delete $$fail.$$p;return self["$^"]($$("Promise").$new($hash2(["failure"],{failure:block})))}),0);$def(self,"$fail!",(function $Promise_fail$excl$14(){var block=$Promise_fail$excl$14.$$p||nil,self=this;delete $Promise_fail$excl$14.$$p;self["$there_can_be_only_one!"]();return $send(self,"fail",[],block.$to_proc())}),0);$def(self,"$always",(function $$always(){var block=$$always.$$p||nil,self=this;delete $$always.$$p;return self["$^"]($$("Promise").$new($hash2(["always"],{always:block})))}),0);$def(self,"$always!",(function $Promise_always$excl$15(){var block=$Promise_always$excl$15.$$p||nil,self=this;delete $Promise_always$excl$15.$$p;self["$there_can_be_only_one!"]();return $send(self,"always",[],block.$to_proc())}),0);$def(self,"$trace",(function $$trace(depth){var block=$$trace.$$p||nil,self=this;delete $$trace.$$p;if(depth==null)depth=nil;return self["$^"]($$("Trace").$new(depth,block))}),-1);$def(self,"$trace!",(function $Promise_trace$excl$16($a){var block=$Promise_trace$excl$16.$$p||nil,$post_args,args,self=this;delete $Promise_trace$excl$16.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;self["$there_can_be_only_one!"]();return $send(self,"trace",$to_a(args),block.$to_proc())}),-1);$def(self,"$there_can_be_only_one!",(function $Promise_there_can_be_only_one$excl$17(){var self=this;if($truthy(self.next["$any?"]())){return self.$raise($$("ArgumentError"),"a promise has already been chained")}else{return nil}}),0);$def(self,"$inspect",(function $$inspect(){var self=this,result=nil,$ret_or_1=nil;result="#<"+self.$class()+"("+self.$object_id()+")";if($truthy(self.next["$any?"]())){result=$rb_plus(result," >> "+self.next.$inspect())}result=$rb_plus(result,$truthy(self["$realized?"]())?": "+($truthy($ret_or_1=self.value)?$ret_or_1:self.error).$inspect()+">":">");return result}),0);$def(self,"$to_v2",(function $$to_v2(){var self=this,v2=nil;v2=$$("PromiseV2").$new();$send($send(self,"then",[],(function $$18(i){if(i==null)i=nil;return v2.$resolve(i)}),1),"rescue",[],(function $$19(i){if(i==null)i=nil;return v2.$reject(i)}),1);return v2}),0);$alias(self,"catch","fail");$alias(self,"catch!","fail!");$alias(self,"do","then");$alias(self,"do!","then!");$alias(self,"ensure","always");$alias(self,"ensure!","always!");$alias(self,"finally","always");$alias(self,"finally!","always!");$alias(self,"rescue","fail");$alias(self,"rescue!","fail!");$alias(self,"to_n","to_v2");$alias(self,"to_v1","itself");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Trace");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$it",(function $$it(promise){var self=this,current=nil,prev=nil;current=[];if($truthy(promise["$act?"]())||$truthy(promise.$prev()["$nil?"]())){current.$push(promise.$value())}prev=promise.$prev();if($truthy(prev)){return current.$concat(self.$it(prev))}else{return current}}),1);return $def(self,"$initialize",(function $$initialize(depth,block){var $yield=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;self.depth=depth;return $send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",[$hash2(["success"],{success:$send(self,"proc",[],(function $$20(){var self=$$20.$$s==null?this:$$20.$$s,trace=nil;trace=$$("Trace").$it(self).$reverse();trace.$pop();if($truthy(depth)&&$truthy($rb_le(depth,trace.$length()))){trace.$shift($rb_minus(trace.$length(),depth))}return $send(block,"call",$to_a(trace))}),{$$arity:0,$$s:self})})],null)}),2)})($nesting[0],self,$nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"When");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.wait=nil;$def(self,"$initialize",(function $$initialize(promises){var $yield=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(promises==null)promises=[];$send2(self,$find_super(self,"initialize",$$initialize,false,true),"initialize",[],null);self.wait=[];return $send(promises,"each",[],(function $$21(promise){var self=$$21.$$s==null?this:$$21.$$s;if(promise==null)promise=nil;return self.$wait(promise)}),{$$arity:1,$$s:self})}),-1);$def(self,"$each",(function $$each(){var block=$$each.$$p||nil,self=this;delete $$each.$$p;if(!$truthy(block)){self.$raise($$("ArgumentError"),"no block given")}return $send(self,"then",[],(function $$22(values){if(values==null)values=nil;return $send(values,"each",[],block.$to_proc())}),1)}),0);$def(self,"$collect",(function $$collect(){var block=$$collect.$$p||nil,self=this;delete $$collect.$$p;if(!$truthy(block)){self.$raise($$("ArgumentError"),"no block given")}return $send(self,"then",[],(function $$23(values){if(values==null)values=nil;return $$("When").$new($send(values,"map",[],block.$to_proc()))}),1)}),0);$def(self,"$inject",(function $$inject($a){var block=$$inject.$$p||nil,$post_args,args,self=this;delete $$inject.$$p;$post_args=Opal.slice.call(arguments);args=$post_args;return $send(self,"then",[],(function $$24(values){if(values==null)values=nil;return $send(values,"reduce",$to_a(args),block.$to_proc())}),1)}),-1);$def(self,"$wait",(function $$wait(promise){var self=this;if(!$eqeqeq($$("Promise"),promise)){promise=$$("Promise").$value(promise)}if($truthy(promise["$act?"]())){promise=promise.$then()}self.wait["$<<"](promise);$send(promise,"always",[],(function $$25(){var self=$$25.$$s==null?this:$$25.$$s;if(self.next==null)self.next=nil;if($truthy(self.next["$any?"]())){return self.$try()}else{return nil}}),{$$arity:0,$$s:self});return self}),1);$def(self,"$>>",(function $When_$gt$gt$26($a){var $post_args,$rest_arg,$yield=$When_$gt$gt$26.$$p||nil,self=this;delete $When_$gt$gt$26.$$p;$post_args=Opal.slice.call(arguments);$rest_arg=$post_args;return $send($send2(self,$find_super(self,">>",$When_$gt$gt$26,false,true),">>",$to_a($rest_arg),$yield),"tap",[],(function $$27(){var self=$$27.$$s==null?this:$$27.$$s;return self.$try()}),{$$arity:0,$$s:self})}),-1);$def(self,"$try",(function $When_try$28(){var self=this,promise=nil;if($truthy($send(self.wait,"all?",[],"realized?".$to_proc()))){promise=$send(self.wait,"find",[],"rejected?".$to_proc());if($truthy(promise)){return self.$reject(promise.$error())}else{return self.$resolve($send(self.wait,"map",[],"value".$to_proc()))}}else{return nil}}),0);$alias(self,"map","collect");$alias(self,"reduce","inject");return $alias(self,"and","wait")}($nesting[0],self,$nesting)})($nesting[0],null,$nesting);return $const_set($nesting[0],"PromiseV1",$$("Promise"))};Opal.modules["json"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$klass=Opal.klass,$send=Opal.send,$Object=Opal.Object,$hash2=Opal.hash2,$eqeqeq=Opal.eqeqeq,$defs=Opal.defs,$truthy=Opal.truthy,$def=Opal.def,$return_val=Opal.return_val;Opal.add_stubs("raise,new,push,[]=,[],create_id,json_create,const_get,attr_accessor,create_id=,===,parse,generate,from_object,merge,to_json,responds_to?,to_io,write,to_s,to_a,strftime");(function($base,$parent_nesting){var self=$module($base,"JSON");var $a,$nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$klass($nesting[0],$$("StandardError"),"JSONError");$klass($nesting[0],$$("JSONError"),"ParserError");var $hasOwn=Opal.hasOwnProperty;function $parse(source){try{return JSON.parse(source)}catch(e){self.$raise($$$($$("JSON"),"ParserError"),e.message)}}function to_opal(value,options){var klass,arr,hash,i,ii,k;switch(typeof value){case"string":return value;case"number":return value;case"boolean":return!!value;case"undefined":return nil;case"object":if(!value)return nil;if(value.$$is_array){arr=options.array_class.$new();for(i=0,ii=value.length;i<ii;i++){arr.$push(to_opal(value[i],options))}return arr}else{hash=options.object_class.$new();for(k in value){if($hasOwn.call(value,k)){$a=[k,to_opal(value[k],options)],$send(hash,"[]=",$a),$a[$a.length-1]}}if(!options.parse&&(klass=hash["$[]"]($$("JSON").$create_id()))!=nil){return $Object.$const_get(klass).$json_create(hash)}else{return hash}}}}(function(self,$parent_nesting){return self.$attr_accessor("create_id")})(Opal.get_singleton_class(self),$nesting);self["$create_id="]("json_class");$defs(self,"$[]",(function $JSON_$$$1(value,options){var self=this;if(options==null)options=$hash2([],{});if($eqeqeq($$("String"),value)){return self.$parse(value,options)}else{return self.$generate(value,options)}}),-2);$defs(self,"$parse",(function $$parse(source,options){var self=this;if(options==null)options=$hash2([],{});return self.$from_object($parse(source),options.$merge($hash2(["parse"],{parse:true})))}),-2);$defs(self,"$parse!",(function $JSON_parse$excl$2(source,options){var self=this;if(options==null)options=$hash2([],{});return self.$parse(source,options)}),-2);$defs(self,"$load",(function $$load(source,options){var self=this;if(options==null)options=$hash2([],{});return self.$from_object($parse(source),options)}),-2);$defs(self,"$from_object",(function $$from_object(js_object,options){var $ret_or_1=nil;if(options==null)options=$hash2([],{});if($truthy($ret_or_1=options["$[]"]("object_class"))){$ret_or_1}else{options["$[]="]("object_class",$$("Hash"))}if($truthy($ret_or_1=options["$[]"]("array_class"))){$ret_or_1}else{options["$[]="]("array_class",$$("Array"))}return to_opal(js_object,options.$$smap)}),-2);$defs(self,"$generate",(function $$generate(obj,options){if(options==null)options=$hash2([],{});return obj.$to_json(options)}),-2);return $defs(self,"$dump",(function $$dump(obj,io,limit){var self=this,string=nil;if(io==null)io=nil;if(limit==null)limit=nil;string=self.$generate(obj);if($truthy(io)){if($truthy(io["$responds_to?"]("to_io"))){io=io.$to_io()}io.$write(string);return io}else{return string}}),-2)})($nesting[0],$nesting);(function($base,$super){var self=$klass($base,$super,"Object");return $def(self,"$to_json",(function $$to_json(){var self=this;return self.$to_s().$to_json()}),0)})($nesting[0],null);(function($base){var self=$module($base,"Enumerable");return $def(self,"$to_json",(function $$to_json(){var self=this;return self.$to_a().$to_json()}),0)})($nesting[0]);(function($base,$super){var self=$klass($base,$super,"Array");return $def(self,"$to_json",(function $$to_json(){var self=this;var result=[];for(var i=0,length=self.length;i<length;i++){result.push(self[i].$to_json())}return"["+result.join(",")+"]"}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"Boolean");return $def(self,"$to_json",(function $$to_json(){var self=this;return self==true?"true":"false"}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"Hash");return $def(self,"$to_json",(function $$to_json(){var self=this;var result=[];for(var i=0,keys=self.$$keys,length=keys.length,key,value;i<length;i++){key=keys[i];if(key.$$is_string){value=self.$$smap[key]}else{value=key.value;key=key.key}result.push(key.$to_s().$to_json()+":"+value.$to_json())}return"{"+result.join(",")+"}"}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"NilClass");return $def(self,"$to_json",$return_val("null"),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"Numeric");return $def(self,"$to_json",(function $$to_json(){var self=this;return self.toString()}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"String");return $def(self,"$to_json",(function $$to_json(){var self=this;return JSON.stringify(self)}),0)})($nesting[0],null);(function($base,$super){var self=$klass($base,$super,"Time");return $def(self,"$to_json",(function $$to_json(){var self=this;return self.$strftime("%FT%T%z").$to_json()}),0)})($nesting[0],null);return function($base,$super){var self=$klass($base,$super,"Date");$def(self,"$to_json",(function $$to_json(){var self=this;return self.$to_s().$to_json()}),0);return $def(self,"$as_json",(function $$as_json(){var self=this;return self.$to_s()}),0)}($nesting[0],null)};Opal.modules["ovto/fetch"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$module=Opal.module,$neqeq=Opal.neqeq,$defs=Opal.defs;Opal.add_stubs("require,!=,to_json,_do_fetch,new,resolve,parse,reject");self.$require("promise");self.$require("native");self.$require("json");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$fetch",(function $$fetch(url,method,data){var self=this,init=nil;if(method==null)method="GET";if(data==null)data=nil;init={method:method,credentials:"same-origin"};if($neqeq(method,"GET")){var headers={"Content-Type":"application/json"};var metaTag=document.querySelector("meta[name=csrf-token]");if(metaTag)headers["X-CSRF-Token"]=metaTag.content;init["headers"]=headers;init["body"]=data.$to_json()}return self.$_do_fetch(url,init)}),-2);return $defs(self,"$_do_fetch",(function $$_do_fetch(url,init){var promise=nil,text=nil,error=nil;promise=$$("Promise").$new();text=error=nil;fetch(url,init).then((response=>{if(response.ok){return response.text()}else{throw response}})).then((text=>promise.$resolve($$("JSON").$parse(text)))).catch((error=>promise.$reject(error)));return promise}),2)}($nesting[0],$nesting)};Opal.modules["ovto/runtime"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$module=Opal.module,$klass=Opal.klass,$assign_ivar=Opal.assign_ivar,$def=Opal.def,$lambda=Opal.lambda,$truthy=Opal.truthy;Opal.add_stubs("require,state,call,Native");self.$require("native");(function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return function($base,$super){var self=$klass($base,$super,"Runtime");var $proto=self.$$prototype;$proto.scheduleRender=nil;$def(self,"$initialize",$assign_ivar("app"),0);$def(self,"$run",(function $$run(view,container){var self=this,getState=nil;getState=$lambda((function $$1(){var self=$$1.$$s==null?this:$$1.$$s;if(self.app==null)self.app=nil;return self.app.$state()}),{$$arity:0,$$s:self});return self.scheduleRender=Ovto.run(getState,view,container)}),2);return $def(self,"$scheduleRender",(function $$scheduleRender(){var self=this;if(!$truthy(self.scheduleRender)){return nil}return self.scheduleRender.$call()}),0)}($nesting[0],null)})($nesting[0],$nesting);var Ovto={};Ovto.run=function(getState,view,container){var map=[].map;var rootElement=container&&container.children[0]||null;var oldNode=rootElement&&recycleElement(rootElement);var lifecycle=[];var skipRender;var isRecycling=true;scheduleRender();return scheduleRender;function recycleElement(element){return{nodeName:element.nodeName.toLowerCase(),attributes:{},children:map.call(element.childNodes,(function(element){return element.nodeType===3?element.nodeValue:recycleElement(element)}))}}function resolveNode(node){if(node===Opal.nil||node==null){return""}else if(node.$$id){if(node.$render_view){return node.$render_view(getState())}else{throw"resolveNode: render_view not defined on "+node.$inspect();return""}}else{return node}}function render(){skipRender=!skipRender;var node=resolveNode(view);if(container&&!skipRender){rootElement=patch(container,rootElement,oldNode,oldNode=node)}isRecycling=false;while(lifecycle.length)lifecycle.pop()()}function scheduleRender(){if(!skipRender){skipRender=true;setTimeout(render)}}function clone(target,source){var out={};for(var i in target)out[i]=target[i];for(var i in source)out[i]=source[i];return out}function getKey(node){return node?node.key:null}function eventListener(event){var ovto_ev=self.$Native(event);return event.currentTarget.events[event.type](ovto_ev)}function updateAttribute(element,name,value,oldValue,isSvg){if(name==="key"){}else if(name==="style"){for(var i in clone(oldValue,value)){var style=value==null||value[i]==null?"":value[i];if(i[0]==="-"){element[name].setProperty(i,style)}else{element[name][i]=style}}}else{if(name[0]==="o"&&name[1]==="n"){name=name.slice(2);if(element.events){if(!oldValue)oldValue=element.events[name]}else{element.events={}}element.events[name]=value;if(value){if(!oldValue){element.addEventListener(name,eventListener)}}else{element.removeEventListener(name,eventListener)}}else if(name in element&&name!=="list"&&!isSvg){element[name]=value==null?"":value}else if(value!=null&&value!==false){element.setAttribute(name,value)}if(value==null||value===false){element.removeAttribute(name)}}}function createElement(node,isSvg){var element=typeof node==="string"||typeof node==="number"?document.createTextNode(node):(isSvg=isSvg||node.nodeName==="svg")?document.createElementNS("http://www.w3.org/2000/svg",node.nodeName):document.createElement(node.nodeName);var attributes=node.attributes;if(attributes){if(attributes.oncreate){lifecycle.push((function(){attributes.oncreate(element)}))}for(var i=0;i<node.children.length;i++){element.appendChild(createElement(node.children[i]=resolveNode(node.children[i]),isSvg))}for(var name in attributes){updateAttribute(element,name,attributes[name],null,isSvg)}}return element}function updateElement(element,oldAttributes,attributes,isSvg){for(var name in clone(oldAttributes,attributes)){if(attributes[name]!==(name==="value"||name==="checked"?element[name]:oldAttributes[name])){updateAttribute(element,name,attributes[name],oldAttributes[name],isSvg)}}var cb=isRecycling?attributes.oncreate:attributes.onupdate;if(cb){lifecycle.push((function(){cb(element,oldAttributes)}))}}function removeChildren(element,node){var attributes=node.attributes;if(attributes){for(var i=0;i<node.children.length;i++){removeChildren(element.childNodes[i],node.children[i])}if(attributes.ondestroy){attributes.ondestroy(element)}}return element}function removeElement(parent,element,node){function done(){parent.removeChild(removeChildren(element,node))}var cb=node.attributes&&node.attributes.onremove;if(cb){cb(element,done)}else{done()}}function patch(parent,element,oldNode,node,isSvg){if(node===oldNode){}else if(oldNode==null||oldNode.nodeName!==node.nodeName){var newElement=createElement(node,isSvg);parent.insertBefore(newElement,element);if(oldNode!=null){removeElement(parent,element,oldNode)}element=newElement}else if(oldNode.nodeName==null){element.nodeValue=node}else{updateElement(element,oldNode.attributes,node.attributes,isSvg=isSvg||node.nodeName==="svg");var oldKeyed={};var newKeyed={};var oldElements=[];var oldChildren=oldNode.children;var children=node.children;for(var i=0;i<oldChildren.length;i++){oldElements[i]=element.childNodes[i];var oldKey=getKey(oldChildren[i]);if(oldKey!=null){oldKeyed[oldKey]=[oldElements[i],oldChildren[i]]}}var i=0;var k=0;while(k<children.length){var oldKey=getKey(oldChildren[i]);var newKey=getKey(children[k]=resolveNode(children[k]));if(newKeyed[oldKey]){i++;continue}if(newKey!=null&&newKey===getKey(oldChildren[i+1])){if(oldKey==null){removeElement(element,oldElements[i],oldChildren[i])}i++;continue}if(newKey==null||isRecycling){if(oldKey==null){patch(element,oldElements[i],oldChildren[i],children[k],isSvg);k++}i++}else{var keyedNode=oldKeyed[newKey]||[];if(oldKey===newKey){patch(element,keyedNode[0],keyedNode[1],children[k],isSvg);i++}else if(keyedNode[0]){patch(element,element.insertBefore(keyedNode[0],oldElements[i]),keyedNode[1],children[k],isSvg)}else{patch(element,oldElements[i],null,children[k],isSvg)}newKeyed[newKey]=children[k];k++}}while(i<oldChildren.length){if(getKey(oldChildren[i])==null){removeElement(element,oldElements[i],oldChildren[i])}i++}for(var i in oldKeyed){if(!newKeyed[i]){removeElement(element,oldKeyed[i][0],oldKeyed[i][1])}}}return element}}};Opal.modules["ovto/state"]=function(Opal){var $nesting=[],nil=Opal.nil,$module=Opal.module,$klass=Opal.klass,$defs=Opal.defs,$hash2=Opal.hash2,$truthy=Opal.truthy,$send=Opal.send,$return_ivar=Opal.return_ivar,$rb_minus=Opal.rb_minus,$not=Opal.not,$def=Opal.def;Opal.add_stubs("instance_variable_set,is_a?,raise,inspect,<<,define_method,[],-,keys,map,item_specs,class,to_proc,any?,to_h,!,key?,name,call,attr_reader,new,merge,==,values,object_id");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"State");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.values=nil;$klass($nesting[0],$$("StandardError"),"MissingValue");$klass($nesting[0],$$("StandardError"),"UnknownStateKey");$defs(self,"$inherited",(function $$inherited(subclass){return subclass.$instance_variable_set("@item_specs",[])}),1);$defs(self,"$item",(function $$item(name,options){var self=this;if(self.item_specs==null)self.item_specs=nil;if(options==null)options=$hash2([],{});if(!$truthy(options["$is_a?"]($$("Hash")))){self.$raise($$("ArgumentError"),"options must be a Hash: item :"+name+", "+options.$inspect())}self.item_specs["$<<"]([name,options]);return $send(self,"define_method",[name],(function $$1(){var self=$$1.$$s==null?this:$$1.$$s;if(self.values==null)self.values=nil;return self.values["$[]"](name)}),{$$arity:0,$$s:self})}),-2);$defs(self,"$item_specs",$return_ivar("item_specs"),0);$def(self,"$initialize",(function $$initialize(hash){var self=this,unknown_keys=nil;if(hash==null)hash=$hash2([],{});unknown_keys=$rb_minus(hash.$keys(),$send(self.$class().$item_specs(),"map",[],"first".$to_proc()));if($truthy(unknown_keys["$any?"]())){self.$raise($$("UnknownStateKey"),"unknown key(s): "+unknown_keys.$inspect())}return self.values=$send(self.$class().$item_specs(),"map",[],(function $$2(name,options){var self=$$2.$$s==null?this:$$2.$$s,value=nil;if(name==null)name=nil;if(options==null)options=nil;if($not(hash["$key?"](name))&&$not(options["$key?"]("default"))&&$not(options["$key?"]("default_proc"))){self.$raise($$("MissingValue"),":"+name+" is mandatory for "+self.$class().$name()+".new")}value=$truthy(hash["$key?"](name))?hash["$[]"](name):$truthy(options["$key?"]("default"))?options["$[]"]("default"):$truthy(options["$key?"]("default_proc"))?options["$[]"]("default_proc").$call():self.$raise("must not happen");return[name,value]}),{$$arity:2,$$s:self}).$to_h()}),-1);self.$attr_reader("values");$def(self,"$merge",(function $$merge(hash){var self=this,unknown_keys=nil;unknown_keys=$rb_minus(hash.$keys(),$send(self.$class().$item_specs(),"map",[],"first".$to_proc()));if($truthy(unknown_keys["$any?"]())){self.$raise($$("UnknownStateKey"),"unknown key(s): "+unknown_keys.$inspect())}return self.$class().$new(self.values.$merge(hash))}),1);$def(self,"$[]",(function $State_$$$3(key){var self=this;return self.values["$[]"](key)}),1);$def(self,"$==",(function $State_$eq_eq$4(other){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=other["$is_a?"]($$("State")))){return self.$values()["$=="](other.$values())}else{return $ret_or_1}}),1);$def(self,"$to_h",$return_ivar("values"),0);return $def(self,"$inspect",(function $$inspect(){var self=this;return"#<"+self.$class().$name()+":"+self.$object_id()+" "+self.values.$inspect()+">"}),0)}($nesting[0],null,$nesting)}($nesting[0],$nesting)};Opal.modules["ovto/version"]=function(Opal){var $nesting=[],nil=Opal.nil,$module=Opal.module,$const_set=Opal.const_set;return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return $const_set($nesting[0],"VERSION","0.6.2")}($nesting[0],$nesting)};Opal.modules["ovto/wired_actions"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$klass=Opal.klass,$def=Opal.def,$hash2=Opal.hash2,$truthy=Opal.truthy,$send=Opal.send,$return_ivar=Opal.return_ivar,$neqeq=Opal.neqeq,$to_a=Opal.to_a,$slice=Opal.slice,$hash=Opal.hash;Opal.add_stubs("require,respond_to?,raise,log_error,debug_trace_log,class,invoke_action,[],include?,middleware_names,private,send_args_with_state,current_state,is_a?,nil?,native?,inspect,merge,!=,scheduleRender,update_state,middleware_name,state,_new_app_state,middleware_path,_set_state,empty?,__send__,_middlewares");self.$require("native");self.$require("promise");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"WiredActions");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.actions=$proto.parent=$proto.runtime=$proto.app=nil;$def(self,"$initialize",(function $$initialize(actions,app,runtime,parent){var $a,self=this;return $a=[actions,app,runtime,parent],self.actions=$a[0],self.app=$a[1],self.runtime=$a[2],self.parent=$a[3],$a}),4);$def(self,"$method_missing",(function $$method_missing(name,args_hash){var self=this;if(args_hash==null)args_hash=$hash2([],{});if(!$truthy(self["$respond_to?"](name))){self.$raise($$("NoMethodError"),"undefined method `"+name+"' on "+self)}if($truthy(self.actions["$respond_to?"](name))){return $send($$("Ovto"),"log_error",[],(function $$1(){var self=$$1.$$s==null?this:$$1.$$s;if(self.actions==null)self.actions=nil;$$("Ovto").$debug_trace_log('invoke action "'+name+'" on '+self.actions.$class());return self.$invoke_action(name,args_hash)}),{$$arity:0,$$s:self})}else{return self.parent["$[]"](name)["$[]"]($$$($$("WiredActionSet"),"THE_MIDDLEWARE_ITSELF"))}}),-2);$def(self,"$respond_to?",(function $WiredActions_respond_to$ques$2(name){var self=this,$ret_or_1=nil;if($truthy($ret_or_1=self.actions["$respond_to?"](name))){return $ret_or_1}else{return self.parent.$middleware_names()["$include?"](name)}}),1);$def(self,"$_app",$return_ivar("app"),0);self.$private();$def(self,"$invoke_action",(function $$invoke_action(name,args_hash){var self=this,state_diff=nil,new_state=nil;state_diff=$$("Ovto").$send_args_with_state(self.actions,name,args_hash,self.$current_state());if($truthy(state_diff["$nil?"]())||$truthy(state_diff["$is_a?"]($$("Promise")))||$truthy(!!state_diff.then)||$truthy(state_diff["$is_a?"]($$$($$("Ovto"),"State")))){return nil}if($truthy(self["$native?"](state_diff))){self.$raise("action `"+name+"' returned js object: "+name.toString())}if(!$truthy(state_diff["$is_a?"]($$("Hash")))){self.$raise("action `"+name+"' must return hash but got "+state_diff.$inspect())}new_state=self.$current_state().$merge(state_diff);if($neqeq(new_state,self.$current_state())){self.runtime.$scheduleRender();self.$update_state(new_state)}return new_state}),2);$def(self,"$middleware_name",(function $$middleware_name(){var self=this;return self.actions.$middleware_name()}),0);$def(self,"$current_state",(function $$current_state(){var self=this;return self.actions.$state()}),0);$def(self,"$update_state",(function $$update_state(new_item){var self=this,new_app_state=nil;new_app_state=self.$_new_app_state(self.actions.$middleware_path(),self.app.$state(),new_item);return self.app.$_set_state(new_app_state)}),1);return $def(self,"$_new_app_state",(function $$_new_app_state(middleware_path,old_state,new_item){var $a,self=this,first=nil,rest=nil,orig_state=nil;if($truthy(middleware_path["$empty?"]())){return new_item}else{$a=[].concat($to_a(middleware_path)),first=$a[0]==null?nil:$a[0],rest=$slice.call($a,1),$a;orig_state=old_state.$_middlewares().$__send__(first);return old_state.$merge($hash2(["_middlewares"],{_middlewares:old_state.$_middlewares().$merge($hash(first,self.$_new_app_state(rest,orig_state,new_item)))}))}}),3)}($nesting[0],null,$nesting)}($nesting[0],$nesting)};Opal.modules["set"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$defs=Opal.defs,$hash2=Opal.hash2,$truthy=Opal.truthy,$eqeqeq=Opal.eqeqeq,$Kernel=Opal.Kernel,$send=Opal.send,$def=Opal.def,$eqeq=Opal.eqeq,$rb_lt=Opal.rb_lt,$rb_le=Opal.rb_le,$alias=Opal.alias,$module=Opal.module,$to_a=Opal.to_a;Opal.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,delete,select,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!");(function($base,$super){var self=$klass($base,$super,"Set");var $ret_or_1=nil,$proto=self.$$prototype;$proto.hash=nil;self.$include($$$("Enumerable"));$defs(self,"$[]",(function $Set_$$$1($a){var $post_args,ary,self=this;$post_args=Opal.slice.call(arguments);ary=$post_args;return self.$new(ary)}),-1);$def(self,"$initialize",(function $$initialize(enum$){var block=$$initialize.$$p||nil,self=this;delete $$initialize.$$p;if(enum$==null)enum$=nil;self.hash=$hash2([],{});if($truthy(enum$["$nil?"]())){return nil}if(!$eqeqeq($$$("Enumerable"),enum$)){$Kernel.$raise($$$("ArgumentError"),"value must be enumerable")}if($truthy(block)){return $send(enum$,"each",[],(function $$2(item){var self=$$2.$$s==null?this:$$2.$$s;if(item==null)item=nil;return self.$add(Opal.yield1(block,item))}),{$$arity:1,$$s:self})}else{return self.$merge(enum$)}}),-1);$def(self,"$dup",(function $$dup(){var self=this,result=nil;result=self.$class().$new();return result.$merge(self)}),0);$def(self,"$-",(function $Set_$minus$3(enum$){var self=this;if(!$truthy(enum$["$respond_to?"]("each"))){$Kernel.$raise($$$("ArgumentError"),"value must be enumerable")}return self.$dup().$subtract(enum$)}),1);$def(self,"$inspect",(function $$inspect(){var self=this;return"#<Set: {"+self.$to_a().$join(",")+"}>"}),0);$def(self,"$==",(function $Set_$eq_eq$4(other){var self=this;if($truthy(self["$equal?"](other))){return true}else if($truthy(other["$instance_of?"](self.$class()))){return self.hash["$=="](other.$instance_variable_get("@hash"))}else if($truthy(other["$is_a?"]($$$("Set")))&&$eqeq(self.$size(),other.$size())){return $send(other,"all?",[],(function $$5(o){var self=$$5.$$s==null?this:$$5.$$s;if(self.hash==null)self.hash=nil;if(o==null)o=nil;return self.hash["$include?"](o)}),{$$arity:1,$$s:self})}else{return false}}),1);$def(self,"$add",(function $$add(o){var self=this;self.hash["$[]="](o,true);return self}),1);$def(self,"$classify",(function $$classify(){var block=$$classify.$$p||nil,self=this,result=nil;delete $$classify.$$p;if(!(block!==nil)){return self.$enum_for("classify")}result=$send($$$("Hash"),"new",[],(function $$6(h,k){var $a,self=$$6.$$s==null?this:$$6.$$s;if(h==null)h=nil;if(k==null)k=nil;return $a=[k,self.$class().$new()],$send(h,"[]=",$a),$a[$a.length-1]}),{$$arity:2,$$s:self});$send(self,"each",[],(function $$7(item){if(item==null)item=nil;return result["$[]"](Opal.yield1(block,item)).$add(item)}),1);return result}),0);$def(self,"$collect!",(function $Set_collect$excl$8(){var block=$Set_collect$excl$8.$$p||nil,self=this,result=nil;delete $Set_collect$excl$8.$$p;if(!(block!==nil)){return self.$enum_for("collect!")}result=self.$class().$new();$send(self,"each",[],(function $$9(item){if(item==null)item=nil;return result["$<<"](Opal.yield1(block,item))}),1);return self.$replace(result)}),0);$def(self,"$delete",(function $Set_delete$10(o){var self=this;self.hash.$delete(o);return self}),1);$def(self,"$delete?",(function $Set_delete$ques$11(o){var self=this;if($truthy(self["$include?"](o))){self.$delete(o);return self}else{return nil}}),1);$def(self,"$delete_if",(function $$delete_if(){var $yield=$$delete_if.$$p||nil,self=this;delete $$delete_if.$$p;if(!($yield!==nil)){return self.$enum_for("delete_if")}$send($send(self,"select",[],(function $$12(o){if(o==null)o=nil;return Opal.yield1($yield,o)}),1),"each",[],(function $$13(o){var self=$$13.$$s==null?this:$$13.$$s;if(self.hash==null)self.hash=nil;if(o==null)o=nil;return self.hash.$delete(o)}),{$$arity:1,$$s:self});return self}),0);$def(self,"$keep_if",(function $$keep_if(){var $yield=$$keep_if.$$p||nil,self=this;delete $$keep_if.$$p;if(!($yield!==nil)){return self.$enum_for("keep_if")}$send($send(self,"reject",[],(function $$14(o){if(o==null)o=nil;return Opal.yield1($yield,o)}),1),"each",[],(function $$15(o){var self=$$15.$$s==null?this:$$15.$$s;if(self.hash==null)self.hash=nil;if(o==null)o=nil;return self.hash.$delete(o)}),{$$arity:1,$$s:self});return self}),0);$def(self,"$reject!",(function $Set_reject$excl$16(){var block=$Set_reject$excl$16.$$p||nil,self=this,before=nil;delete $Set_reject$excl$16.$$p;if(!(block!==nil)){return self.$enum_for("reject!")}before=self.$size();$send(self,"delete_if",[],block.$to_proc());if($eqeq(self.$size(),before)){return nil}else{return self}}),0);$def(self,"$select!",(function $Set_select$excl$17(){var block=$Set_select$excl$17.$$p||nil,self=this,before=nil;delete $Set_select$excl$17.$$p;if(!(block!==nil)){return self.$enum_for("select!")}before=self.$size();$send(self,"keep_if",[],block.$to_proc());if($eqeq(self.$size(),before)){return nil}else{return self}}),0);$def(self,"$add?",(function $Set_add$ques$18(o){var self=this;if($truthy(self["$include?"](o))){return nil}else{return self.$add(o)}}),1);$def(self,"$each",(function $$each(){var block=$$each.$$p||nil,self=this;delete $$each.$$p;if(!(block!==nil)){return self.$enum_for("each")}$send(self.hash,"each_key",[],block.$to_proc());return self}),0);$def(self,"$empty?",(function $Set_empty$ques$19(){var self=this;return self.hash["$empty?"]()}),0);$def(self,"$eql?",(function $Set_eql$ques$20(other){var self=this;return self.hash["$eql?"]($send(other,"instance_eval",[],(function $$21(){var self=$$21.$$s==null?this:$$21.$$s;if(self.hash==null)self.hash=nil;return self.hash}),{$$arity:0,$$s:self}))}),1);$def(self,"$clear",(function $$clear(){var self=this;self.hash.$clear();return self}),0);$def(self,"$include?",(function $Set_include$ques$22(o){var self=this;return self.hash["$include?"](o)}),1);$def(self,"$merge",(function $$merge(enum$){var self=this;$send(enum$,"each",[],(function $$23(item){var self=$$23.$$s==null?this:$$23.$$s;if(item==null)item=nil;return self.$add(item)}),{$$arity:1,$$s:self});return self}),1);$def(self,"$replace",(function $$replace(enum$){var self=this;self.$clear();self.$merge(enum$);return self}),1);$def(self,"$size",(function $$size(){var self=this;return self.hash.$size()}),0);$def(self,"$subtract",(function $$subtract(enum$){var self=this;$send(enum$,"each",[],(function $$24(item){var self=$$24.$$s==null?this:$$24.$$s;if(item==null)item=nil;return self.$delete(item)}),{$$arity:1,$$s:self});return self}),1);$def(self,"$|",(function $Set_$$25(enum$){var self=this;if(!$truthy(enum$["$respond_to?"]("each"))){$Kernel.$raise($$$("ArgumentError"),"value must be enumerable")}return self.$dup().$merge(enum$)}),1);function is_set(set){$truthy($ret_or_1=set["$is_a?"]($$$("Set")))?$ret_or_1:$Kernel.$raise($$$("ArgumentError"),"value must be a set")}$def(self,"$superset?",(function $Set_superset$ques$26(set){var self=this;is_set(set);if($truthy($rb_lt(self.$size(),set.$size()))){return false}return $send(set,"all?",[],(function $$27(o){var self=$$27.$$s==null?this:$$27.$$s;if(o==null)o=nil;return self["$include?"](o)}),{$$arity:1,$$s:self})}),1);$def(self,"$proper_superset?",(function $Set_proper_superset$ques$28(set){var self=this;is_set(set);if($truthy($rb_le(self.$size(),set.$size()))){return false}return $send(set,"all?",[],(function $$29(o){var self=$$29.$$s==null?this:$$29.$$s;if(o==null)o=nil;return self["$include?"](o)}),{$$arity:1,$$s:self})}),1);$def(self,"$subset?",(function $Set_subset$ques$30(set){var self=this;is_set(set);if($truthy($rb_lt(set.$size(),self.$size()))){return false}return $send(self,"all?",[],(function $$31(o){if(o==null)o=nil;return set["$include?"](o)}),1)}),1);$def(self,"$proper_subset?",(function $Set_proper_subset$ques$32(set){var self=this;is_set(set);if($truthy($rb_le(set.$size(),self.$size()))){return false}return $send(self,"all?",[],(function $$33(o){if(o==null)o=nil;return set["$include?"](o)}),1)}),1);$def(self,"$intersect?",(function $Set_intersect$ques$34(set){var self=this;is_set(set);if($truthy($rb_lt(self.$size(),set.$size()))){return $send(self,"any?",[],(function $$35(o){if(o==null)o=nil;return set["$include?"](o)}),1)}else{return $send(set,"any?",[],(function $$36(o){var self=$$36.$$s==null?this:$$36.$$s;if(o==null)o=nil;return self["$include?"](o)}),{$$arity:1,$$s:self})}}),1);$def(self,"$disjoint?",(function $Set_disjoint$ques$37(set){var self=this;return self["$intersect?"](set)["$!"]()}),1);$def(self,"$to_a",(function $$to_a(){var self=this;return self.hash.$keys()}),0);$alias(self,"+","|");$alias(self,"<","proper_subset?");$alias(self,"<<","add");$alias(self,"<=","subset?");$alias(self,">","proper_superset?");$alias(self,">=","superset?");$alias(self,"difference","-");$alias(self,"filter!","select!");$alias(self,"length","size");$alias(self,"map!","collect!");$alias(self,"member?","include?");return $alias(self,"union","|")})("::",null);return function($base,$parent_nesting){var self=$module($base,"Enumerable");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$to_set",(function $$to_set($a,$b){var block=$$to_set.$$p||nil,$post_args,klass,args,self=this;delete $$to_set.$$p;$post_args=Opal.slice.call(arguments);if($post_args.length>0)klass=$post_args.shift();if(klass==null)klass=$$("Set");args=$post_args;return $send(klass,"new",[self].concat($to_a(args)),block.$to_proc())}),-1)}("::",$nesting)};Opal.modules["ovto/wired_action_set"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$module=Opal.module,$klass=Opal.klass,$const_set=Opal.const_set,$defs=Opal.defs,$hash2=Opal.hash2,$send=Opal.send,$rb_plus=Opal.rb_plus,$def=Opal.def;Opal.add_stubs("require,new,[]=,each,+,name,const_get,middlewares,wired_actions=,[],to_set,map,to_proc,attr_reader,fetch");self.$require("set");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"WiredActionSet");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.hash=nil;$const_set($nesting[0],"I_AM_APP_NOT_A_MIDDLEWARE","");$const_set($nesting[0],"THE_MIDDLEWARE_ITSELF","");$defs(self,"$dummy",(function $$dummy(){var self=this;return self.$new(nil,nil,[],[],nil)}),0);$def(self,"$initialize",(function $$initialize(app,actions,middleware_path,middlewares,runtime){var self=this;self.app=app;self.hash=$hash2([],{});self.hash["$[]="]($$("THE_MIDDLEWARE_ITSELF"),$$("WiredActions").$new(actions,app,runtime,self));$send(middlewares,"each",[],(function $$1(m){var $a,self=$$1.$$s==null?this:$$1.$$s,mw_path=nil,mw_actions=nil,mw_wired_action_set=nil;if(self.hash==null)self.hash=nil;if(m==null)m=nil;mw_path=$rb_plus(middleware_path,[m.$name()]);mw_actions=m.$const_get("Actions").$new(mw_path);mw_wired_action_set=$$("WiredActionSet").$new(app,mw_actions,mw_path,m.$middlewares(),runtime);self.hash["$[]="](m.$name(),mw_wired_action_set);return $a=[mw_wired_action_set["$[]"]($$("THE_MIDDLEWARE_ITSELF"))],$send(mw_actions,"wired_actions=",$a),$a[$a.length-1]}),{$$arity:1,$$s:self});return self.middleware_names=$send(middlewares,"map",[],"name".$to_proc()).$to_set()}),5);self.$attr_reader("app","middleware_names");$def(self,"$app_wired_actions",(function $$app_wired_actions(){var self=this;return self.hash["$[]"]($$("I_AM_APP_NOT_A_MIDDLEWARE"))}),0);return $def(self,"$[]",(function $WiredActionSet_$$$2(name){var self=this;return self.hash.$fetch(name)}),1)}($nesting[0],null,$nesting)}($nesting[0],$nesting)};Opal.modules["ovto/middleware"]=function(Opal){var $nesting=[],nil=Opal.nil,$$$=Opal.$$$,$module=Opal.module,$const_set=Opal.const_set,$truthy=Opal.truthy,$send=Opal.send,$defs=Opal.defs,$hash2=Opal.hash2,$lambda=Opal.lambda,$klass=Opal.klass,$assign_ivar=Opal.assign_ivar,$def=Opal.def,$return_val=Opal.return_val,$return_ivar=Opal.return_ivar,$send2=Opal.send2,$find_super=Opal.find_super;Opal.add_stubs("=~,raise,new,const_set,const_get,each,item,name,create_middleware_states_class,middlewares,inject,__send__,_middlewares,push,[],setup,_run_setup,attr_reader,class,dig_middleware_state");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$const_set($nesting[0],"VALID_NAME_REXP",/^[a-zA-Z0-9_]+$/);$defs(self,"$Middleware",(function $$Middleware(name){var self=this;if(!$truthy($$("VALID_NAME_REXP")["$=~"](name))){self.$raise("invalid middleware name: "+name)}return $send($$("Class"),"new",[$$$($$$($$("Ovto"),"Middleware"),"Base")],(function $$1(){var self=$$1.$$s==null?this:$$1.$$s;self.$const_set("OVTO_MIDDLEWARE_NAME",name);self.$const_set("State",$$$($$("Ovto"),"State"));self.$const_set("Actions",$$("Class").$new($$$($$$($$("Ovto"),"Middleware"),"Actions")));self.$const_get("Actions").$const_set("OVTO_MIDDLEWARE_NAME",name);self.$const_set("Component",$$("Class").$new($$$($$$($$("Ovto"),"Middleware"),"Component")));return self.$const_get("Component").$const_set("OVTO_MIDDLEWARE_NAME",name)}),{$$arity:0,$$s:self})}),1);(function($base,$parent_nesting){var self=$module($base,"Middleware");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$create_middleware_states_class",(function $$create_middleware_states_class(middlewares){var self=this;return $send($$("Class"),"new",[$$$($$("Ovto"),"State")],(function $$2(){var self=$$2.$$s==null?this:$$2.$$s;return $send(middlewares,"each",[],(function $$3(m){var self=$$3.$$s==null?this:$$3.$$s;if(m==null)m=nil;return self.$item(m.$name(),$hash2(["default_proc"],{default_proc:$lambda((function $$4(){var mw_state_class=nil;mw_state_class=m.$const_get("State");mw_state_class.$item("_middlewares",$hash2(["default_proc"],{default_proc:$lambda((function $$5(){return $$$($$("Ovto"),"Middleware").$create_middleware_states_class(m.$middlewares()).$new()}),0)}));return mw_state_class.$new()}),0)}))}),{$$arity:1,$$s:self})}),{$$arity:0,$$s:self})}),1);return $defs(self,"$dig_middleware_state",(function $$dig_middleware_state(app_state,middleware_path){return $send(middleware_path,"inject",[app_state],(function $$6(state,middleware_name){if(state==null)state=nil;if(middleware_name==null)middleware_name=nil;return state.$_middlewares().$__send__(middleware_name)}),2)}),2)})($nesting[0],$nesting);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Base");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$defs(self,"$middlewares",(function $$middlewares(){var self=this,$ret_or_1=nil;if(self.middlewares==null)self.middlewares=nil;return self.middlewares=$truthy($ret_or_1=self.middlewares)?$ret_or_1:[]}),0);$defs(self,"$use",(function $$use(middleware_class){var self=this;return self.$middlewares().$push(middleware_class)}),1);$defs(self,"$name",(function $$name(){var self=this;return self.$const_get("OVTO_MIDDLEWARE_NAME")}),0);$defs(self,"$_run_setup",(function $$_run_setup(wired_action_set){var self=this,mw=nil;mw=self.$new(wired_action_set["$[]"]($$$($$("WiredActionSet"),"THE_MIDDLEWARE_ITSELF")));mw.$setup();return $send(self.$middlewares(),"each",[],(function $$7(m){if(m==null)m=nil;return m.$_run_setup(wired_action_set["$[]"](m.$name()))}),1)}),1);$def(self,"$initialize",$assign_ivar("wired_actions"),0);$def(self,"$setup",$return_val(nil),0);return $def(self,"$actions",$return_ivar("wired_actions"),0)})($$("Middleware"),null,$nesting);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Actions");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.middleware_path=nil;$def(self,"$initialize",$assign_ivar("middleware_path"),0);self.$attr_reader("middleware_path");$def(self,"$middleware_name",(function $$middleware_name(){var self=this;return $$$(self.$class(),"OVTO_MIDDLEWARE_NAME")}),0);return $def(self,"$state",(function $$state(){var $yield=$$state.$$p||nil,self=this,app_state=nil;delete $$state.$$p;app_state=$send2(self,$find_super(self,"state",$$state,false,true),"state",[],$yield);return $$$($$("Ovto"),"Middleware").$dig_middleware_state(app_state,self.middleware_path)}),0)})($$("Middleware"),$$$($$("Ovto"),"Actions"),$nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"Component");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting),$proto=self.$$prototype;$proto.middleware_path=nil;$defs(self,"$middleware_name",(function $$middleware_name(){var self=this;return $$$(self,"OVTO_MIDDLEWARE_NAME")}),0);$def(self,"$middleware_name",(function $$middleware_name(){var self=this;return $$$(self.$class(),"OVTO_MIDDLEWARE_NAME")}),0);return $def(self,"$state",(function $$state(){var $yield=$$state.$$p||nil,self=this,app_state=nil;delete $$state.$$p;app_state=$send2(self,$find_super(self,"state",$$state,false,true),"state",[],$yield);return $$$($$("Ovto"),"Middleware").$dig_middleware_state(app_state,self.middleware_path)}),0)}($$("Middleware"),$$$($$("Ovto"),"Component"),$nesting)}($nesting[0],$nesting)};Opal.modules["ovto"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$gvars=Opal.gvars,$def=Opal.def,$module=Opal.module,$return_ivar=Opal.return_ivar,$defs=Opal.defs,$assign_ivar=Opal.assign_ivar,$truthy=Opal.truthy,$rb_plus=Opal.rb_plus,$send=Opal.send,$hash2=Opal.hash2,$hash=Opal.hash;Opal.add_stubs("require,log,console,+,inspect,call,raise,name,class,Array,backtrace,parameters,method,nil?,any?,==,[],merge,__send__,to_proc,empty?");self.$require("opal");self.$require("console");$def(self,"$console",(function $$console(){if($gvars.console==null)$gvars.console=nil;return $gvars.console}),0);self.$require("./ovto.rb"+"/../"+"ovto/actions");self.$require("./ovto.rb"+"/../"+"ovto/app");self.$require("./ovto.rb"+"/../"+"ovto/component");self.$require("./ovto.rb"+"/../"+"ovto/pure_component");self.$require("./ovto.rb"+"/../"+"ovto/fetch");self.$require("./ovto.rb"+"/../"+"ovto/runtime");self.$require("./ovto.rb"+"/../"+"ovto/state");self.$require("./ovto.rb"+"/../"+"ovto/version");self.$require("./ovto.rb"+"/../"+"ovto/wired_actions");self.$require("./ovto.rb"+"/../"+"ovto/wired_action_set");self.$require("./ovto.rb"+"/../"+"ovto/middleware");return function($base,$parent_nesting){var self=$module($base,"Ovto");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);self.debug_trace=false;$defs(self,"$debug_trace",$return_ivar("debug_trace"),0);$defs(self,"$debug_trace=",$assign_ivar("debug_trace"),0);$defs(self,"$debug_trace_log",(function $$debug_trace_log(msg){var self=this;if(self.debug_trace==null)self.debug_trace=nil;if($truthy(self.debug_trace)){return self.$console().$log($rb_plus("Ovto: ",msg))}else{return nil}}),1);$defs(self,"$inspect",(function $$inspect(obj){if($truthy(obj.$inspect)){return obj.$inspect()}else{return JSON.stringify(obj)||"undefined"}}),1);$defs(self,"$log_error",(function $$log_error(){var block=$$log_error.$$p||nil,self=this,ex=nil,div=nil;delete $$log_error.$$p;try{return block.$call()}catch($err){if(Opal.rescue($err,[$$("Exception")])){ex=$err;try{if($truthy(typeof document==="undefined")){self.$raise(ex)}div=document.getElementById("ovto-debug");if($truthy(div&&!ex.OvtoPrinted)){div.textContent="ERROR: "+ex.$class().$name();var ul=document.createElement("ul");self.$Array(ex.$backtrace()).forEach((function(line){var li=document.createElement("li");li.textContent=line;ul.appendChild(li)}));div.appendChild(ul);ex.OvtoPrinted=true}return self.$raise(ex)}finally{Opal.pop_exception()}}else{throw $err}}}),0);return $defs(self,"$send_args_with_state",(function $$send_args_with_state(obj,meth,args,state){var block=$$send_args_with_state.$$p||nil,parameters=nil,accepts_state=nil,$ret_or_1=nil,$ret_or_2=nil,args_with_state=nil;delete $$send_args_with_state.$$p;parameters=obj.$method(meth).$parameters();accepts_state=$truthy($ret_or_1=$truthy($ret_or_2=!parameters)?$ret_or_2:parameters["$nil?"]())?$ret_or_1:$send(parameters,"any?",[],(function $$1(item){var $ret_or_3=nil;if(item==null)item=nil;if($truthy($ret_or_2=$truthy($ret_or_3=item["$=="](["key","state"]))?$ret_or_3:item["$=="](["keyreq","state"]))){return $ret_or_2}else{return item["$[]"](0)["$=="]("keyrest")}}),1);if($truthy(accepts_state)){args_with_state=$hash2(["state"],{state:state}).$merge(args);return $send(obj,"__send__",[meth,Opal.to_hash(args_with_state)],block.$to_proc())}else if($truthy(args["$empty?"]())){return $send(obj,"__send__",[meth],block.$to_proc())}else{return $send(obj,"__send__",[meth,Opal.to_hash(args)],block.$to_proc())}}),4)}($nesting[0],$nesting)};Opal.queue((function(Opal){var self=Opal.top,$nesting=[],$$=Opal.$r($nesting),nil=Opal.nil,$$$=Opal.$$$,$klass=Opal.klass,$const_set=Opal.const_set,$hash2=Opal.hash2,$send=Opal.send,$def=Opal.def,$hash=Opal.hash,$defs=Opal.defs,$lambda=Opal.lambda,$to_ary=Opal.to_ary,$eqeq=Opal.eqeq;Opal.add_stubs("require,colors,state,reverse_each,select_part,actions,select_color,save,item,to_h,keys,rand,length,first,[],to_json,paint,selected_part,merge,each,o,each_key,download_image,value,target,==,capitalize,color_name,with_index,selected_color,[]=,run");self.$require("ovto");(function($base,$super,$parent_nesting){var self=$klass($base,$super,"ClockCapSimulator");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$const_set($nesting[0],"AREAS",$hash2(["dial","numbers","crown","base","hand"],{dial:[1],numbers:[2],crown:[3],base:[4],hand:[6]}));$const_set($nesting[0],"COLORS",[["Dead White","rgb(255,255,255)"],["Moon Yellow","rgb(255,247,0)"],["Sun Yellow","rgb(255,231,0)"],["Gold Yellow","rgb(255,206,0)"],["Orange Gire","rgb(255,123,0)"],["Hot Orange","rgb(255,49,8)"],["Bloody Red","rgb(206,0,24)"],["Gory Red","rgb(148,0,8)"],["Scarlett Red","rgb(153,0,51)"],["Squid Pink","rgb(239,156,181)"],["Warlord Purple","rgb(156,0,74)"],["Hexed Lichen","rgb(51, 41, 73)"],["Royal Purple","rgb(86,47,126)"],["Dark Blue","rgb(49,99,156)"],["Stormy Blue","rgb(39,53,126)"],["Night Blue","rgb(59,77,119)"],["Imperial Blue","rgb(8,8,90)"],["Magic Blue","rgb(49,99,156)"],["Ultramarine Blue","rgb(41,57,123)"],["Electric Blue","rgb(139,185,221)"],["Turqoise","rgb(0,107,90)"],["Foul Green","rgb(130,197,156)"],["Jade Green","rgb(6,155,125)"],["Scurvy Green","rgb(2,107,103)"],["Dark Green","rgb(45,75,64)"],["Sick Green","rgb(16,107,33)"],["Goblin Green","rgb(99,181,33)"],["Camouflage Green","rgb(165,165,66)"],["Escorpena Green","rgb(76,168,60)"],["Livery Green","rgb(169,209,113)"],["Bonewhite","rgb(239,217,168)"],["Dead Flesh","rgb(231,239,198)"],["Bronze Fleshtone","rgb(247,148,74)"],["Filthy Brown","rgb(222,148,8)"],["Scrofulous Brown","rgb(216,142,45)"],["Plague Brown","rgb(198,132,0)"],["Leather Brown","rgb(156,107,8)"],["Dwarf Skin","rgb(247,140,90)"],["Parasite Brown","rgb(132,57,16)"],["Beasty Brown","rgb(102,51,0)"],["Dark Fleshtone","rgb(99,8,8)"],["Charred Brown","rgb(57,0,8)"],["Ghost Grey","rgb(195,198,205)"],["Wolf Grey","rgb(206,222,231)"],["Sombre Grey","rgb(71, 91, 119)"],["Stonewall Grey","rgb(181,181,181)"],["Cold Grey","rgb(153,153,153)"],["Black","rgb(1, 6, 6)"],["Silver","rgb(181,181,189)"],["Chainmal Silver","rgb(123,115,123)"],["Gunmetal","rgb(57,57,57)"],["Bright Bronze","rgb(156,82,33)"],["Brassy Brass","rgb(115,90,33)"],["Hammered Copper","rgb(115,55,45)"],["Tinny Tin","rgb(57,49,33)"],["Kakhi","rgb(155,140,123)"],["Earth","rgb(101,81,56)"],["Desert Yellow","rgb(156,136,85)"],["Yellow Olive","rgb(6, 59, 46)"],["Terracota","rgb(121,55,33)"],["Tan","rgb(169,92,62)"],["Cayman Green","rgb(69,84,64)"],["Smokey","rgb(44,24,24)"],["Lavender","rgb(147,112,219)"]]);$def(self,"$setup",(function $$setup(){var self=this,colors=nil;colors=self.$state().$colors();try{nil}catch($err){if(Opal.rescue($err,[$$("StandardError")])){try{nil}finally{Opal.pop_exception()}}else{throw $err}}$send(colors,"reverse_each",[],(function $$1(part_name,color_idx){var self=$$1.$$s==null?this:$$1.$$s;if(part_name==null)part_name=nil;if(color_idx==null)color_idx=nil;self.$actions().$select_part($hash2(["part_name"],{part_name:part_name}));return self.$actions().$select_color($hash2(["color_idx"],{color_idx:color_idx}))}),{$$arity:2,$$s:self});return setInterval((function(){self.$state().$save()}),1e3)}),0);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"State");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);self.$item("colors",$hash2(["default"],{default:$send($$("AREAS").$keys(),"to_h",[],(function $State$2(part_name){var self=$State$2.$$s==null?this:$State$2.$$s;if(part_name==null)part_name=nil;return[part_name,self.$rand(Opal.Range.$new(0,$$("COLORS").$length(),true))]}),{$$arity:1,$$s:self})}));self.$item("selected_part",$hash2(["default"],{default:$$("AREAS").$keys().$first()}));self.$item("selected_color",$hash2(["default"],{default:0}));$def(self,"$color_name",(function $$color_name(part_name){var self=this,idx=nil;idx=self.$colors()["$[]"](part_name);return $$("COLORS")["$[]"](idx)["$[]"](0)}),1);return $def(self,"$save",(function $$save(){var self=this;return localStorage.setItem("colors",self.$colors().$to_json())}),0)})($nesting[0],$$$($$("Ovto"),"State"),$nesting);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"Actions");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$select_part",(function $$select_part($kwargs){var part_name;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if(!Opal.hasOwnProperty.call($kwargs.$$smap,"part_name")){throw Opal.ArgumentError.$new("missing keyword: part_name")}part_name=$kwargs.$$smap["part_name"];return $hash2(["selected_part"],{selected_part:part_name})}),1);$def(self,"$select_color",(function $$select_color($kwargs){var color_idx,self=this;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if(!Opal.hasOwnProperty.call($kwargs.$$smap,"color_idx")){throw Opal.ArgumentError.$new("missing keyword: color_idx")}color_idx=$kwargs.$$smap["color_idx"];$$("Actions").$paint(self.$state().$selected_part(),$$("COLORS")["$[]"](color_idx)["$[]"](1));return $hash2(["selected_color","colors"],{selected_color:color_idx,colors:self.$state().$colors().$merge($hash(self.$state().$selected_part(),color_idx))})}),1);return $defs(self,"$paint",(function $$paint(part_name,svg_color){var svg=nil;svg=document.getElementById("clockcap-svg");return $send($$("AREAS")["$[]"](part_name),"each",[],(function $$3(idx){var sel=nil;if(idx==null)idx=nil;sel="#clockcap-svg path:nth-child("+idx+")";return svg.querySelector(sel).setAttribute("fill",svg_color)}),1)}),2)})($nesting[0],$$$($$("Ovto"),"Actions"),$nesting);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"MainComponent");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$render",(function $$render(){var self=this;return $send(self,"o",["#MainComponent"],(function $$4(){var self=$$4.$$s==null?this:$$4.$$s;self.$o($$("DownloadButton"));$send($$("AREAS"),"each_key",[],(function $$5(part_name){var self=$$5.$$s==null?this:$$5.$$s;if(part_name==null)part_name=nil;return self.$o($$("PartSelector"),$hash2(["part_name"],{part_name:part_name}))}),{$$arity:1,$$s:self});self.$o("br");return self.$o($$("ColorList"))}),{$$arity:0,$$s:self})}),0);(function($base,$super,$parent_nesting){var self=$klass($base,$super,"DownloadButton");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);return $def(self,"$render",(function $$render(){var self=this;return self.$o("input",$hash2(["type","value","onclick"],{type:"button",value:"Download Image",onclick:$lambda((function $$6(){return $$("ClockCapSimulator").$download_image()}),0)}))}),0)})($nesting[0],$$$($$("Ovto"),"Component"),$nesting);(function($base,$super){var self=$klass($base,$super,"PartSelector");return $def(self,"$render",(function $$render($kwargs){var part_name,self=this;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if(!Opal.hasOwnProperty.call($kwargs.$$smap,"part_name")){throw Opal.ArgumentError.$new("missing keyword: part_name")}part_name=$kwargs.$$smap["part_name"];return $send(self,"o",[".PartSelector"],(function $$7(){var self=$$7.$$s==null?this:$$7.$$s;self.$o("input",$hash2(["type","id","value","onchange","checked"],{type:"radio",id:part_name,value:part_name,onchange:$lambda((function $$8(e){var self=$$8.$$s==null?this:$$8.$$s;if(e==null)e=nil;return self.$actions().$select_part($hash2(["part_name"],{part_name:e.$target().$value()}))}),{$$arity:1,$$s:self}),checked:self.$state().$selected_part()["$=="](part_name)}));return self.$o("label",$hash2(["for"],{for:part_name}),"["+part_name.$capitalize()+"] "+self.$state().$color_name(part_name))}),{$$arity:0,$$s:self})}),1)})($nesting[0],$$$($$("Ovto"),"Component"));return function($base,$super,$parent_nesting){var self=$klass($base,$super,"ColorList");var $nesting=[self].concat($parent_nesting),$$=Opal.$r($nesting);$def(self,"$render",(function $$render(){var self=this;return $send(self,"o",[".ColorList",$hash2(["style"],{style:$hash2(["display","flex-wrap"],{display:"flex","flex-wrap":"wrap"})})],(function $$9(){var self=$$9.$$s==null?this:$$9.$$s;return $send($$("COLORS").$each(),"with_index",[],(function $$10($mlhs_tmp1,i){var $a,$b,self=$$10.$$s==null?this:$$10.$$s,_=nil,rgb=nil;if($mlhs_tmp1==null)$mlhs_tmp1=nil;if(i==null)i=nil;$b=$mlhs_tmp1,$a=$to_ary($b),_=$a[0]==null?nil:$a[0],rgb=$a[1]==null?nil:$a[1],$b;return self.$o($$("ColorPicker"),$hash2(["rgb","idx"],{rgb:rgb,idx:i}))}),{$$arity:2,$$s:self,$$has_top_level_mlhs_arg:true})}),{$$arity:0,$$s:self})}),0);return function($base,$super){var self=$klass($base,$super,"ColorPicker");return $def(self,"$render",(function $$render($kwargs){var rgb,idx,self=this,style=nil;if($kwargs==null){$kwargs=$hash2([],{})}else if(!$kwargs.$$is_hash){throw Opal.ArgumentError.$new("expected kwargs")}if(!Opal.hasOwnProperty.call($kwargs.$$smap,"rgb")){throw Opal.ArgumentError.$new("missing keyword: rgb")}rgb=$kwargs.$$smap["rgb"];if(!Opal.hasOwnProperty.call($kwargs.$$smap,"idx")){throw Opal.ArgumentError.$new("missing keyword: idx")}idx=$kwargs.$$smap["idx"];style=$hash2(["width","height","background"],{width:"20px",height:"20px",background:rgb});if($eqeq(self.$state().$selected_color(),idx)){style["$[]="]("border-radius","10px")}return self.$o(".ColorPicker",$hash2(["style","onclick"],{style:style,onclick:$lambda((function $$11(e){var self=$$11.$$s==null?this:$$11.$$s;if(e==null)e=nil;return self.$actions().$select_color($hash2(["color_idx"],{color_idx:idx}))}),{$$arity:1,$$s:self})}),"")}),1)}($nesting[0],$$$($$("Ovto"),"Component"))}($nesting[0],$$$($$("Ovto"),"Component"),$nesting)})($nesting[0],$$$($$("Ovto"),"Component"),$nesting);return $defs(self,"$download_image",(function $$download_image(){var filename=nil;filename="clockcap.png";const svg=document.getElementById("clockcap-svg");const svgData=(new XMLSerializer).serializeToString(svg);const canvas=document.createElement("canvas");canvas.width=svg.width.baseVal.value;canvas.height=svg.height.baseVal.value;const ctx=canvas.getContext("2d");const image=new Image;image.onload=function(){ctx.drawImage(image,0,0);const a=document.createElement("a");a.href=canvas.toDataURL("image/png");a.setAttribute("download",filename);a.dispatchEvent(new MouseEvent("click"))};image.src="data:image/svg+xml;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(svgData)))}),0)})($nesting[0],$$$($$("Ovto"),"App"),$nesting);return $$("ClockCapSimulator").$run($hash2(["id"],{id:"ovto"}))}));Opal.queue((function(Opal){var nil=Opal.nil,$Kernel=Opal.Kernel;Opal.add_stubs("exit");return $Kernel.$exit()}));
</script>
